import{l as e,g as t,eo as l,bT as o,ep as r,dq as a,dD as n,f as s,bZ as i,r as c,j as d,i as u,m as h,a_ as m,k as f,S as p,dE as w,J as g,dk as y,cg as v,e1 as x,dx as b,ek as S,e5 as R,b$ as T,cf as C,dV as H,en as I,b as E,p as M,em as O,n as L,c0 as D,eq as W,ap as z,dj as K,F as A,er as N,bS as F,al as j,ae as k,b4 as G,bF as $,es as V,bm as B,dM as P,et as q,eu as U,dU as _,c3 as Y,v as X,bY as J,ev as Z,z as Q,O as ee,ew as te,L as le,o as oe,w as re,a1 as ae,C as ne,aq as se,ar as ie,c as ce,D as de,aL as ue,aM as he,t as me,a as fe,G as pe,_ as we}from"./BY9EIVYr.js";import{B as ge}from"./DuT2dQq8.js";import{c as ye,r as ve}from"./B7cUFrfB.js";import{E as xe}from"./DBQWc8Xl.js";var be=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Se(e,t){if(e.length!==t.length)return!1;for(var l=0;l<e.length;l++)if(o=e[l],r=t[l],!(o===r||be(o)&&be(r)))return!1;var o,r;return!0}const Re=()=>{const o=e().proxy.$props;return t((()=>{const e=(e,t,l)=>({});return o.perfMode?l(e):function(e,t){void 0===t&&(t=Se);var l=null;function o(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];if(l&&l.lastThis===this&&t(o,l.lastArgs))return l.lastResult;var a=e.apply(this,o);return l={lastResult:a,lastArgs:o,lastThis:this},a}return o.clear=function(){l=null},o}(e)}))},Te="itemRendered",Ce="scroll",He="forward",Ie="backward",Ee="auto",Me="smart",Oe="start",Le="center",De="end",We="horizontal",ze="vertical",Ke="negative",Ae="positive-ascending",Ne="positive-descending",Fe={[We]:"left",[ze]:"top"},je=r({type:a([Number,Function]),required:!0}),ke=r({type:Number}),Ge=r({type:Number,default:2}),$e=r({type:String,values:["ltr","rtl"],default:"ltr"}),Ve=r({type:Number,default:0}),Be=r({type:Number,required:!0}),Pe=r({type:String,values:["horizontal","vertical"],default:ze}),qe=o({className:{type:String,default:""},containerElement:{type:a([String,Object]),default:"div"},data:{type:a(Array),default:()=>n([])},direction:$e,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:a([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),Ue=o({cache:Ge,estimatedItemSize:ke,layout:Pe,initScrollOffset:Ve,total:Be,itemSize:je,...qe}),_e={type:Number,default:6},Ye={type:Number,default:0},Xe={type:Number,default:2},Je=o({columnCache:Ge,columnWidth:je,estimatedColumnWidth:ke,estimatedRowHeight:ke,initScrollLeft:Ve,initScrollTop:Ve,itemKey:{type:a(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:Ge,rowHeight:je,totalColumn:Be,totalRow:Be,hScrollbarSize:_e,vScrollbarSize:_e,scrollbarStartGap:Ye,scrollbarEndGap:Xe,role:String,...qe}),Ze=o({alwaysOn:Boolean,class:String,layout:Pe,total:Be,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:_e,startGap:Ye,endGap:Xe,visible:Boolean}),Qe=(e,t)=>e<t?He:Ie,et=e=>"rtl"===e;let tt=null;function lt(e=!1){if(null===tt||e){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const l=document.createElement("div"),o=l.style;return o.width="100px",o.height="100px",e.appendChild(l),document.body.appendChild(e),e.scrollLeft>0?tt=Ne:(e.scrollLeft=1,tt=0===e.scrollLeft?Ke:Ae),document.body.removeChild(e),tt}return tt}const ot=s({name:"ElVirtualScrollBar",props:Ze,emits:["scroll","start-move","stop-move"],setup(e,{emit:l}){const o=t((()=>e.startGap+e.endGap)),r=i("virtual-scrollbar"),a=i("scrollbar"),n=c(),s=c();let w=null,g=null;const y=d({isDragging:!1,traveled:0}),v=t((()=>ge[e.layout])),x=t((()=>e.clientSize-u(o))),b=t((()=>({position:"absolute",width:`${We===e.layout?x.value:e.scrollbarSize}px`,height:`${We===e.layout?e.scrollbarSize:x.value}px`,[Fe[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"}))),S=t((()=>{const t=e.ratio;if(t>=100)return Number.POSITIVE_INFINITY;if(t>=50)return t*x.value/100;const l=x.value/3;return Math.floor(Math.min(Math.max(t*x.value,20),l))})),R=t((()=>{if(!Number.isFinite(S.value))return{display:"none"};const t=`${S.value}px`,l=function({move:e,size:t,bar:l},o){const r={},a=`translate${l.axis}(${e}px)`;return r[l.size]=t,r.transform=a,"horizontal"===o?r.height="100%":r.width="100%",r}({bar:v.value,size:t,move:y.traveled},e.layout);return l})),T=t((()=>Math.ceil(e.clientSize-S.value-u(o)))),C=()=>{window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",I),document.onselectstart=g,g=null;const e=u(s);e&&(e.removeEventListener("touchmove",E),e.removeEventListener("touchend",I))},H=e=>{e.stopImmediatePropagation(),e.ctrlKey||[1,2].includes(e.button)||(y.isDragging=!0,y[v.value.axis]=e.currentTarget[v.value.offset]-(e[v.value.client]-e.currentTarget.getBoundingClientRect()[v.value.direction]),l("start-move"),(()=>{window.addEventListener("mousemove",E),window.addEventListener("mouseup",I);const e=u(s);e&&(g=document.onselectstart,document.onselectstart=()=>!1,e.addEventListener("touchmove",E,{passive:!0}),e.addEventListener("touchend",I))})())},I=()=>{y.isDragging=!1,y[v.value.axis]=0,l("stop-move"),C()},E=e=>{const{isDragging:t}=y;if(!t)return;if(!s.value||!n.value)return;const o=y[v.value.axis];if(!o)return;ye(w);const r=-1*(n.value.getBoundingClientRect()[v.value.direction]-e[v.value.client])-(s.value[v.value.offset]-o);w=ve((()=>{y.traveled=Math.max(0,Math.min(r,T.value)),l("scroll",r,T.value)}))},M=e=>{const t=Math.abs(e.target.getBoundingClientRect()[v.value.direction]-e[v.value.client])-s.value[v.value.offset]/2;y.traveled=Math.max(0,Math.min(t,T.value)),l("scroll",t,T.value)};return h((()=>e.scrollFrom),(e=>{y.isDragging||(y.traveled=Math.ceil(e*T.value))})),m((()=>{C()})),()=>f("div",{role:"presentation",ref:n,class:[r.b(),e.class,(e.alwaysOn||y.isDragging)&&"always-on"],style:b.value,onMousedown:p(M,["stop","prevent"]),onTouchstartPrevent:H},f("div",{ref:s,class:a.e("thumb"),style:R.value,onMousedown:H},[]))}});var rt=(e=>(e.ASC="asc",e.DESC="desc",e))(rt||{}),at=(e=>(e.CENTER="center",e.RIGHT="right",e))(at||{}),nt=(e=>(e.LEFT="left",e.RIGHT="right",e))(nt||{});const st={asc:"desc",desc:"asc"},it=Symbol("placeholder");const ct=(l,{mainTableRef:o,leftTableRef:r,rightTableRef:a,tableInstance:n,ns:s,isScrolling:i})=>{const d=e(),{emit:h}=d,m=g(!1),f=c(l.defaultExpandedRowKeys||[]),p=c(-1),w=g(null),x=c({}),b=c({}),S=g({}),R=g({}),T=g({}),C=t((()=>y(l.estimatedRowHeight)));const H=v((()=>{var e,t,l,n;m.value=!0,x.value={...u(x),...u(b)},I(u(w),!1),b.value={},w.value=null,null==(e=o.value)||e.forceUpdate(),null==(t=r.value)||t.forceUpdate(),null==(l=a.value)||l.forceUpdate(),null==(n=d.proxy)||n.$forceUpdate(),m.value=!1}),0);function I(e,t=!1){u(C)&&[o,r,a].forEach((l=>{const o=u(l);o&&o.resetAfterRowIndex(e,t)}))}return{expandedRowKeys:f,lastRenderedRowIndex:p,isDynamic:C,isResetting:m,rowHeights:x,resetAfterIndex:I,onRowExpanded:function({expanded:e,rowData:t,rowIndex:o,rowKey:r}){var a,n;const s=[...u(f)],i=s.indexOf(r);e?-1===i&&s.push(r):i>-1&&s.splice(i,1),f.value=s,h("update:expandedRowKeys",s),null==(a=l.onRowExpand)||a.call(l,{expanded:e,rowData:t,rowIndex:o,rowKey:r}),null==(n=l.onExpandedRowsChange)||n.call(l,s)},onRowHovered:function({hovered:e,rowKey:t}){if(i.value)return;n.vnode.el.querySelectorAll(`[rowkey="${String(t)}"]`).forEach((t=>{e?t.classList.add(s.is("hovered")):t.classList.remove(s.is("hovered"))}))},onRowsRendered:function(e){var t;null==(t=l.onRowsRendered)||t.call(l,e),e.rowCacheEnd>u(p)&&(p.value=e.rowCacheEnd)},onRowHeightChange:function({rowKey:e,height:t,rowIndex:l},o){o?o===nt.RIGHT?T.value[e]=t:S.value[e]=t:R.value[e]=t;const r=Math.max(...[S,T,R].map((t=>t.value[e]||0)));u(x)[e]!==r&&(!function(e,t,l){const o=u(w);(null===o||o>l)&&(w.value=l),b.value[e]=t}(e,r,l),H())}}},dt=(e,t)=>e+t,ut=e=>x(e)?e.reduce(dt,0):e,ht=(e,t,l={})=>R(e)?e(t):null!=e?e:l,mt=e=>(["width","maxWidth","minWidth","height"].forEach((t=>{e[t]=b(e[t])})),e),ft=e=>S(e)?t=>f(e,t):e;function pt(l){const o=c(),r=c(),a=c(),{columns:n,columnsStyles:s,columnsTotalWidth:d,fixedColumnsOnLeft:m,fixedColumnsOnRight:f,hasFixedColumns:p,mainColumns:v,onColumnSorted:S}=function(e,l,o){const r=t((()=>u(l).map(((e,t)=>{var l,o;return{...e,key:null!=(o=null!=(l=e.key)?l:e.dataKey)?o:t}})))),a=t((()=>u(r).filter((e=>!e.hidden)))),n=t((()=>u(a).filter((e=>"left"===e.fixed||!0===e.fixed)))),s=t((()=>u(a).filter((e=>"right"===e.fixed)))),i=t((()=>u(a).filter((e=>!e.fixed)))),c=t((()=>{const e=[];return u(n).forEach((t=>{e.push({...t,placeholderSign:it})})),u(i).forEach((t=>{e.push(t)})),u(s).forEach((t=>{e.push({...t,placeholderSign:it})})),e})),d=t((()=>u(n).length||u(s).length)),h=t((()=>u(r).reduce(((t,l)=>(t[l.key]=((e,t,l)=>{var o;const r={flexGrow:0,flexShrink:0,...l?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};l||(r.flexShrink=1);const a={...null!=(o=e.style)?o:{},...r,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(a.maxWidth=e.maxWidth),e.minWidth&&(a.minWidth=e.minWidth)),a})(l,u(o),e.fixed),t)),{}))),m=t((()=>u(a).reduce(((e,t)=>e+t.width),0))),f=e=>u(r).find((t=>t.key===e));return{columns:r,columnsStyles:h,columnsTotalWidth:m,fixedColumnsOnLeft:n,fixedColumnsOnRight:s,hasFixedColumns:d,mainColumns:c,normalColumns:i,visibleColumns:a,getColumn:f,getColumnStyle:e=>u(h)[e],updateColumnWidth:(e,t)=>{e.width=t},onColumnSorted:function(t){var l;const{key:o}=t.currentTarget.dataset;if(!o)return;const{sortState:r,sortBy:a}=e;let n=rt.ASC;n=w(r)?st[r[o]]:st[a.order],null==(l=e.onColumnSort)||l.call(e,{column:f(o),key:o,order:n})}}}(l,T(l,"columns"),T(l,"fixed")),{scrollTo:R,scrollToLeft:C,scrollToTop:H,scrollToRow:I,onScroll:E,onVerticalScroll:M,scrollPos:O}=((e,{mainTableRef:t,leftTableRef:l,rightTableRef:o,onMaybeEndReached:r})=>{const a=c({scrollLeft:0,scrollTop:0});function n(e){var r,a,n;const{scrollTop:s}=e;null==(r=t.value)||r.scrollTo(e),null==(a=l.value)||a.scrollToTop(s),null==(n=o.value)||n.scrollToTop(s)}function s(e){a.value=e,n(e)}function i(e){a.value.scrollTop=e,n(u(a))}return h((()=>u(a).scrollTop),((e,t)=>{e>t&&r()})),{scrollPos:a,scrollTo:s,scrollToLeft:function(e){var l,o;a.value.scrollLeft=e,null==(o=null==(l=t.value)?void 0:l.scrollTo)||o.call(l,u(a))},scrollToTop:i,scrollToRow:function(e,l="auto"){var o;null==(o=t.value)||o.scrollToRow(e,l)},onScroll:function(t){var l;s(t),null==(l=e.onScroll)||l.call(e,t)},onVerticalScroll:function({scrollTop:e}){const{scrollTop:t}=u(a);e!==t&&i(e)}}})(l,{mainTableRef:o,leftTableRef:r,rightTableRef:a,onMaybeEndReached:function(){const{onEndReached:e}=l;if(!e)return;const{scrollTop:t}=u(O),o=u(q),r=u(Z),a=o-(t+r)+l.hScrollbarSize;!ae.value&&u(K)>=0&&o<=t+u(Y)-u(le)?(ae.value=!0,e(a)):ae.value=!1}}),L=i("table-v2"),D=e(),W=g(!1),{expandedRowKeys:z,lastRenderedRowIndex:K,isDynamic:A,isResetting:N,rowHeights:F,resetAfterIndex:j,onRowExpanded:k,onRowHeightChange:G,onRowHovered:$,onRowsRendered:V}=ct(l,{mainTableRef:o,leftTableRef:r,rightTableRef:a,tableInstance:D,ns:L,isScrolling:W}),{data:B,depthMap:P}=((e,{expandedRowKeys:l,lastRenderedRowIndex:o,resetAfterIndex:r})=>{const a=c({}),n=t((()=>{const t={},{data:o,rowKey:r}=e,n=u(l);if(!n||!n.length)return o;const s=[],i=new Set;n.forEach((e=>i.add(e)));let c=o.slice();for(c.forEach((e=>t[e[r]]=0));c.length>0;){const e=c.shift();s.push(e),i.has(e[r])&&x(e.children)&&e.children.length>0&&(c=[...e.children,...c],e.children.forEach((l=>t[l[r]]=t[e[r]]+1)))}return a.value=t,s})),s=t((()=>{const{data:t,expandColumnKey:l}=e;return l?u(n):t}));return h(s,((e,t)=>{e!==t&&(o.value=-1,r(0,!0))})),{data:s,depthMap:a}})(l,{expandedRowKeys:z,lastRenderedRowIndex:K,resetAfterIndex:j}),q=t((()=>{const{estimatedRowHeight:e,rowHeight:t}=l,o=u(B);return y(e)?Object.values(u(F)).reduce(((e,t)=>e+t),0):o.length*t})),{bodyWidth:U,fixedTableHeight:_,mainTableHeight:Y,leftTableWidth:X,rightTableWidth:J,windowHeight:Z,footerHeight:Q,emptyStyle:ee,rootStyle:te,headerHeight:le}=((e,{columnsTotalWidth:l,rowsHeight:o,fixedColumnsOnLeft:r,fixedColumnsOnRight:a})=>{const n=t((()=>{const{fixed:t,width:o,vScrollbarSize:r}=e,a=o-r;return t?Math.max(Math.round(u(l)),a):a})),s=t((()=>{const{height:t=0,maxHeight:l=0,footerHeight:r,hScrollbarSize:a}=e;if(l>0){const e=u(f),t=u(o),n=u(m)+e+t+a;return Math.min(n,l-r)}return t-r})),i=t((()=>{const{maxHeight:t}=e,l=u(s);if(y(t)&&t>0)return l;const r=u(o)+u(m)+u(f);return Math.min(l,r)})),c=e=>e.width,d=t((()=>ut(u(r).map(c)))),h=t((()=>ut(u(a).map(c)))),m=t((()=>ut(e.headerHeight))),f=t((()=>{var t;return((null==(t=e.fixedData)?void 0:t.length)||0)*e.rowHeight})),p=t((()=>u(s)-u(m)-u(f))),w=t((()=>{const{style:t={},height:l,width:o}=e;return mt({...t,height:l,width:o})})),g=t((()=>mt({height:e.footerHeight}))),v=t((()=>({top:b(u(m)),bottom:b(e.footerHeight),width:b(e.width)})));return{bodyWidth:n,fixedTableHeight:i,mainTableHeight:s,leftTableWidth:d,rightTableWidth:h,windowHeight:p,footerHeight:g,emptyStyle:v,rootStyle:w,headerHeight:m}})(l,{columnsTotalWidth:d,fixedColumnsOnLeft:m,fixedColumnsOnRight:f,rowsHeight:q}),oe=c(),re=t((()=>{const e=0===u(B).length;return x(l.fixedData)?0===l.fixedData.length&&e:e}));const ae=c(!1);return h((()=>u(q)),(()=>ae.value=!1)),h((()=>l.expandedRowKeys),(e=>z.value=e),{deep:!0}),{columns:n,containerRef:oe,mainTableRef:o,leftTableRef:r,rightTableRef:a,isDynamic:A,isResetting:N,isScrolling:W,hasFixedColumns:p,columnsStyles:s,columnsTotalWidth:d,data:B,expandedRowKeys:z,depthMap:P,fixedColumnsOnLeft:m,fixedColumnsOnRight:f,mainColumns:v,bodyWidth:U,emptyStyle:ee,rootStyle:te,footerHeight:Q,mainTableHeight:Y,fixedTableHeight:_,leftTableWidth:X,rightTableWidth:J,showEmpty:re,getRowHeight:function(e){const{estimatedRowHeight:t,rowHeight:o,rowKey:r}=l;return t?u(F)[u(B)[e][r]]||t:o},onColumnSorted:S,onRowHovered:$,onRowExpanded:k,onRowsRendered:V,onRowHeightChange:G,scrollTo:R,scrollToLeft:C,scrollToTop:H,scrollToRow:I,onScroll:E,onVerticalScroll:M}}const wt=Symbol("tableV2"),gt="tableV2GridScrollLeft",yt=String,vt={type:a(Array),required:!0},xt={type:a(Array)},bt={...xt,required:!0},St=String,Rt={type:a(Array),default:()=>n([])},Tt={type:Number,required:!0},Ct={type:a([String,Number,Symbol]),default:"id"},Ht={type:a(Object)},It=o({class:String,columns:vt,columnsStyles:{type:a(Object),required:!0},depth:Number,expandColumnKey:St,estimatedRowHeight:{...Je.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:a(Function)},onRowHover:{type:a(Function)},onRowHeightChange:{type:a(Function)},rowData:{type:a(Object),required:!0},rowEventHandlers:{type:a(Object)},rowIndex:{type:Number,required:!0},rowKey:Ct,style:{type:a(Object)}}),Et={type:Number,required:!0},Mt=o({class:String,columns:vt,fixedHeaderData:{type:a(Array)},headerData:{type:a(Array),required:!0},headerHeight:{type:a([Number,Array]),default:50},rowWidth:Et,rowHeight:{type:Number,default:50},height:Et,width:Et}),Ot=o({columns:vt,data:bt,fixedData:xt,estimatedRowHeight:It.estimatedRowHeight,width:Tt,height:Tt,headerWidth:Tt,headerHeight:Mt.headerHeight,bodyWidth:Tt,rowHeight:Tt,cache:Ue.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Je.scrollbarAlwaysOn,scrollbarStartGap:Je.scrollbarStartGap,scrollbarEndGap:Je.scrollbarEndGap,class:yt,style:Ht,containerStyle:Ht,getRowHeight:{type:a(Function),required:!0},rowKey:It.rowKey,onRowsRendered:{type:a(Function)},onScroll:{type:a(Function)}}),Lt=o({cache:Ot.cache,estimatedRowHeight:It.estimatedRowHeight,rowKey:Ct,headerClass:{type:a([String,Function])},headerProps:{type:a([Object,Function])},headerCellProps:{type:a([Object,Function])},headerHeight:Mt.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:a([String,Function])},rowProps:{type:a([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:a([Object,Function])},columns:vt,data:bt,dataGetter:{type:a(Function)},fixedData:xt,expandColumnKey:It.expandColumnKey,expandedRowKeys:Rt,defaultExpandedRowKeys:Rt,class:yt,fixed:Boolean,style:{type:a(Object)},width:Tt,height:Tt,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Je.hScrollbarSize,vScrollbarSize:Je.vScrollbarSize,scrollbarAlwaysOn:Ze.alwaysOn,sortBy:{type:a(Object),default:()=>({})},sortState:{type:a(Object),default:void 0},onColumnSort:{type:a(Function)},onExpandedRowsChange:{type:a(Function)},onEndReached:{type:a(Function)},onRowExpand:It.onRowExpand,onScroll:Ot.onScroll,onRowsRendered:Ot.onRowsRendered,rowEventHandlers:It.rowEventHandlers});var Dt=s({name:"ElTableV2Header",props:Mt,setup(e,{slots:l,expose:o}){const r=i("table-v2"),a=C(gt),n=c(),s=t((()=>mt({width:e.width,height:e.height}))),d=t((()=>mt({width:e.rowWidth,height:e.height}))),h=t((()=>H(u(e.headerHeight)))),m=e=>{const t=u(n);M((()=>{(null==t?void 0:t.scroll)&&t.scroll({left:e})}))},f=()=>{const t=r.e("fixed-header-row"),{columns:o,fixedHeaderData:a,rowHeight:n}=e;return null==a?void 0:a.map(((e,r)=>{var a;const s=mt({height:n,width:"100%"});return null==(a=l.fixed)?void 0:a.call(l,{class:t,columns:o,rowData:e,rowIndex:-(r+1),style:s})}))},p=()=>{const t=r.e("dynamic-header-row"),{columns:o}=e;return u(h).map(((e,r)=>{var a;const n=mt({width:"100%",height:e});return null==(a=l.dynamic)?void 0:a.call(l,{class:t,columns:o,headerIndex:r,style:n})}))};return I((()=>{(null==a?void 0:a.value)&&m(a.value)})),o({scrollToLeft:m}),()=>{if(!(e.height<=0))return E("div",{ref:n,class:e.class,style:u(s),role:"rowgroup"},[E("div",{style:u(d),class:r.e("header")},[p(),f()])])}}});const Wt=({name:l,clearCache:o,getColumnPosition:r,getColumnStartIndexForOffset:a,getColumnStopIndexForStartIndex:n,getEstimatedTotalHeight:d,getEstimatedTotalWidth:h,getColumnOffset:m,getRowOffset:p,getRowPosition:w,getRowStartIndexForOffset:g,getRowStopIndexForStartIndex:v,initCache:x,injectToInstance:b,validateProps:S})=>s({name:null!=l?l:"ElVirtualList",props:Je,emits:[Te,Ce],setup(l,{emit:s,expose:R,slots:T}){const C=i("vl");S(l);const H=e(),I=c(x(l,H));null==b||b(H,I);const E=c(),F=c(),j=c(),k=c(null),G=c({isScrolling:!1,scrollLeft:y(l.initScrollLeft)?l.initScrollLeft:0,scrollTop:y(l.initScrollTop)?l.initScrollTop:0,updateRequested:!1,xAxisScrollDir:He,yAxisScrollDir:He}),$=Re(),V=t((()=>Number.parseInt(`${l.height}`,10))),B=t((()=>Number.parseInt(`${l.width}`,10))),P=t((()=>{const{totalColumn:e,totalRow:t,columnCache:o}=l,{isScrolling:r,xAxisScrollDir:s,scrollLeft:i}=u(G);if(0===e||0===t)return[0,0,0,0];const c=a(l,i,u(I)),d=n(l,c,i,u(I)),h=r&&s!==Ie?1:Math.max(1,o),m=r&&s!==He?1:Math.max(1,o);return[Math.max(0,c-h),Math.max(0,Math.min(e-1,d+m)),c,d]})),q=t((()=>{const{totalColumn:e,totalRow:t,rowCache:o}=l,{isScrolling:r,yAxisScrollDir:a,scrollTop:n}=u(G);if(0===e||0===t)return[0,0,0,0];const s=g(l,n,u(I)),i=v(l,s,n,u(I)),c=r&&a!==Ie?1:Math.max(1,o),d=r&&a!==He?1:Math.max(1,o);return[Math.max(0,s-c),Math.max(0,Math.min(t-1,i+d)),s,i]})),U=t((()=>d(l,u(I)))),_=t((()=>h(l,u(I)))),Y=t((()=>{var e;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:l.direction,height:y(l.height)?`${l.height}px`:l.height,width:y(l.width)?`${l.width}px`:l.width},null!=(e=l.style)?e:{}]})),X=t((()=>{const e=`${u(_)}px`;return{height:`${u(U)}px`,pointerEvents:u(G).isScrolling?"none":void 0,width:e}})),J=()=>{const{totalColumn:e,totalRow:t}=l;if(e>0&&t>0){const[e,t,l,o]=u(P),[r,a,n,i]=u(q);s(Te,{columnCacheStart:e,columnCacheEnd:t,rowCacheStart:r,rowCacheEnd:a,columnVisibleStart:l,columnVisibleEnd:o,rowVisibleStart:n,rowVisibleEnd:i})}const{scrollLeft:o,scrollTop:r,updateRequested:a,xAxisScrollDir:n,yAxisScrollDir:i}=u(G);s(Ce,{xAxisScrollDir:n,scrollLeft:o,yAxisScrollDir:i,scrollTop:r,updateRequested:a})},Z=e=>{const{clientHeight:t,clientWidth:o,scrollHeight:r,scrollLeft:a,scrollTop:n,scrollWidth:s}=e.currentTarget,i=u(G);if(i.scrollTop===n&&i.scrollLeft===a)return;let c=a;if(et(l.direction))switch(lt()){case Ke:c=-a;break;case Ne:c=s-o-a}G.value={...i,isScrolling:!0,scrollLeft:c,scrollTop:Math.max(0,Math.min(n,r-t)),updateRequested:!0,xAxisScrollDir:Qe(i.scrollLeft,c),yAxisScrollDir:Qe(i.scrollTop,n)},M((()=>re())),ae(),J()},Q=(e,t)=>{const l=u(V),o=(U.value-l)/t*e;le({scrollTop:Math.min(U.value-l,o)})},ee=(e,t)=>{const l=u(B),o=(_.value-l)/t*e;le({scrollLeft:Math.min(_.value-l,o)})},{onWheel:te}=(({atXEndEdge:e,atXStartEdge:t,atYEndEdge:l,atYStartEdge:o},r)=>{let a=null,n=0,s=0;const i=(r,a)=>{const n=r<=0&&t.value||r>=0&&e.value,s=a<=0&&o.value||a>=0&&l.value;return n&&s};return{hasReachedEdge:i,onWheel:e=>{ye(a);let t=e.deltaX,l=e.deltaY;Math.abs(t)>Math.abs(l)?l=0:t=0,e.shiftKey&&0!==l&&(t=l,l=0),i(n,s)&&i(n+t,s+l)||(n+=t,s+=l,e.preventDefault(),a=ve((()=>{r(n,s),n=0,s=0})))}}})({atXStartEdge:t((()=>G.value.scrollLeft<=0)),atXEndEdge:t((()=>G.value.scrollLeft>=_.value-u(B))),atYStartEdge:t((()=>G.value.scrollTop<=0)),atYEndEdge:t((()=>G.value.scrollTop>=U.value-u(V)))},((e,t)=>{var l,o,r,a;null==(o=null==(l=F.value)?void 0:l.onMouseUp)||o.call(l),null==(a=null==(r=j.value)?void 0:r.onMouseUp)||a.call(r);const n=u(B),s=u(V);le({scrollLeft:Math.min(G.value.scrollLeft+e,_.value-n),scrollTop:Math.min(G.value.scrollTop+t,U.value-s)})}));O(E,"wheel",te,{passive:!1});const le=({scrollLeft:e=G.value.scrollLeft,scrollTop:t=G.value.scrollTop})=>{e=Math.max(e,0),t=Math.max(t,0);const l=u(G);t===l.scrollTop&&e===l.scrollLeft||(G.value={...l,xAxisScrollDir:Qe(l.scrollLeft,e),yAxisScrollDir:Qe(l.scrollTop,t),scrollLeft:e,scrollTop:t,updateRequested:!0},M((()=>re())),ae(),J())},oe=(e,t)=>{const{columnWidth:a,direction:n,rowHeight:s}=l,i=$.value(o&&a,o&&s,o&&n),c=`${e},${t}`;if(N(i,c))return i[c];{const[,o]=r(l,t,u(I)),a=u(I),s=et(n),[d,h]=w(l,e,a),[m]=r(l,t,a);return i[c]={position:"absolute",left:s?void 0:`${o}px`,right:s?`${o}px`:void 0,top:`${h}px`,height:`${d}px`,width:`${m}px`},i[c]}},re=()=>{G.value.isScrolling=!1,M((()=>{$.value(-1,null,null)}))};L((()=>{if(!D)return;const{initScrollLeft:e,initScrollTop:t}=l,o=u(E);o&&(y(e)&&(o.scrollLeft=e),y(t)&&(o.scrollTop=t)),J()}));const ae=()=>{const{direction:e}=l,{scrollLeft:t,scrollTop:o,updateRequested:r}=u(G),a=u(E);if(r&&a){if("rtl"===e)switch(lt()){case Ke:a.scrollLeft=-t;break;case Ae:a.scrollLeft=t;break;default:{const{clientWidth:e,scrollWidth:l}=a;a.scrollLeft=l-e-t;break}}else a.scrollLeft=Math.max(0,t);a.scrollTop=Math.max(0,o)}},{resetAfterColumnIndex:ne,resetAfterRowIndex:se,resetAfter:ie}=H.proxy;R({windowRef:E,innerRef:k,getItemStyleCache:$,scrollTo:le,scrollToItem:(e=0,t=0,o=Ee)=>{const r=u(G);t=Math.max(0,Math.min(t,l.totalColumn-1)),e=Math.max(0,Math.min(e,l.totalRow-1));const a=W(C.namespace.value),n=u(I),s=d(l,n),i=h(l,n);le({scrollLeft:m(l,t,o,r.scrollLeft,n,i>l.width?a:0),scrollTop:p(l,e,o,r.scrollTop,n,s>l.height?a:0)})},states:G,resetAfterColumnIndex:ne,resetAfterRowIndex:se,resetAfter:ie});const ce=()=>{const e=z(l.innerElement),t=(()=>{var e;const[t,o]=u(P),[r,a]=u(q),{data:n,totalColumn:s,totalRow:i,useIsScrolling:c,itemKey:d}=l,h=[];if(i>0&&s>0)for(let l=r;l<=a;l++)for(let r=t;r<=o;r++){const t=d({columnIndex:r,data:n,rowIndex:l});h.push(f(A,{key:t},null==(e=T.default)?void 0:e.call(T,{columnIndex:r,data:n,isScrolling:c?u(G).isScrolling:void 0,style:oe(l,r),rowIndex:l})))}return h})();return[f(e,{style:u(X),ref:k},K(e)?t:{default:()=>t})]};return()=>{const e=z(l.containerElement),{horizontalScrollbar:t,verticalScrollbar:o}=(()=>{const{scrollbarAlwaysOn:e,scrollbarStartGap:t,scrollbarEndGap:o,totalColumn:r,totalRow:a}=l,n=u(B),s=u(V),i=u(_),c=u(U),{scrollLeft:d,scrollTop:h}=u(G);return{horizontalScrollbar:f(ot,{ref:F,alwaysOn:e,startGap:t,endGap:o,class:C.e("horizontal"),clientSize:n,layout:"horizontal",onScroll:ee,ratio:100*n/i,scrollFrom:d/(i-n),total:a,visible:!0}),verticalScrollbar:f(ot,{ref:j,alwaysOn:e,startGap:t,endGap:o,class:C.e("vertical"),clientSize:s,layout:"vertical",onScroll:Q,ratio:100*s/c,scrollFrom:h/(c-s),total:r,visible:!0})}})(),r=ce();return f("div",{key:0,class:C.e("wrapper"),role:l.role},[f(e,{class:l.className,style:u(Y),onScroll:Z,ref:E},K(e)?r:{default:()=>r}),t,o])}}}),{max:zt,min:Kt,floor:At}=Math,Nt={column:"columnWidth",row:"rowHeight"},Ft={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},jt=(e,t,l,o)=>{const[r,a,n]=[l[o],e[Nt[o]],l[Ft[o]]];if(t>n){let e=0;if(n>=0){const t=r[n];e=t.offset+t.size}for(let l=n+1;l<=t;l++){const t=a(l);r[l]={offset:e,size:t},e+=t}l[Ft[o]]=t}return r[t]},kt=(e,t,l,o,r,a)=>{for(;l<=o;){const n=l+At((o-l)/2),s=jt(e,n,t,a).offset;if(s===r)return n;s<r?l=n+1:o=n-1}return zt(0,l-1)},Gt=(e,t,l,o)=>{const[r,a]=[t[o],t[Ft[o]]];return(a>0?r[a].offset:0)>=l?kt(e,t,0,a,l,o):((e,t,l,o,r)=>{const a="column"===r?e.totalColumn:e.totalRow;let n=1;for(;l<a&&jt(e,l,t,r).offset<o;)l+=n,n*=2;return kt(e,t,At(l/2),Kt(l,a-1),o,r)})(e,t,zt(0,a),l,o)},$t=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:l,row:o})=>{let r=0;if(l>=e&&(l=e-1),l>=0){const e=o[l];r=e.offset+e.size}return r+(e-l-1)*t},Vt=({totalColumn:e},{column:t,estimatedColumnWidth:l,lastVisitedColumnIndex:o})=>{let r=0;if(o>e&&(o=e-1),o>=0){const e=t[o];r=e.offset+e.size}return r+(e-o-1)*l},Bt={column:Vt,row:$t},Pt=(e,t,l,o,r,a,n)=>{const[s,i]=["row"===a?e.height:e.width,Bt[a]],c=jt(e,t,r,a),d=i(e,r),u=zt(0,Kt(d-s,c.offset)),h=zt(0,c.offset-s+n+c.size);switch(l===Me&&(l=o>=h-s&&o<=u+s?Ee:Le),l){case Oe:return u;case De:return h;case Le:return Math.round(h+(u-h)/2);default:return o>=h&&o<=u?o:h>u||o<h?h:u}},qt=Wt({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,l)=>{const o=jt(e,t,l,"column");return[o.size,o.offset]},getRowPosition:(e,t,l)=>{const o=jt(e,t,l,"row");return[o.size,o.offset]},getColumnOffset:(e,t,l,o,r,a)=>Pt(e,t,l,o,r,"column",a),getRowOffset:(e,t,l,o,r,a)=>Pt(e,t,l,o,r,"row",a),getColumnStartIndexForOffset:(e,t,l)=>Gt(e,l,t,"column"),getColumnStopIndexForStartIndex:(e,t,l,o)=>{const r=jt(e,t,o,"column"),a=l+e.width;let n=r.offset+r.size,s=t;for(;s<e.totalColumn-1&&n<a;)s++,n+=jt(e,t,o,"column").size;return s},getEstimatedTotalHeight:$t,getEstimatedTotalWidth:Vt,getRowStartIndexForOffset:(e,t,l)=>Gt(e,l,t,"row"),getRowStopIndexForStartIndex:(e,t,l,o)=>{const{totalRow:r,height:a}=e,n=jt(e,t,o,"row"),s=l+a;let i=n.size+n.offset,c=t;for(;c<r-1&&i<s;)c++,i+=jt(e,c,o,"row").size;return c},injectToInstance:(e,t)=>{const l=({columnIndex:l,rowIndex:o},r)=>{var a,n;r=!!F(r)||r,y(l)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,l-1)),y(o)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,o-1)),null==(a=e.exposed)||a.getItemStyleCache.value(-1,null,null),r&&(null==(n=e.proxy)||n.$forceUpdate())};Object.assign(e.proxy,{resetAfterColumnIndex:(e,t)=>{l({columnIndex:e},t)},resetAfterRowIndex:(e,t)=>{l({rowIndex:e},t)},resetAfter:l})},initCache:({estimatedColumnWidth:e=50,estimatedRowHeight:t=50})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Ut=Wt({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:l},o,r,a,n,s)=>{l=Number(l);const i=Math.max(0,e*t-l),c=Math.min(i,o*t),d=Math.max(0,o*t-l+s+t);switch("smart"===r&&(r=a>=d-l&&a<=c+l?Ee:Le),r){case Oe:return c;case De:return d;case Le:{const e=Math.round(d+(c-d)/2);return e<Math.ceil(l/2)?0:e>i+Math.floor(l/2)?i:e}default:return a>=d&&a<=c?a:d>c||a<d?d:c}},getRowOffset:({rowHeight:e,height:t,totalRow:l},o,r,a,n,s)=>{t=Number(t);const i=Math.max(0,l*e-t),c=Math.min(i,o*e),d=Math.max(0,o*e-t+s+e);switch(r===Me&&(r=a>=d-t&&a<=c+t?Ee:Le),r){case Oe:return c;case De:return d;case Le:{const e=Math.round(d+(c-d)/2);return e<Math.ceil(t/2)?0:e>i+Math.floor(t/2)?i:e}default:return a>=d&&a<=c?a:d>c||a<d?d:c}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:l},o,r)=>{const a=o*e,n=Math.ceil((l+r-a)/e);return Math.max(0,Math.min(t-1,o+n-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:l},o,r)=>{const a=o*e,n=Math.ceil((l+r-a)/e);return Math.max(0,Math.min(t-1,o+n-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}});var _t=s({name:"ElTableV2Grid",props:Ot,setup(e,{slots:l,expose:o}){const{ns:r}=C(wt),{bodyRef:a,fixedRowHeight:n,gridHeight:s,hasHeader:i,headerRef:d,headerHeight:m,totalHeight:f,forceUpdate:p,itemKey:g,onItemRendered:v,resetAfterRowIndex:x,scrollTo:b,scrollToTop:S,scrollToRow:R,scrollLeft:T}=(e=>{const l=c(),o=c(),r=c(0),a=t((()=>{const{data:t,rowHeight:l,estimatedRowHeight:o}=e;if(!o)return t.length*l})),n=t((()=>{const{fixedData:t,rowHeight:l}=e;return((null==t?void 0:t.length)||0)*l})),s=t((()=>ut(e.headerHeight))),i=t((()=>{const{height:t}=e;return Math.max(0,t-u(s)-u(n))})),d=t((()=>u(s)+u(n)>0));return h((()=>e.bodyWidth),(()=>{var t;y(e.estimatedRowHeight)&&(null==(t=o.value)||t.resetAfter({columnIndex:0},!1))})),{bodyRef:o,forceUpdate:function(){var e,t;null==(e=u(o))||e.$forceUpdate(),null==(t=u(l))||t.$forceUpdate()},fixedRowHeight:n,gridHeight:i,hasHeader:d,headerHeight:s,headerRef:l,totalHeight:a,itemKey:({data:t,rowIndex:l})=>t[l][e.rowKey],onItemRendered:function({rowCacheStart:t,rowCacheEnd:l,rowVisibleStart:o,rowVisibleEnd:r}){var a;null==(a=e.onRowsRendered)||a.call(e,{rowCacheStart:t,rowCacheEnd:l,rowVisibleStart:o,rowVisibleEnd:r})},resetAfterRowIndex:function(e,t){var l;null==(l=o.value)||l.resetAfterRowIndex(e,t)},scrollTo:function(e,t){const a=u(l),n=u(o);w(e)?(null==a||a.scrollToLeft(e.scrollLeft),r.value=e.scrollLeft,null==n||n.scrollTo(e)):(null==a||a.scrollToLeft(e),r.value=e,null==n||n.scrollTo({scrollLeft:e,scrollTop:t}))},scrollToTop:function(e){var t;null==(t=u(o))||t.scrollTo({scrollTop:e})},scrollToRow:function(e,t){var l;null==(l=u(o))||l.scrollToItem(e,1,t)},scrollLeft:r}})(e);k(gt,T),j((async()=>{var e;await M();const t=null==(e=a.value)?void 0:e.states.scrollTop;t&&S(Math.round(t)+1)})),o({forceUpdate:p,totalHeight:f,scrollTo:b,scrollToTop:S,scrollToRow:R,resetAfterRowIndex:x});const H=()=>e.bodyWidth;return()=>{const{cache:t,columns:o,data:c,fixedData:h,useIsScrolling:f,scrollbarAlwaysOn:p,scrollbarEndGap:w,scrollbarStartGap:x,style:b,rowHeight:S,bodyWidth:R,estimatedRowHeight:T,headerWidth:C,height:I,width:M,getRowHeight:O,onScroll:L}=e,D=y(T),W=D?qt:Ut,z=u(m);return E("div",{role:"table",class:[r.e("table"),e.class],style:b},[E(W,{ref:a,data:c,useIsScrolling:f,itemKey:g,columnCache:0,columnWidth:D?H:R,totalColumn:1,totalRow:c.length,rowCache:t,rowHeight:D?O:S,width:M,height:u(s),class:r.e("body"),role:"rowgroup",scrollbarStartGap:x,scrollbarEndGap:w,scrollbarAlwaysOn:p,onScroll:L,onItemRendered:v,perfMode:!1},{default:e=>{var t;const r=c[e.rowIndex];return null==(t=l.row)?void 0:t.call(l,{...e,columns:o,rowData:r})}}),u(i)&&E(Dt,{ref:d,class:r.e("header-wrapper"),columns:o,headerData:c,headerHeight:e.headerHeight,fixedHeaderData:h,rowWidth:C,rowHeight:S,width:M,height:Math.min(z+u(n),I)},{dynamic:l.header,fixed:l.row})])}}});var Yt=(e,{slots:t})=>{const{mainTableRef:l,...o}=e;return E(_t,G({ref:l},o),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!S(r)?t:{default:()=>[t]});var r};var Xt=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:l,...o}=e;return E(_t,G({ref:l},o),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!S(r)?t:{default:()=>[t]});var r};var Jt=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:l,...o}=e;return E(_t,G({ref:l},o),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!S(r)?t:{default:()=>[t]});var r};const Zt=e=>{const{isScrolling:l}=C(wt),o=c(!1),r=c(),a=t((()=>y(e.estimatedRowHeight)&&e.rowIndex>=0)),n=t((()=>{const{rowData:t,rowIndex:l,rowKey:o,onRowHover:r}=e,a=e.rowEventHandlers||{},n={};return Object.entries(a).forEach((([e,r])=>{R(r)&&(n[e]=e=>{r({event:e,rowData:t,rowIndex:l,rowKey:o})})})),r&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach((({name:e,hovered:a})=>{const s=n[e];n[e]=e=>{r({event:e,hovered:a,rowData:t,rowIndex:l,rowKey:o}),null==s||s(e)}})),n}));return L((()=>{u(a)&&((t=!1)=>{const l=u(r);if(!l)return;const{columns:a,onRowHeightChange:n,rowKey:s,rowIndex:i,style:c}=e,{height:d}=l.getBoundingClientRect();o.value=!0,M((()=>{if(t||d!==Number.parseInt(c.height)){const e=a[0],t=(null==e?void 0:e.placeholderSign)===it;null==n||n({rowKey:s,height:d,rowIndex:i},e&&!t&&e.fixed)}}))})(!0)})),{isScrolling:l,measurable:a,measured:o,rowRef:r,eventHandlers:n,onExpand:t=>{const{onRowExpand:l,rowData:o,rowIndex:r,rowKey:a}=e;null==l||l({expanded:t,rowData:o,rowIndex:r,rowKey:a})}}};var Qt=s({name:"ElTableV2TableRow",props:It,setup(e,{expose:t,slots:l,attrs:o}){const{eventHandlers:r,isScrolling:a,measurable:n,measured:s,rowRef:i,onExpand:c}=Zt(e);return t({onExpand:c}),()=>{const{columns:t,columnsStyles:d,expandColumnKey:h,depth:m,rowData:f,rowIndex:p,style:w}=e;let g=t.map(((e,o)=>{const r=x(f.children)&&f.children.length>0&&e.key===h;return l.cell({column:e,columns:t,columnIndex:o,depth:m,style:d[e.key],rowData:f,rowIndex:p,isScrolling:u(a),expandIconProps:r?{rowData:f,rowIndex:p,onExpand:c}:void 0})}));if(l.row&&(g=l.row({cells:g.map((e=>x(e)&&1===e.length?e[0]:e)),style:w,columns:t,depth:m,rowData:f,rowIndex:p,isScrolling:u(a)})),u(n)){const{height:t,...l}=w||{},a=u(s);return E("div",G({ref:i,class:e.class,style:a?w:l,role:"row"},o,u(r)),[g])}return E("div",G(o,{ref:i,class:e.class,style:w,role:"row"},u(r)),[g])}}});var el=(e,{slots:t})=>{const{columns:l,columnsStyles:o,depthMap:r,expandColumnKey:a,expandedRowKeys:n,estimatedRowHeight:s,hasFixedColumns:i,rowData:c,rowIndex:d,style:u,isScrolling:h,rowProps:m,rowClass:f,rowKey:p,rowEventHandlers:w,ns:g,onRowHovered:y,onRowExpanded:v}=e,x=ht(f,{columns:l,rowData:c,rowIndex:d},""),b=ht(m,{columns:l,rowData:c,rowIndex:d}),R=c[p],T=r[R]||0,C=Boolean(a),H=d<0,I=[g.e("row"),x,{[g.e(`row-depth-${T}`)]:C&&d>=0,[g.is("expanded")]:C&&n.includes(R),[g.is("fixed")]:!T&&H,[g.is("customized")]:Boolean(t.row)}],M=i?y:void 0,O={...b,columns:l,columnsStyles:o,class:I,depth:T,expandColumnKey:a,estimatedRowHeight:H?void 0:s,isScrolling:h,rowIndex:d,rowData:c,rowKey:R,rowEventHandlers:w,style:u};return E(Qt,G(O,{onRowExpand:v,onMouseenter:e=>{null==M||M({hovered:!0,rowKey:R,event:e,rowData:c,rowIndex:d})},onMouseleave:e=>{null==M||M({hovered:!1,rowKey:R,event:e,rowData:c,rowIndex:d})},rowkey:R}),"function"==typeof(L=t)||"[object Object]"===Object.prototype.toString.call(L)&&!S(L)?t:{default:()=>[t]});var L};const tl=(e,{slots:t})=>{var l;const{cellData:o,style:r}=e,a=(null==(l=null==o?void 0:o.toString)?void 0:l.call(o))||"",n=$(t,"default",e,(()=>[a]));return E("div",{class:e.class,title:a,style:r},[n])};tl.displayName="ElTableV2Cell",tl.inheritAttrs=!1;var ll=tl;var ol=e=>{const{expanded:t,expandable:l,onExpand:o,style:r,size:a}=e,n={onClick:l?()=>o(!t):void 0,class:e.class};return E(B,G(n,{size:a,style:r}),{default:()=>[E(V,null,null)]})};const rl=({columns:e,column:t,columnIndex:l,depth:o,expandIconProps:r,isScrolling:a,rowData:n,rowIndex:s,style:i,expandedRowKeys:c,ns:d,cellProps:u,expandColumnKey:h,indentSize:m,iconSize:f,rowKey:p},{slots:g})=>{const y=mt(i);if(t.placeholderSign===it)return E("div",{class:d.em("row-cell","placeholder"),style:y},null);const{cellRenderer:v,dataKey:x,dataGetter:b}=t,S=R(b)?b({columns:e,column:t,columnIndex:l,rowData:n,rowIndex:s}):P(n,null!=x?x:""),T=ht(u,{cellData:S,columns:e,column:t,columnIndex:l,rowIndex:s,rowData:n}),C={class:d.e("cell-text"),columns:e,column:t,columnIndex:l,cellData:S,isScrolling:a,rowData:n,rowIndex:s},H=ft(v),I=H?H(C):$(g,"default",C,(()=>[E(ll,C,null)])),M=[d.e("row-cell"),t.class,t.align===at.CENTER&&d.is("align-center"),t.align===at.RIGHT&&d.is("align-right")],O=s>=0&&h&&t.key===h,L=s>=0&&c.includes(n[p]);let D;const W=`margin-inline-start: ${o*m}px;`;return O&&(D=w(r)?E(ol,G(r,{class:[d.e("expand-icon"),d.is("expanded",L)],size:f,expanded:L,style:W,expandable:!0}),null):E("div",{style:[W,`width: ${f}px; height: ${f}px;`].join(" ")},null)),E("div",G({class:M,style:y},T,{role:"cell"}),[D,I])};rl.inheritAttrs=!1;var al=rl;const nl=o({class:String,columns:vt,columnsStyles:{type:a(Object),required:!0},headerIndex:Number,style:{type:a(Object)}});var sl=s({name:"ElTableV2HeaderRow",props:nl,setup:(e,{slots:t})=>()=>{const{columns:l,columnsStyles:o,headerIndex:r,style:a}=e;let n=l.map(((e,a)=>t.cell({columns:l,column:e,columnIndex:a,headerIndex:r,style:o[e.key]})));return t.header&&(n=t.header({cells:n.map((e=>x(e)&&1===e.length?e[0]:e)),columns:l,headerIndex:r})),E("div",{class:e.class,style:a,role:"row"},[n])}});var il=({columns:e,columnsStyles:t,headerIndex:l,style:o,headerClass:r,headerProps:a,ns:n},{slots:s})=>{const i={columns:e,headerIndex:l},c=[n.e("header-row"),ht(r,i,""),{[n.is("customized")]:Boolean(s.header)}],d={...ht(a,i),columnsStyles:t,class:c,columns:e,headerIndex:l,style:o};return E(sl,d,"function"==typeof(u=s)||"[object Object]"===Object.prototype.toString.call(u)&&!S(u)?s:{default:()=>[s]});var u};const cl=(e,{slots:t})=>$(t,"default",e,(()=>{var t,l;return[E("div",{class:e.class,title:null==(t=e.column)?void 0:t.title},[null==(l=e.column)?void 0:l.title])]}));cl.displayName="ElTableV2HeaderCell",cl.inheritAttrs=!1;var dl=cl;var ul=e=>{const{sortOrder:t}=e;return E(B,{size:14,class:e.class},{default:()=>[t===rt.ASC?E(q,null,null):E(U,null,null)]})};var hl=(e,{slots:t})=>{const{column:l,ns:o,style:r,onColumnSorted:a}=e,n=mt(r);if(l.placeholderSign===it)return E("div",{class:o.em("header-row-cell","placeholder"),style:n},null);const{headerCellRenderer:s,headerClass:i,sortable:c}=l,d={...e,class:o.e("header-cell-text")},u=ft(s),h=u?u(d):$(t,"default",d,(()=>[E(dl,d,null)])),{sortBy:m,sortState:f,headerCellProps:p}=e;let w,g;if(f){const e=f[l.key];w=Boolean(st[e]),g=w?e:rt.ASC}else w=l.key===m.key,g=w?m.order:rt.ASC;const y=[o.e("header-cell"),ht(i,e,""),l.align===at.CENTER&&o.is("align-center"),l.align===at.RIGHT&&o.is("align-right"),c&&o.is("sortable")],v={...ht(p,e),onClick:l.sortable?a:void 0,class:y,style:n,"data-key":l.key};return E("div",G(v,{role:"columnheader"}),[h,c&&E(ul,{class:[o.e("sort-icon"),w&&o.is("sorting")],sortOrder:g},null)])};const ml=(e,{slots:t})=>{var l;return E("div",{class:e.class,style:e.style},[null==(l=t.default)?void 0:l.call(t)])};ml.displayName="ElTableV2Footer";var fl=ml;const pl=(e,{slots:t})=>{const l=$(t,"default",{},(()=>[E(xe,null,null)]));return E("div",{class:e.class,style:e.style},[l])};pl.displayName="ElTableV2Empty";var wl=pl;const gl=(e,{slots:t})=>{var l;return E("div",{class:e.class,style:e.style},[null==(l=t.default)?void 0:l.call(t)])};gl.displayName="ElTableV2Overlay";var yl=gl;function vl(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!S(e)}var xl=s({name:"ElTableV2",props:Lt,setup(e,{slots:t,expose:l}){const o=i("table-v2"),{columnsStyles:r,fixedColumnsOnLeft:a,fixedColumnsOnRight:n,mainColumns:s,mainTableHeight:c,fixedTableHeight:d,leftTableWidth:h,rightTableWidth:m,data:f,depthMap:p,expandedRowKeys:w,hasFixedColumns:g,mainTableRef:y,leftTableRef:v,rightTableRef:x,isDynamic:b,isResetting:S,isScrolling:R,bodyWidth:T,emptyStyle:C,rootStyle:H,footerHeight:I,showEmpty:M,scrollTo:O,scrollToLeft:L,scrollToTop:D,scrollToRow:W,getRowHeight:z,onColumnSorted:K,onRowHeightChange:A,onRowHovered:N,onRowExpanded:F,onRowsRendered:j,onScroll:$,onVerticalScroll:V}=pt(e);return l({scrollTo:O,scrollToLeft:L,scrollToTop:D,scrollToRow:W}),k(wt,{ns:o,isResetting:S,isScrolling:R}),()=>{const{cache:l,cellProps:i,estimatedRowHeight:S,expandColumnKey:R,fixedData:O,headerHeight:L,headerClass:D,headerProps:W,headerCellProps:k,sortBy:B,sortState:P,rowHeight:q,rowClass:U,rowEventHandlers:_,rowKey:Y,rowProps:X,scrollbarAlwaysOn:J,indentSize:Z,iconSize:Q,useIsScrolling:ee,vScrollbarSize:te,width:le}=e,oe=u(f),re={cache:l,class:o.e("main"),columns:u(s),data:oe,fixedData:O,estimatedRowHeight:S,bodyWidth:u(T),headerHeight:L,headerWidth:u(T),height:u(c),mainTableRef:y,rowKey:Y,rowHeight:q,scrollbarAlwaysOn:J,scrollbarStartGap:2,scrollbarEndGap:te,useIsScrolling:ee,width:le,getRowHeight:z,onRowsRendered:j,onScroll:$},ae=u(h),ne=u(d),se={cache:l,class:o.e("left"),columns:u(a),data:oe,fixedData:O,estimatedRowHeight:S,leftTableRef:v,rowHeight:q,bodyWidth:ae,headerWidth:ae,headerHeight:L,height:ne,rowKey:Y,scrollbarAlwaysOn:J,scrollbarStartGap:2,scrollbarEndGap:te,useIsScrolling:ee,width:ae,getRowHeight:z,onScroll:V},ie=u(m),ce={cache:l,class:o.e("right"),columns:u(n),data:oe,fixedData:O,estimatedRowHeight:S,rightTableRef:x,rowHeight:q,bodyWidth:ie,headerWidth:ie,headerHeight:L,height:ne,rowKey:Y,scrollbarAlwaysOn:J,scrollbarStartGap:2,scrollbarEndGap:te,width:ie,style:`--${u(o.namespace)}-table-scrollbar-size: ${te}px`,useIsScrolling:ee,getRowHeight:z,onScroll:V},de=u(r),ue={ns:o,depthMap:u(p),columnsStyles:de,expandColumnKey:R,expandedRowKeys:u(w),estimatedRowHeight:S,hasFixedColumns:u(g),rowProps:X,rowClass:U,rowKey:Y,rowEventHandlers:_,onRowHovered:N,onRowExpanded:F,onRowHeightChange:A},he={cellProps:i,expandColumnKey:R,indentSize:Z,iconSize:Q,rowKey:Y,expandedRowKeys:u(w),ns:o},me={ns:o,headerClass:D,headerProps:W,columnsStyles:de},fe={ns:o,sortBy:B,sortState:P,headerCellProps:k,onColumnSorted:K},pe={row:e=>E(el,G(e,ue),{row:t.row,cell:e=>{let l;return t.cell?E(al,G(e,he,{style:de[e.column.key]}),vl(l=t.cell(e))?l:{default:()=>[l]}):E(al,G(e,he,{style:de[e.column.key]}),null)}}),header:e=>E(il,G(e,me),{header:t.header,cell:e=>{let l;return t["header-cell"]?E(hl,G(e,fe,{style:de[e.column.key]}),vl(l=t["header-cell"](e))?l:{default:()=>[l]}):E(hl,G(e,fe,{style:de[e.column.key]}),null)}})},we=[e.class,o.b(),o.e("root"),{[o.is("dynamic")]:u(b)}],ge={class:o.e("footer"),style:u(I)};return E("div",{class:we,style:u(H)},[E(Yt,re,vl(pe)?pe:{default:()=>[pe]}),E(Xt,se,vl(pe)?pe:{default:()=>[pe]}),E(Jt,ce,vl(pe)?pe:{default:()=>[pe]}),t.footer&&E(fl,ge,{default:t.footer}),u(M)&&E(wl,{class:o.e("empty"),style:u(C)},{default:t.empty}),t.overlay&&E(yl,{class:o.e("overlay")},{default:t.overlay})])}}});const bl=o({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:a(Function)}});var Sl=s({name:"ElAutoResizer",props:bl,setup(e,{slots:t}){const l=i("auto-resizer"),{height:o,width:r,sizer:a}=(e=>{const t=c(),l=c(0),o=c(0);let r;return L((()=>{r=_(t,(([e])=>{const{width:t,height:r}=e.contentRect,{paddingLeft:a,paddingRight:n,paddingTop:s,paddingBottom:i}=getComputedStyle(e.target),c=Number.parseInt(a)||0,d=Number.parseInt(n)||0,u=Number.parseInt(s)||0,h=Number.parseInt(i)||0;l.value=t-c-d,o.value=r-u-h})).stop})),m((()=>{null==r||r()})),h([l,o],(([t,l])=>{var o;null==(o=e.onResize)||o.call(e,{width:t,height:l})})),{sizer:t,width:l,height:o}})(e),n={width:"100%",height:"100%"};return()=>{var e;return E("div",{ref:a,class:l.b(),style:n},[null==(e=t.default)?void 0:e.call(t,{height:o.value,width:r.value})])}}});const Rl=Y(xl),Tl=Y(Sl),Cl={key:0,class:"h-full flex flex-col items-center justify-center pt-100px"},Hl={key:0,src:ue,alt:""},Il={key:1,src:he,alt:""},El={key:2,class:"mt-10px"},Ml={key:1},Ol=we(s({__name:"index",props:{columns:{type:Array,required:!0},data:{type:Array,required:!0},showEmptyText:Boolean,emptyText:{type:String,default:""},showFooter:{type:Boolean,default:!1},footText:{type:String,default:""},rowHeight:{type:Number,default:50},headerHeight:{type:Number,default:32},headerClass:{type:String,default:""},footerHeight:{type:Number,default:0},loading:Boolean,fixed:Boolean},emits:["endReached"],setup(e,{expose:l,emit:o}){const{t:r}=X(),a=e,n=o,s=J(),i=Z(),c=Q(),d=ee("tableRef");l({scrollTo:(...e)=>{var t,l;null==(l=null==(t=d.value)?void 0:t.scrollTo)||l.call(t,...e)},scrollToLeft:(...e)=>{var t,l;null==(l=null==(t=d.value)?void 0:t.scrollToLeft)||l.call(t,...e)},scrollToTop:(...e)=>{var t,l;null==(l=null==(t=d.value)?void 0:t.scrollToTop)||l.call(t,...e)},scrollToRow:(...e)=>{var t,l;null==(l=null==(t=d.value)?void 0:t.scrollToRow)||l.call(t,...e)}});const{width:h}=te(d),m=["empty","footer","overlay","row","cell","header-cell"],f=t((()=>{const e={};for(const t of m)s[t]&&(e[t]=s[t]);return e})),p=t((()=>{const e=function(){const e=a.columns.reduce(((e,t)=>e+t.minWidth),0);if(e>=h.value)return a.columns.map((e=>e.minWidth));const t=(h.value-6-e)/a.columns.length;return a.columns.map((e=>e.minWidth+t))}();return a.columns.map(((t,l)=>{const o=s[`cell-${t.key}`]||s[`cell-${t.dataKey}`],r=s[`header-${t.key}`]||s[`header-${t.dataKey}`];return{...t,cellRenderer:o?({rowData:e,column:t,rowIndex:l,columnIndex:r})=>o({row:e,column:t,rowIndex:l,columnIndex:r}):t.cellRenderer,headerCellRenderer:r?({column:e})=>r({column:e}):t.headerCellRenderer,width:e[l]}}))}));return(t,l)=>{const o=Rl,a=Tl;return oe(),le(a,null,{default:re((({height:a,width:s})=>[E(o,G({ref_key:"tableRef",ref:d,class:"el-table",style:{"--el-table-border":"0","--el-bg-color":"transparent","font-size":"12px"},"header-class":`bg-[--main-list-header-bg] ${e.headerClass}`,"header-height":e.headerHeight,columns:u(p),data:e.data,height:a,width:s,"footer-height":e.footerHeight},u(i),{fixed:e.fixed,"row-height":e.rowHeight,onEndReached:l[0]||(l[0]=e=>n("endReached",e))}),ae({_:2},[ne(u(f),((e,l)=>({name:l,fn:re((e=>[$(t.$slots,l,se(ie(e)),void 0,!0)]))}))),u(f).empty?void 0:{name:"empty",fn:re((()=>[e.loading?(oe(),ce("span",Ml)):(oe(),ce("div",Cl,["light"===u(c).theme?(oe(),ce("img",Hl)):(oe(),ce("img",Il)),e.showEmptyText?(oe(),ce("span",El,me(e.emptyText||u(r)("emptyNoData")),1)):de("",!0)]))])),key:"0"},e.data.length>0&&e.showFooter?{name:"footer",fn:re((()=>[fe("div",{class:pe(["text-center px-0 pt-15px pb-10px text-12px text-[--third-text] absolute w-100%",`top-${e.rowHeight}px`])},me(e.footText||u(r)("loading")),3)])),key:"1"}:void 0]),1040,["header-class","header-height","columns","data","height","width","footer-height","fixed","row-height"])])),_:3})}}}),[["__scopeId","data-v-82ab429b"]]);export{Ol as _};
