const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DX_9Ij8R.js","./BY9EIVYr.js","./entry.iiOGQs6_.css","./BObx0-it.js","./DuT2dQq8.js","./scrollbar.wwf0UyhQ.css","./select.-WwBJgdY.css","./CdSQZM4X.js","./vLoading.DzkBmIP9.css","./DBQWc8Xl.js","./visibleChange.B3tk6XA_.css","./gfa7pY1Q.js","./Cu9oaoDx.js","./BxT7OH1S.js","./BdSP2G6B.js","./CJXpfIx0.js","./BZI4qv_R.js","./input-number.Su-GhVml.css","./DJKaFdKc.js","./switch.DT829VzR.css","./slippageSet.CO4HLpeQ.css","./slippageSetMarket.BLzBtvMe.css","./tabs.D-DHEwZG.css","./D600_RKl.js","./limit.CqaJfbDg.css"])))=>i.map(i=>d[i]);
import{f as e,Q as l,v as a,g as n,c as o,o as t,F as u,C as s,G as i,i as r,bB as v,a as d,t as c,_ as m,L as p,w as f,U as k,aj as b,S as h,D as T,b as y,a5 as g,cj as w,$ as x,aM as _,r as I,m as S,mW as A,B as N,E as $,s as F,M as P,bO as C,bm as R,mX as M,b5 as V,mY as E,aG as U,dF as D,H as O,d as B,aS as j,b8 as H,ak as L,X as z,a4 as W,mZ as X,a0 as q,eV as G,T as Q,b0 as Z,ad as K,m_ as J,cC as Y,m$ as ee,bE as le,J as ae,aA as ne,c4 as oe,eX as te,n0 as ue,n1 as se,dC as ie,n2 as re,cP as ve,cQ as de,eT as ce,n3 as me,K as pe,bC as fe,O as ke,eN as be,ah as he,ai as Te,n4 as ye,P as ge,ch as we,n5 as xe,n6 as _e,eO as Ie,cl as Se,eQ as Ae,n7 as Ne,n8 as $e,n9 as Fe,na as Pe,eR as Ce,nb as Re,eU as Me,nc as Ve,eP as Ee,nd as Ue,ne as De,nf as Oe,eS as Be,ng as je,nh as He,eM as Le,ni as ze,eW as We,bG as Xe,nj as qe,nk as Ge,av as Qe,ap as Ze,az as Ke,n as Je}from"./BY9EIVYr.js";import{a as Ye,E as el}from"./Cu9oaoDx.js";import{E as ll}from"./DuT2dQq8.js";import{E as al,a as nl}from"./BdSP2G6B.js";import{E as ol}from"./CJXpfIx0.js";import{E as tl}from"./DBQWc8Xl.js";import{_ as ul}from"./D600_RKl.js";import{a as sl,b as il}from"./gfa7pY1Q.js";const rl={class:"tabs"},vl=["disabled","onClick"],dl=m(e({__name:"tabs",props:{activeTab:{type:Number,default:0}},emits:["update:activeTab"],setup(e,{emit:m}){const p=l(),{t:f}=a(),k=m,b=["sui","solana","tron"],h=n((()=>[{name:f("buy"),value:0},{name:f("sell"),value:1}]));return(l,a)=>(t(),o("div",rl,[(t(!0),o(u,null,s(r(h),((a,n)=>{var u,s,m;return t(),o("button",{key:n,class:i(["tab-item",{active:a.value===e.activeTab,[`tab-${a.value}`]:!0}]),type:"button",disabled:"evm"!==(null==(s=("getChainInfo"in l?l.getChainInfo:r(v))((null==(u=r(p))?void 0:u.chain)||""))?void 0:s.vm_type)&&!b.includes((null==(m=r(p))?void 0:m.chain)||""),onClick:e=>{return l=a.value,void k("update:activeTab",l);var l}},[d("span",null,c(a.name),1)],10,vl)})),128))]))}}),[["__scopeId","data-v-74ae2df7"]]),cl=m(e({__name:"typeTabs",props:{isOnlyMarket:{type:Boolean,default:!1},tab:{type:Number,default:0}},emits:["update:tab"],setup(e,{emit:i}){const v=e,d=i,c=l(),{t:m}=a(),k=n((()=>{if(v.isOnlyMarket)return[{name:m("swapT"),value:2}];return"solana"===(c.chain||"")?[{name:m("swapT"),value:2},{name:m("limitT"),value:0}]:[{name:m("swapT"),value:2},{name:m("limitT"),value:0},{name:m("stopLimit"),value:1}]}));return(l,a)=>{const n=Ye,i=el;return t(),p(i,{"model-value":e.tab,class:"select-tabs","onUpdate:modelValue":a[0]||(a[0]=e=>d("update:tab",e))},{default:f((()=>[(t(!0),o(u,null,s(r(k),((e,l)=>(t(),p(n,{key:l,label:e.name,name:e.value},null,8,["label","name"])))),128))])),_:1},8,["model-value"])}}}),[["__scopeId","data-v-816d704f"]]),ml="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='11px'%20height='3px'%20viewBox='0%200%2011%203'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3e编组%3c/title%3e%3cg%20id='交易+挂单'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='交易-市价交易-买备份'%20transform='translate(-268.000000,%20-584.000000)'%20fill='%23999999'%20fill-rule='nonzero'%3e%3cg%20id='提示文案'%20transform='translate(14.000000,%20508.000000)'%3e%3cg%20id='编组-9备份-3'%20transform='translate(0.000000,%2063.000000)'%3e%3cg%20id='编组'%20transform='translate(254.000000,%2013.000000)'%3e%3cpolygon%20id='路径'%20points='9.53333333%200%2011%200%209.77777778%201.13999999%207.88333333%203%207.15%202.28%208.31111112%201.13999999%200%201.13999999%200%200'%3e%3c/polygon%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",pl={class:"history"},fl={class:"content color-[--main-text]"},kl=["onClick"],bl={class:"token-info"},hl={class:"flex-column"},Tl={class:"flex-start"},yl={class:"token-symbol font-14"},gl={key:0,class:"risk-status high"},wl={key:0,class:"px-5px py-0 color-[--third-text]"},xl={key:0,class:"flex flex-col text-right"},_l=["innerHTML"],Il=["innerHTML"],Sl={key:1,class:"empty"},Al=m(e({__name:"searchTable",props:{searchTokens:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},disabledToken:{type:String,default:""}},emits:["onSelect"],setup(e,{emit:l}){const a=e,n=l;return(l,v)=>{var m;const I=g,S=ll,A=b;return t(),o("div",pl,[(null==(m=e.searchTokens)?void 0:m.length)>0?k((t(),p(S,{key:0,height:"calc(60vh - 50px)"},{default:f((()=>[d("ul",fl,[(t(!0),o(u,null,s(e.searchTokens,((u,s)=>{var v,m;return t(),o("li",{key:s,class:i([{disabled:e.disabledToken===u.address},"flex justify-between px-5px py-8px clickable hover:bg-[--border]"]),onClick:h((e=>{var l;((null==(l=u)?void 0:l.address)||(null==l?void 0:l.token))&&a.disabledToken!==l.address&&n("onSelect",l)}),["stop","prevent"])},[d("div",bl,[y(I,{class:"mr-5px",row:u},null,8,["row"]),d("div",hl,[d("div",Tl,[d("span",yl,c(u.symbol),1),(((null==u?void 0:u.risk_score)||0)>55||((null==u?void 0:u.risk_level)||0)<0)&&1!==u.risk_level?(t(),o("span",gl,c(l.$t("highRisk")),1)):T("",!0)]),(null==u?void 0:u.tags)||u.address===r(w)?T("",!0):(t(),o("span",wl,c(null==(v=u.token)?void 0:v.slice(0,4))+"**"+c(null==(m=u.token)?void 0:m.slice(-4)),1))])]),(u.amount||0)>0||(u.value||0)>0?(t(),o("div",xl,[d("span",{class:"color-[--main-text] py-2px",innerHTML:u.amount||u.value?r(x)((null==u?void 0:u.amount)||(null==u?void 0:u.value)||""):""},null,8,_l),d("span",{class:"color-[--third-text]",innerHTML:`$ ${r(x)((u.current_price_usd||u.price||0)*((null==u?void 0:u.amount)||(null==u?void 0:u.value)||0))}`},null,8,Il)])):T("",!0)],10,kl)})),128))])])),_:1})),[[A,e.loading]]):(t(),o("div",Sl,[d("div",null,[v[0]||(v[0]=d("img",{src:_},null,-1)),v[1]||(v[1]=d("br",null,null,-1)),d("span",null,c(l.$t("noSearchResults")),1)])]))])}}}),[["__scopeId","data-v-c8be3486"]]),Nl={class:"text-14px color-[--main-text] font-400 ml-3px"},$l={key:1},Fl={class:"search-content",style:{"padding-top":"10px"}},Pl=m(e({__name:"selectSwapToken",props:{tokens:{type:Array,default:()=>[]},token:{type:Object,default:()=>({token:"",address:"",symbol:"",logo_url:"",chain:""})},chain:{type:String,default:""},disabledToken:{type:String,default:""}},emits:["update:token"],setup(e,{emit:l}){const{t:s}=a(),v=e,m=l,k=I(!1),b=I(""),T=I(v.tokens||[]),w=I(!1),x=n((()=>{var e;return(null==(e=T.value)?void 0:e.length)>0?T.value:v.tokens||[]}));S(b,(e=>{""!==e?V():T.value=v.tokens})),S(k,(e=>{e&&(T.value=v.tokens||[],b.value="")}));let _=null;function V(){_&&(clearTimeout(_),_=null),_=setTimeout((()=>{!function(){var e;if(""!==b.value){const l=new RegExp(b.value,"i"),a=(null==(e=v.tokens)?void 0:e.filter((e=>l.test((null==e?void 0:e.address)||"")||l.test((null==e?void 0:e.symbol)||"")||l.test((null==e?void 0:e.name)||""))))||[];w.value=!0,A(b.value,v.chain).then((e=>{var l,n,o;const t=null==(o=null==(n=null==(l=e.filter)?void 0:l.call(e,(e=>e.chain===v.chain&&!a.some((l=>l.token===e.token)))))?void 0:n.map)?void 0:o.call(n,(e=>({...e,address:e.token})));T.value=[...a,...t]})).catch((e=>{T.value=[]})).finally((()=>{w.value=!1}))}else T.value=v.tokens}()}),500)}function E(e){var l,a;e.address!==v.disabledToken&&((null==e?void 0:e.address)||(null==e?void 0:e.token))&&(m("update:token",{...e,value:(null==(l=null==e?void 0:e.value)?void 0:l.toString())||0,balance:(null==(a=null==e?void 0:e.balance)?void 0:a.toString())||0}),k.value=!1)}return(e,l)=>{var a,n,m,T;const _=g,I=N,S=R,A=P,U=$;return t(),o(u,null,[d("button",{class:"flex items-center bg-transparent border-none p-0 clickable text-14px",type:"button",onClick:l[0]||(l[0]=h((e=>k.value=!0),["stop"]))},[(null==(a=v.token)?void 0:a.address)||(null==(n=v.token)?void 0:n.token)?(t(),o(u,{key:0},[(t(),p(_,{key:null==(m=v.token)?void 0:m.address,row:v.token},null,8,["row"])),d("span",Nl,c((null==(T=v.token)?void 0:T.symbol)||""),1)],64)):(t(),o("div",$l,c(e.$t("pleaseSelectToken")),1)),y(I,{class:i(["arrow-up",{active:!0===r(k)}]),name:"solar:alt-arrow-down-bold"},null,8,["class"])]),y(U,{modelValue:r(k),"onUpdate:modelValue":l[3]||(l[3]=e=>F(k)?k.value=e:null),"append-to-body":"",class:"dialog-select",width:"420px"},{header:f((()=>[d("span",null,c(r(s)("selectToken")),1)])),default:f((()=>[d("div",{class:"search-dialog-container",onClick:l[2]||(l[2]=h((()=>{}),["stop"]))},[y(A,{ref:"inputSearch",modelValue:r(b),"onUpdate:modelValue":l[1]||(l[1]=e=>F(b)?b.value=e:null),modelModifiers:{trim:!0},placeholder:r(s)("enterAddress/token"),clearable:"",onKeydown:C(V,["enter"])},{prefix:f((()=>[y(S,null,{default:f((()=>[y(r(M))])),_:1})])),_:1},8,["modelValue","placeholder"]),d("div",Fl,[y(Al,{searchTokens:r(x),loading:r(w),disabledToken:v.disabledToken||v.token.address,onOnSelect:E},null,8,["searchTokens","loading","disabledToken"])])])])),_:1},8,["modelValue"])],64)}}}),[["__scopeId","data-v-8463053e"]]),Cl={class:"flex items-center"},Rl={key:0,class:"mr-5px color-[--main-text]"},Ml={key:1,class:"mr-5px"},Vl={class:"text-18px color-#fff font-400"},El={class:"slippage-label"},Ul={class:"mt-10px"},Dl=["id","value","disabled"],Ol=["for"],Bl={class:"slippage-input"},jl={key:0,class:"tip"},Hl={class:"form-submit"},Ll=m(e({__name:"slippageSet",props:{slippage:{type:[String,Number],default:"2"},autoSlippage:{type:String,default:"2"},canSetAuto:{type:Boolean,default:!0}},emits:["update:slippage"],setup(e,{emit:l}){const n=e,i=l,{t:v}=a(),m=[.1,.5,1],b=I("auto"===n.slippage?void 0:Number(n.slippage)),g=I(!1),w=I("auto"===n.slippage);function x(){void 0===b.value?i("update:slippage","auto"):i("update:slippage",String(b.value)),g.value=!1}function _(){j.alert(v("slippageTips"),{title:v("slippage"),confirmButtonText:v("iKnown")})}function A(){b.value&&Number(b.value)>49.99&&(b.value=49.99)}function P(e){return Number(e)<=49.99}return S(g,(e=>{e&&(b.value="auto"===n.slippage?void 0:Number(n.slippage))})),S(w,(e=>{e&&(b.value=void 0)})),(l,a)=>{const n=N,i=R,v=U,I=nl,S=ol,C=al,M=O,j=V,H=$;return t(),o("div",null,[d("div",Cl,[e.canSetAuto?(t(),o("span",Rl,c("auto"===e.slippage?l.$t("autoSlippage"):l.$t("manualSlippage"))+"("+c("auto"===e.slippage?e.autoSlippage:e.slippage)+"%) ",1)):(t(),o("span",Ml,c(e.slippage)+"%",1)),y(n,{class:"clickable",name:"tdesign:setting-1",onClick:a[0]||(a[0]=h((e=>g.value=!0),["stop"]))})]),y(H,{modelValue:r(g),"onUpdate:modelValue":a[4]||(a[4]=e=>F(g)?g.value=e:null),width:"500px","append-to-body":""},{header:f((()=>[d("span",Vl,c(l.$t("setSlippage")),1)])),default:f((()=>[y(j,{class:"popup-content",onSubmit:h(x,["prevent"])},{default:f((()=>[d("div",El,[d("span",null,c(l.$t("slippage")),1),y(i,{size:15,color:"#80838B",style:{cursor:"pointer","margin-left":"5px","margin-right":"auto"},onClick:h(_,["stop"])},{default:f((()=>[y(r(E))])),_:1}),e.canSetAuto?(t(),p(v,{key:0,modelValue:r(w),"onUpdate:modelValue":a[1]||(a[1]=e=>F(w)?w.value=e:null),label:l.$t("autoSlippage"),size:"large"},null,8,["modelValue","label"])):T("",!0)]),d("div",Ul,[y(C,{gutter:10},{default:f((()=>[(t(),o(u,null,s(m,((e,l)=>y(I,{key:l,span:6,class:"radio-group"},{default:f((()=>[k(d("input",{id:`radio-${e}`,"onUpdate:modelValue":a[2]||(a[2]=e=>F(b)?b.value=e:null),type:"radio",value:e,disabled:r(w),class:"radio-input"},null,8,Dl),[[D,r(b)]]),d("label",{for:`radio-${e}`,class:"radio-item"},c(e)+"%",9,Ol)])),_:2},1024))),64)),y(I,{span:6},{default:f((()=>[d("div",Bl,[y(S,{modelValue:r(b),"onUpdate:modelValue":a[3]||(a[3]=e=>F(b)?b.value=e:null),class:"select bg-#212847 w-full",name:"slippage",type:"number",min:0,max:49.99,step:.01,disabled:r(w),"controls-position":"right",clearable:"",rules:[{required:!0,message:l.$t("enterSlippage")},{validator:P,message:l.$t("slippageMaxTip")}],onBlur:A},null,8,["modelValue","disabled","rules"]),a[5]||(a[5]=d("span",{class:"color-fff"},"%",-1))])])),_:1})])),_:1}),void 0!==r(b)&&Number(r(b))<=.1?(t(),o("span",jl,c(l.$t("slippageTip1")),1)):T("",!0)]),d("div",Hl,[y(M,{class:"swap-button w-full rd-8px!",size:"large",block:"","native-type":"submit",type:"primary",disabled:0==e.slippage},{default:f((()=>[B(c(l.$t("confirm1")),1)])),_:1},8,["disabled"])])])),_:1})])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-1eb2e286"]]),zl={class:"token-item header"},Wl={class:"flex-3"},Xl={class:"flex-1-5"},ql={class:"flex-1 right-label"},Gl=["onClick"],Ql={class:"token-item"},Zl={class:"path-list flex-start flex-3"},Kl={key:0},Jl={key:1,class:"path-amm"},Yl={key:0,class:"tag"},ea=["innerHTML"],la=m(e({__name:"selectRouter",props:{visible:{type:Boolean,default:!1},listRouter:{type:Array,default:()=>[]},isAmount:{type:Boolean,default:!1},selectedRouterIndex:{type:Number,default:0}},emits:["getSelectedRouter","update:visible"],setup(e,{emit:l}){const a=e,i=l,v=n({get:()=>a.visible,set(e){i("update:visible",e)}});function m(e){return e>40?"#ff646d":e>10?"#F7933F":e>5?"#f8be46":""}return(l,a)=>{const n=tl,b=L,g=R,w=$;return t(),p(w,{modelValue:r(v),"onUpdate:modelValue":a[0]||(a[0]=e=>F(v)?v.value=e:null),class:"dialog-zixuan dialog",width:"600px"},{header:f((()=>[d("span",null,c(l.$t("selectRouter")),1)])),default:f((()=>[d("ul",null,[d("li",zl,[d("span",Wl,c(l.$t("router")),1),d("span",Xl,c(e.isAmount?l.$t("expectedAmount"):l.$t("expectedPay")),1),d("span",ql,c(l.$t("priceImpact")),1),a[1]||(a[1]=d("span",{class:"w-16px"},null,-1))]),k(y(n,{image:r(_)},null,8,["image"]),[[H,e.listRouter&&0===e.listRouter.length]]),(t(!0),o(u,null,s(e.listRouter,((n,v)=>(t(),o("a",{key:v,href:"",onClick:h((e=>(e=>{i("getSelectedRouter",e)})(v)),["stop","prevent"])},[d("li",Ql,[d("div",Zl,[(t(!0),o(u,null,s((null==n?void 0:n.path)||[],((e,n)=>(t(),o(u,{key:n},[e.symbol?(t(),o("span",Kl,c(e.symbol),1)):T("",!0),e.nextAmm&&"unknown"!==e.nextAmm?(t(),o("div",Jl,[y(b,{src:("formatIconSwap"in l?l.formatIconSwap:r(z))(e.nextAmm),class:"w-14px h-14px rd-10px mb-3px",style:{width:"14px",height:"14px","border-radius":"10px","margin-bottom":"3px"}},{error:f((()=>a[2]||(a[2]=[d("img",{class:"w-14px rd-10px",src:ul},null,-1)]))),placeholder:f((()=>a[3]||(a[3]=[d("img",{class:"w-14px rd-10px",src:ul},null,-1)]))),_:2},1032,["src"]),a[4]||(a[4]=d("img",{class:"w-15px mr-5px",src:ml,alt:"",srcset:""},null,-1))])):T("",!0)],64)))),128)),0===v?(t(),o("div",Yl,c(l.$t("best")),1)):T("",!0)]),d("span",{class:"flex-1-5",innerHTML:("formatNumber"in l?l.formatNumber:r(x))((null==n?void 0:n.amount)||0)},null,8,ea),Number((null==n?void 0:n.priceImpact)||0)<10?(t(),o("span",{key:0,class:"right-label flex-1",style:W({color:m(Number(n.priceImpact||0))})},[Number(n.priceImpact)<.01?(t(),o(u,{key:0},[B("<0.01%")],64)):(t(),o(u,{key:1},[B(c(("formatNumber"in l?l.formatNumber:r(x))(Number((null==n?void 0:n.priceImpact)||0)))+"%",1)],64))],4)):(t(),o("span",{key:1,class:"right-label flex-1",style:W({color:m(Number((null==n?void 0:n.priceImpact)||0))})},[Number(n.priceImpact)>40?(t(),o(u,{key:0},[B(">40%")],64)):(t(),o(u,{key:1},[B(c(("formatNumber"in l?l.formatNumber:r(x))(Number((null==n?void 0:n.priceImpact)||0),2))+"%",1)],64))],4)),e.selectedRouterIndex===v?(t(),p(g,{key:2,size:16,color:"#12B886"},{default:f((()=>[y(r(X))])),_:1})):(t(),p(g,{key:3,style:{opacity:"0"},size:16,color:"#12B886"},{default:f((()=>[y(r(X))])),_:1}))])],8,Gl)))),128))])])),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-4d353c82"]]),aa={key:0},na={key:1},oa={key:2},ta={class:"swap-info"},ua={class:"swap-info_item header"},sa={class:"header-li"},ia={class:"header-li_left"},ra={class:"color-#80838B mr-15px"},va=["src"],da={style:{"font-size":"14px"}},ca=["innerHTML"],ma={class:"header-li mt-34px"},pa={class:"header-li_left"},fa={class:"color-80838B mr-15px"},ka=["src"],ba={style:{"font-size":"14px"}},ha=["innerHTML"],Ta={class:"swap-info_item"},ya={class:"swap-info_item-label"},ga={class:"swap-info_item-value"},wa=["innerHTML"],xa=["innerHTML"],_a={key:0,class:"swap-info_item"},Ia={class:"swap-info_item-label"},Sa={class:"swap-info_item-value"},Aa={key:1,class:"swap-info_item"},Na={class:"swap-info_item-label"},$a={class:"swap-info_item-value"},Fa={key:0,class:"swap-info_item"},Pa={class:"swap-info_item-label"},Ca={class:"swap-info_item-value"},Ra={key:1,class:"swap-info_item"},Ma={class:"swap-info_item-label"},Va={class:"swap-info_item-value"},Ea={class:"swap-info_item"},Ua={class:"swap-info_item-label"},Da={key:0,class:"swap-info_item-value path-list"},Oa={key:0},Ba={class:"path-amm"},ja={key:1,style:{width:"15px",margin:"0 5px 0"},src:ml,alt:"",srcset:""},Ha={key:1},La={key:0,style:{width:"15px",margin:"0 5px 0"},src:ml,alt:"",srcset:""},za={key:1},Wa={key:3,class:"swap-info_item"},Xa={class:"swap-info_item-label"},qa={class:"swap-info_item-value"},Ga=["href"],Qa={class:"footer"},Za={key:1,class:"swap-info center"},Ka={class:"mt-20px"},Ja={class:"swap-info center"},Ya={class:"mt-20px"},en={class:"footer"},ln=m(e({__name:"confirmSwap",props:{visible:{type:Boolean,default:!1},swapInfo:{type:Object,default:()=>({})},slippage:{type:String,default:"2"},loading:{type:Boolean,default:!1},chain:{type:String,default:""},nativePrice:{type:[Number,String],default:0},gasPrice:{type:String,default:"0"},activeShow:{type:Number,default:0},swapQuoteInfo:{type:Object,default:()=>({})}},emits:["update:visible","submit"],setup(e,{emit:l}){const a=e,i=l,v=I(!1),m=n({get:()=>a.visible,set(e){i("update:visible",e)}}),b=n((()=>{var e,l,n,o;const t=(null==(l=null==(e=a.swapInfo)?void 0:e.toToken)?void 0:l.decimals)||0,u=null==(n=a.swapInfo)?void 0:n.toAmount;return x(u?new q(u||0).times(100-Number(a.slippage)).div(100).toFixed():G(new q((null==(o=a.swapInfo)?void 0:o.toTokenAmount)||0).times(100-Number(a.slippage)).div(100).toFixed(0),t))})),g=n((()=>{var e,l,n,o;const t=(null==(l=null==(e=a.swapInfo)?void 0:e.fromToken)?void 0:l.decimals)||0,u=null==(n=a.swapInfo)?void 0:n.fromAmount;return x(u?new q(u||0).times(100+Number(a.slippage)).div(100).toFixed():G(new q((null==(o=a.swapInfo)?void 0:o.fromTokenAmount)||0).times(100+Number(a.slippage)).div(100).toFixed(0),t))})),w=n((()=>{var e;return(null==(e=a.swapInfo)?void 0:e.swapRouterPath)||[]}));function _(e,l){return!e||!l||isNaN(Number(e))||isNaN(Number(l))?"0":x(new q(l).div(e).toFixed())||"0"}function A(){i("submit")}function P(){m.value=!1;const e=K(a.chain,a.swapInfo.transaction,"tx");window.open(e)}return S((()=>a.visible),(e=>{e&&(v.value=!1)})),(l,n)=>{const i=L,I=N,S=O,C=R,M=$,V=Q("copy");return t(),p(M,{modelValue:r(m),"onUpdate:modelValue":n[0]||(n[0]=e=>F(m)?m.value=e:null),width:"446px"},{header:f((()=>[1===e.activeShow?(t(),o("span",aa,c(l.$t("swap")),1)):2===e.activeShow?(t(),o("span",na,c(l.$t("waitForConfirming")),1)):3===e.activeShow?(t(),o("span",oa,c(l.$t("tradeSubmitted")),1)):T("",!0)])),default:f((()=>{var m,N,$,F,R,M,E,U,D,O,j,H,L,W,X,Q,Y;return[1==e.activeShow?(t(),o(u,{key:0},[d("ul",ta,[d("li",ua,[d("div",sa,[d("div",ia,[d("span",ra,c(l.$t("sell")),1),d("img",{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:r(Z))({symbol:e.swapInfo.fromToken.symbol||"",logo_url:e.swapInfo.fromToken.logo_url||"",chain:e.swapInfo.fromToken.chain||a.chain||""}),alt:"",onerror:"this.src='/icon-default.png'",height:"20"},null,8,va),d("span",da,c(e.swapInfo.fromToken.symbol),1)]),d("div",{class:"header-li_right",innerHTML:r(x)((null==(m=e.swapInfo)?void 0:m.fromAmount)||("formatUnits"in l?l.formatUnits:r(G))(e.swapInfo.fromTokenAmount||0,e.swapInfo.fromToken.decimals))||"0"},null,8,ca)]),d("div",ma,[d("div",pa,[d("span",fa,c(l.$t("buy")),1),d("img",{class:"icon-token",src:("getSymbolDefaultIcon"in l?l.getSymbolDefaultIcon:r(Z))({symbol:e.swapInfo.toToken.symbol||"",logo_url:e.swapInfo.toToken.logo_url||"",chain:e.swapInfo.toToken.chain||a.chain||""}),alt:"",onerror:"this.src='/icon-default.png'",height:"20"},null,8,ka),d("span",ba,c(e.swapInfo.toToken.symbol),1)]),d("div",{class:"header-li_right",innerHTML:r(x)((null==(N=e.swapInfo)?void 0:N.toAmount)||("formatUnits"in l?l.formatUnits:r(G))(e.swapInfo.toTokenAmount||0,e.swapInfo.toToken.decimals))||"0"},null,8,ha)])]),d("li",Ta,[d("div",ya,c(l.$t("price")),1),d("div",ga,[d("div",{class:"p-item",innerHTML:`1 ${e.swapInfo.fromToken.symbol} = ${_((null==($=e.swapInfo)?void 0:$.fromAmount)||("formatUnits"in l?l.formatUnits:r(G))(e.swapInfo.fromTokenAmount||0,e.swapInfo.fromToken.decimals),(null==(F=e.swapInfo)?void 0:F.toAmount)||("formatUnits"in l?l.formatUnits:r(G))(e.swapInfo.toTokenAmount||0,e.swapInfo.toToken.decimals))} ${e.swapInfo.toToken.symbol}`},null,8,wa),d("div",{class:"p-item",innerHTML:`1 ${e.swapInfo.toToken.symbol} = ${_((null==(R=e.swapInfo)?void 0:R.toAmount)||("formatUnits"in l?l.formatUnits:r(G))(e.swapInfo.toTokenAmount||0,e.swapInfo.toToken.decimals),(null==(M=e.swapInfo)?void 0:M.fromAmount)||("formatUnits"in l?l.formatUnits:r(G))(e.swapInfo.fromTokenAmount||0,e.swapInfo.fromToken.decimals))} ${e.swapInfo.fromToken.symbol}`},null,8,xa)])]),e.swapInfo.fromToken.isWrapper&&e.swapInfo.toToken.isETH||e.swapInfo.toToken.isWrapper&&e.swapInfo.fromToken.isETH?T("",!0):(t(),o("li",_a,[d("div",Ia,c(l.$t("slippage")),1),d("div",Sa,c(e.slippage)+"%",1)])),e.swapInfo.gasValue&&"tron"!==e.chain&&"solana"!==e.chain?(t(),o("li",Aa,[d("div",Na,c(l.$t("estimatedGas")),1),d("div",$a,"≈ $"+c((Y=e.swapInfo.gasValue,Y&&Number(new q(Y.toString()).times(a.nativePrice).times(a.gasPrice).div(String(10**18)).toFixed(2))||"0")),1)])):T("",!0),e.swapInfo.fromToken.isWrapper&&e.swapInfo.toToken.isETH||e.swapInfo.toToken.isWrapper&&e.swapInfo.fromToken.isETH?T("",!0):(t(),o(u,{key:2},[e.swapInfo.isAmountOut?(t(),o("li",Ra,[d("div",Ma,c(l.$t("maximumReceived")),1),d("div",Va,c(r(g))+" "+c(null==(O=null==(D=e.swapInfo)?void 0:D.fromToken)?void 0:O.symbol),1)])):(t(),o("li",Fa,[d("div",Pa,c(l.$t("minimumReceived")),1),d("div",Ca,c(r(b))+" "+c(null==(U=null==(E=e.swapInfo)?void 0:E.toToken)?void 0:U.symbol),1)]))],64)),d("li",Ea,[d("div",Ua,c(l.$t("tokenRoute")),1),e.swapInfo.fromToken.isWrapper&&e.swapInfo.toToken.isETH||e.swapInfo.toToken.isWrapper&&e.swapInfo.fromToken.isETH?(t(),o("div",Ha,[(t(!0),o(u,null,s(r(w),((e,l)=>(t(),o(u,{key:l},[0!==l?(t(),o("img",La)):T("",!0),e.symbol?(t(),o("span",za,c(e.symbol),1)):T("",!0)],64)))),128))])):(t(),o("div",Da,[(t(!0),o(u,null,s(r(w),((e,a)=>(t(),o(u,{key:a},[e.symbol?(t(),o("span",Oa,c(e.symbol),1)):T("",!0),d("div",Ba,[e.nextAmm&&"unknown"!==e.nextAmm?(t(),p(i,{key:0,src:("formatIconSwap"in l?l.formatIconSwap:r(z))(e.nextAmm),style:{width:"14px",height:"14px","border-radius":"10px","margin-bottom":"3px"}},{error:f((()=>n[1]||(n[1]=[d("img",{style:{width:"14px","border-radius":"10px"},src:ul},null,-1)]))),placeholder:f((()=>n[2]||(n[2]=[d("img",{style:{width:"14px","border-radius":"10px"},src:ul},null,-1)]))),_:2},1032,["src"])):T("",!0),a!==r(w).length-1?(t(),o("img",ja)):T("",!0)])],64)))),128))]))]),(null==(j=e.swapInfo)?void 0:j.transaction)?(t(),o("li",Wa,[d("div",Xa,c(l.$t("txHash")),1),d("div",qa,[d("a",{href:("formatExplorerUrl"in l?l.formatExplorerUrl:r(K))(e.chain,e.swapInfo.transaction,"tx"),target:"_blank"},c((null==(L=null==(H=e.swapInfo)?void 0:H.transaction)?void 0:L.slice(0,6))+"..."+(null==(X=null==(W=e.swapInfo)?void 0:W.transaction)?void 0:X.slice(-6))),9,Ga),k(y(I,{name:"bxs:copy",class:"clickable ml-5px"},null,512),[[V,null==(Q=e.swapInfo)?void 0:Q.transaction]])])])):T("",!0)]),d("div",Qa,[y(S,{class:"swap-button w-full",type:"primary",size:"large",loading:e.loading,"loading-text":l.$t("confirming"),block:"",disabled:r(v),onClick:h(A,["stop"])},{default:f((()=>[B(c(l.$t("confirm")),1)])),_:1},8,["loading","loading-text","disabled"])])],64)):2===e.activeShow?(t(),o("div",Za,[y(C,{size:110,color:"#747782",style:{animation:"rotating 2s linear infinite normal"}},{default:f((()=>[y(r(J))])),_:1}),d("span",Ka,c(l.$t("plsConfirmWallet")),1)])):3===e.activeShow?(t(),o(u,{key:2},[d("div",Ja,[y(I,{name:"lineicons:arrow-up-circle",class:"text-110px"}),d("span",Ya,c(l.$t("plsViewBlockChainExplorer")),1)]),d("div",en,[y(S,{class:"swap-button w-full",type:"primary",size:"large",block:"",onClick:h(P,["stop"])},{default:f((()=>[B(c(l.$t("viewTransition")),1)])),_:1})])],64)):T("",!0)]})),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-ea1165d0"]]),an=Y("swap",(()=>{const e=ee("swap_token1",{address:"",symbol:"",logo_url:"",chain:"",balance:0,decimals:0}),a=ee("swap_token2",{address:"",symbol:"",logo_url:"",chain:"",balance:0,decimals:0}),o=l(),t=le(),u=ae(0),s=I(2),i=n((()=>0===u.value?a.value:e.value)),r=n((()=>0===u.value?e.value:a.value)),d=I(t.tokenInfo),c=I(t.tokenInfoExtra),m=ne(),p=n((()=>o.chain||oe(m.params.id).chain||"")),f=I([]),k=n((()=>{var e,l,a,n,o,t;const u=[...(null==(l=null==(e=f.value)?void 0:e.slice)?void 0:l.call(e))||[]];return(null==(a=null==u?void 0:u[0])?void 0:a.chain)&&(null==(n=null==u?void 0:u[0])?void 0:n.chain)!==(null==(t=null==(o=h.value)?void 0:o[0])?void 0:t.chain)?u:(h.value.slice().forEach((e=>{const l=u.find((l=>l.token+"-"+l.chain==e.token+"-"+e.chain));l?l.logo_url=e.logo_url:u.push({...e,value:0})})),u.length>0?u:h.value.slice())})),b=I("0"),h=ae([]),T=I(!1),y=I(!1),g=I(!1),_=I(!1),S=I(!1),A=I(0),N=I(!1),$=I(!1),F=I(""),P=I(0),C=I(""),R=I("");function M(){const a=l();if(e.value.chain===a.chain)return te({tokenAddress:e.value.address,chain:a.chain,spender:ue(a.chain)}).then((async l=>{var a,n;if(null==l?void 0:l.address)return e.value={...e.value,...l},1===u.value&&(b.value=e.value.allowance||"0"),f.value=null==(n=null==(a=f.value)?void 0:a.map)?void 0:n.call(a,(a=>(a.token===e.value.address&&(a={...a,...l,value:l.balance}),a))),l}))}function V(){const e=l();if(a.value.chain===e.chain)return te({tokenAddress:a.value.address,chain:e.chain,spender:ue(e.chain)}).then((async e=>{var l,n;if(null==e?void 0:e.address)return a.value={...a.value,...e},0===u.value&&(b.value=a.value.allowance||"0"),f.value=null==(n=null==(l=f.value)?void 0:l.map)?void 0:n.call(l,(l=>(l.token===a.value.address&&(l={...l,...e,value:e.balance}),l))),e}))}function E(){M(),V()}function U(){const e=l(),a=e.chain,n=e.address;n&&a&&se().then((e=>{var l,o,t,u;f.value="solana"===a?null==(l=null==e?void 0:e.map)?void 0:l.call(e,(e=>({...e}))):null==(u=(null==(t=null==(o=null==e?void 0:e.map((e=>({...e,id:e.token+"-"+e.chain,address:e.token}))))?void 0:o.filter)?void 0:t.call(o,(e=>(e.risk_score||0)<60&&(e.risk_level||0)>=0&&"blacklist"!==e.flag&&""!==e.symbol&&"lp"!==e.flag)))||[])?void 0:u.filter((e=>!!Number(e.value))),f.value.length>0&&"solana"!==a&&"sui"!==a&&(/^0x[0-9a-zA-Z]{40}$/.test(n)||ie(n,"tron"))&&re(f.value.map((e=>e.token||"")),a).then((e=>{var l,a,n;f.value=null==(n=null==(a=null==(l=f.value)?void 0:l.map)?void 0:a.call(l,((l,a)=>({...l,value:G(e[a],(null==l?void 0:l.decimals)||0)}))))?void 0:n.filter((e=>!!Number(e.value)))}))}))}function D(l,n){var o,u,s,i;let r=e.value.address,p=e.value.chain;if(!r||!p)return;const f=r+"-"+p;if(e.value.address&&(r=e.value.address),e.value.chain&&(p=e.value.chain),e.value.address===(null==(o=t.token)?void 0:o.token)&&(d.value={...t.tokenInfo},e.value={...e.value,address:(null==(s=null==(u=d.value)?void 0:u.token)?void 0:s.token)||"",...null==(i=d.value)?void 0:i.token}),r&&p){let o=r+"-"+p;const t=v(p),u=null==t?void 0:t.wmain_wrapper,s=null==t?void 0:t.main_name;r===w&&p&&u&&(o=u+"-"+p);const i=ve(o).then((async n=>{var o,t,u,i,v,c,f,k,b,g,I,M,V,E,U,D,O,B;const j=n||{};d.value={...j,...r===w?{token:{...(null==n?void 0:n.token)||{},token:r,symbol:s}}:{}},e.value={...e.value,address:(null==(t=null==(o=d.value)?void 0:o.token)?void 0:t.token)||"",...null==(u=d.value)?void 0:u.token},"solana"===p?P.value=(null==(i=d.value)?void 0:i.token.current_price_usd)?x(d.value.token.current_price_usd):"":(C.value=(null==(v=d.value)?void 0:v.token.current_price_usd)?x(null==(f=null==(c=d.value)?void 0:c.token)?void 0:f.current_price_usd):"",R.value=(null==(k=d.value)?void 0:k.token.current_price_usd)?x(null==(g=null==(b=d.value)?void 0:b.token)?void 0:g.current_price_usd):"");const H=null==(I=null==n?void 0:n.pairs)?void 0:I[0],L=null==H?void 0:H.pair;if(!L||"moonshot"===(null==H?void 0:H.amm)||(null==(M=null==H?void 0:H.amm)?void 0:M.includes("fourmeme"))||"flapswap"===(null==H?void 0:H.amm)||"sunpump"===(null==H?void 0:H.amm)||"dyorswapfun"===(null==H?void 0:H.amm)||(null==H?void 0:H.target_token)!==L&&!new RegExp(null==H?void 0:H.target_token,"i").test(L))T.value=!1;else if(T.value=!0,a.value.address!==w&&(null==(V=h.value)?void 0:V.length)>0){const e={...null==(U=null==(E=h.value)?void 0:E.slice())?void 0:U.find((e=>e.address===w))};a.value={...e},setTimeout((()=>{l&&l(a.value)}),1e3)}(null==(D=null==H?void 0:H.amm)?void 0:D.includes("fourmeme"))?_.value=!0:_.value=!1,"dyorswapfun"===(null==H?void 0:H.amm)&&"xlayer"===(null==H?void 0:H.chain)?N.value=!0:N.value=!1,"xflapswap"===(null==H?void 0:H.amm)&&"xlayer"===(null==H?void 0:H.chain)?$.value=!0:$.value=!1,"flapswap"===(null==H?void 0:H.amm)?S.value=!0:S.value=!1;const z=["TPeoxx1VhUMnAUyjwWfximDYFDQaxNQQ45","TXL6rJbvmjD46zeN1JssfgxvSo99qC8MRT","TAwAg9wtQzTMFsijnSFotJrpxhMm3AqW1d"];return"sunpump"===(null==H?void 0:H.amm)?A.value=1:(null==(O=null==n?void 0:n.pairs)?void 0:O.some((e=>"sunpump"===e.amm)))||(null==(B=null==z?void 0:z.includes)?void 0:B.call(z,r))?A.value=2:A.value=0,F.value=(null==H?void 0:H.amm)||"",function(l){return new Promise((n=>{var o;const t=(null==(o=m.params)?void 0:o.id)||"";let[u,s]=oe(t,1);e.value.address&&(u=e.value.address),e.value.chain&&(s=e.value.chain),u&&"solana"===s?ce(u).then((e=>{var o,t,u;if(!1===(null==e?void 0:e.completed)){if("So11111111111111111111111111111111111111112"!==a.value.address&&(null==(o=h.value)?void 0:o.length)>0){const e={...null==(u=null==(t=h.value)?void 0:t.slice())?void 0:u.find((e=>"So11111111111111111111111111111111111111112"===e.address))};a.value={...e},setTimeout((()=>{l&&l(e)}),1e3)}n(!0)}else y.value=!1,n(!1)})):(y.value=!1,n(!1))}))}(l).catch((async()=>!1)),n})),k=de(f).then((async e=>(c.value={...e,buy_tax:Number(Number((null==e?void 0:e.buy_tax)||0).toFixed(2)),sell_tax:Number(Number((null==e?void 0:e.sell_tax)||0).toFixed(2))},n&&n(),e)));Promise.all([i,k]).finally((()=>{}))}}return{token1:e,token2:a,chain:p,fromToken:i,toToken:r,baseToken:d,baseTokenExtra:c,allowance:b,activeTab:u,swapType:s,isFourMeme:_,isFlap:S,isPump:y,isMoonshot:g,isERC314:T,isSunPump:A,isDyorswapfun:N,isXflapswap:$,userBalanceTokens:f,getTokenDetails:E,getToken2Info:V,getToken1Info:M,getBaseToken:D,swapTokens:k,init:function(){var l;const[n,t]=oe(null==(l=m.params)?void 0:l.id,1),u=o.chain;n&&n!==e.value.address&&(e.value={address:n||"",chain:t||"",balance:0,symbol:"",decimals:0,logo_url:""}),u===a.value.chain&&a.value.address||(a.value={address:"",chain:u||"",balance:0,symbol:"",decimals:0,logo_url:""}),function(){const l=o.chain||oe(m.params.id).chain||"";me().then((n=>{var o,t,u,s,i,r,v,d;h.value=(null==n?void 0:n.map((e=>({...e,id:e.token+"-"+e.chain,address:e.token,decimals:e.token===w&&"solana"===l?9:e.decimals}))))||[],"solana"===l&&(h.value=null==(t=null==(o=h.value)?void 0:o.filter)?void 0:t.call(o,(e=>e.token!==w)).sort((e=>"So11111111111111111111111111111111111111112"===e.token?-1:1))),"sui"===l&&(h.value=null==(r=null==(i=null==(s=null==(u=h.value)?void 0:u.filter)?void 0:s.call(u,(e=>e.token!==w)))?void 0:i.map)?void 0:r.call(i,(e=>({...e,token:"0x2::sui::SUI"===e.token?w:e.token,address:"0x2::sui::SUI"===e.token?w:e.token}))).sort((e=>e.token===w?-1:1)));const c=e.value.address===a.value.address,m=(T.value||_.value||S.value||A.value>0||N.value||$.value)&&a.value.address!==w,p=(y.value||g.value)&&"solana"===l&&"So11111111111111111111111111111111111111112"===a.value.address,f="sui"===l&&"0x2::sui::SUI"!==a.value.address&&a.value.address!==w;if((!a.value.address||c||a.value.chain!==l||m||p||f)&&h.value.length>0){let l=h.value.findIndex((e=>/USDT/.test(e.symbol)));l=l<0?h.value.findIndex((e=>/USD/.test(e.symbol))):l,l=l<0?0:l;let n=h.value[l];if(e.value.address===n.address&&(n=0===l?h.value[1]??h.value[0]:h.value[0]),T.value||y.value||g.value||_.value||S.value||A.value>0||f||N.value||$.value){const e=null==(d=null==(v=h.value)?void 0:v.slice)?void 0:d.call(v).find((e=>e.address===w||"So11111111111111111111111111111111111111112"===e.address||"0x2::sui::SUI"===e.address));e&&(a.value={...e})}else a.value={...n}}}))}(),U(),me(),D(),E()},getUserTokenList:U}})),nn={key:0,class:"gap"},on=["onClick"],tn={class:"text"},un=m(e({__name:"percentStep",props:{activeColor:{type:String,default:""}},emits:["change"],setup(e,{expose:l,emit:a}){const n=a,v=I(0),m=[25,50,75,100],p=(e,l=!1)=>{e===v.value?(v.value=0,n("change",0,l)):(v.value=e,n("change",e,l))};return l({handleClick:p}),(l,a)=>(t(),o("div",{class:"percent-container",style:W({"--percent-active-color":e.activeColor})},[d("div",{for:"percent-radio-0",class:i({active:0===r(v)})},null,2),(t(),o(u,null,s(m,((e,l)=>(t(),o(u,{key:l},[0!==l?(t(),o("div",nn)):T("",!0),d("div",{class:i(["label",{active:e===r(v)}]),onClick:h((l=>p(e)),["stop"])},[a[0]||(a[0]=d("div",{class:"bar"},null,-1)),d("div",tn,c(e)+"%",1)],10,on)],64)))),64))],4))}}),[["__scopeId","data-v-9ac60cd3"]]),sn={class:"card-container mt-10px"},rn={class:"flex items-center"},vn=["innerHTML"],dn={class:"flex justify-between items-center mt-10px"},cn={class:"card-container bottom mt-10px"},mn={class:"flex items-center"},pn=["innerHTML"],fn={class:"flex justify-between items-center mt-10px"},kn={key:0},bn={key:1},hn=["innerHTML"],Tn={class:"swap-label"},yn={class:"slippage-container"},gn={class:"swap-label_item-left"},wn={style:{display:"flex","align-items":"center"}},xn={class:"swap-label_item-left"},_n={class:"swap-label_item-left"},In={key:0},Sn={key:0,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:ml,alt:"",srcset:""},An={key:1},Nn={key:1},$n={key:0,style:{width:"15px",margin:"1px 5px 0"},src:ml,alt:"",srcset:""},Fn={key:1},Pn={key:0},Cn={key:1,class:"path-amm"},Rn=["src"],Mn={key:0,class:"select-token iconfont icon-collapse-down"},Vn={key:0},En={class:"swap-label_item-left"},Un="2",Dn=m(e({__name:"market",setup(e){const{t:i}=a(),m=pe(),b=an(),g=le(),_=l(),A=I(!1),$=I(!1),C=I(!1),R=n((()=>b.chain)),M=I(!1),V=I(!1),E=I(Un),U=fe("swapSlippage","auto"),D=fe("solanaSlippage","9"),L=fe("suiTonSlippage","2"),z=I(!1),X=I(!1),Q=I(!1),Z=ke("percentStepInf"),K=I([]),J=I(!1),Y=I(0),ee=I(0),oe=I(0),te=I([0,0]),se=I(!1),ie=I({fromToken:{symbol:"",decimals:18,address:"",logo_url:""},toToken:{symbol:"",decimals:18,address:"",logo_url:""},gasValue:"0",swapRouterPath:[],isAmountOut:!1}),re={},ve={},de=I("0"),ce=I("0"),me=n((()=>{const e=ie.value.gasValue;if(!e)return"0";const l=de.value,a=ce.value;return x(new q(e.toString()).times(a).times(l).div(String(10**18)).toFixed()||"0",2)})),Qe=I({}),Ze=n((()=>"auto"===U.value?E.value:U.value)),Ke=n((()=>{if(["solana","ton","sui"].includes(b.chain)||b.fromToken.address===w)return!0;if(!b.allowance)return!1;const e=b.fromToken.decimals||0;return be(new q(vl.value||0).toFixed(Number(e)||0),e).lte(b.allowance)})),Je=n((()=>{if(!Number(vl.value)&&!Number(dl.value))return"";const e=b.chain;if("solana"===e)return new q(Y.value||0);if("sui"===e)return new q(ee.value||0);const l=ol.value.routerPath,a=(null==l?void 0:l.length)>0?null==l?void 0:l[0]:ol.value.fromToken||null,n=(null==l?void 0:l.length)>0?null==l?void 0:l[l.length-1]:ol.value.toToken||null;if(a&&n){const e=ol.value.from_price||0,l=ol.value.to_price||0,o=G(a.amount,a.decimals),t=G(n.amount,n.decimals);return new q(o).times(e).div(new q(t).times(l)).minus(1).abs()}return""})),Ye=n((()=>Je.value?x(Je.value.times(100).toFixed(),2)+"%":"")),el=n((()=>{var e,l,a,n,o,t;return""===Je.value?"":(null==(l=null==(e=Je.value)?void 0:e.gt)?void 0:l.call(e,.4))?"#F81111":(null==(n=null==(a=Je.value)?void 0:a.gt)?void 0:n.call(a,.1))?"#F7933F":(null==(t=null==(o=Je.value)?void 0:o.gt)?void 0:t.call(o,.05))?"#f8be46":""})),ll=n((()=>{var e,l,a,n;if(!_.address||!_.provider)return"#999";if(""!==Je.value){if(null==(l=null==(e=Je.value)?void 0:e.gt)?void 0:l.call(e,.4))return"#999";if(null==(n=null==(a=Je.value)?void 0:a.gt)?void 0:n.call(a,.1))return"#F7933F"}return 0===b.activeTab?he[0]:1===b.activeTab?Te[0]:"#558BED"})),al=n((()=>{var e,l,a,n,o,t,u;const s=(null==(e=ol.value)?void 0:e.totalTax)||((null==(l=ol.value)?void 0:l.total_sell_tax)||0)+((null==(a=ol.value)?void 0:a.total_buy_tax)||0);return s>0?`(${i("tax")}: ${x(s,1)}%)`:0===b.activeTab&&((null==(n=b.baseTokenExtra)?void 0:n.buy_tax)||0)>0?`(${i("tax")}: ${x((null==(o=b.baseTokenExtra)?void 0:o.buy_tax)||0,1)}%)`:1===b.activeTab&&((null==(t=b.baseTokenExtra)?void 0:t.sell_tax)||0)>0?`(${i("tax")}: ${x((null==(u=b.baseTokenExtra)?void 0:u.sell_tax)||0,1)}%)`:""})),nl=ae([]),ol=I({fromToken:{symbol:"",decimals:18,amount:"",address:""},toToken:{symbol:"",decimals:18,amount:"",address:""},fromAmount:"",isAmountOut:!1,isSunPump:0}),tl=I([]),ul=ne();S((()=>ul.params.id),(()=>{vl.value="",dl.value=""}));const rl=I(0),vl=I(""),dl=I(""),cl=I(0),pl=I(!1),fl=n((()=>{var e,l,a,n,o,t,u,s,i;const r=(null==(l=null==(e=null==g?void 0:g.pairs)?void 0:e[0])?void 0:l.amm)&&(null==(o=["fourmeme","fourmemev2"])?void 0:o.includes(null==(n=null==(a=null==g?void 0:g.pairs)?void 0:a[0])?void 0:n.amm)),v=(null==(u=null==(t=null==g?void 0:g.pairs)?void 0:t[0])?void 0:u.amm)&&["viridian","aerodrome","flapswap"].includes(null==(i=null==(s=null==g?void 0:g.pairs)?void 0:s[0])?void 0:i.amm);return"ton"===b.chain||"sui"===b.chain||v||r||b.isDyorswapfun||b.isXflapswap})),{reset:kl,start:bl}=ye(15,{immediate:!0,onComplete:()=>{!function(){if(2!==b.swapType||b.token1.address===b.token2.address)return;if(se.value||V.value||"hidden"===document.visibilityState)return void hl();C.value?_l():Il();hl()}()}});function hl(){kl(15),bl()}function Tl(){hl(),pl.value&&Ke.value&&!se.value&&jl(!1)}function yl(){nl.value=[],ol.value.totalTax=0,ol.value.total_sell_tax=0,ol.value.total_buy_tax=0,E.value=Un,rl.value=0,vl.value="",dl.value="",b.getToken1Info(),b.getBaseToken(gl,Ul)}function gl(){nl.value=[],ol.value.totalTax=0,ol.value.total_sell_tax=0,ol.value.total_buy_tax=0,E.value=Un,rl.value=0,vl.value="",dl.value="",b.getToken2Info()}function wl(){var e,l;const a=b.chain;if("solana"!==a){if(a&&a===b.fromToken.chain&&b.fromToken.address){let n=b.isFourMeme?null==(l=null==(e=ol.value)?void 0:e.quoteResult)?void 0:l.tokenManager:ue(a);const o=["","TTfvyrAz86hbZk5iDpKD78pqLGgi8C7AAw","TZFs5ch1R1C4mmjwrrmZqeqbUgGpxY1yWB"][b.isSunPump];n=o||n,"xlayer"===a&&b.isDyorswapfun&&(n="0xfd947a61e2c54413031ddb1f754dbe0e696efa09"),"xlayer"===a&&b.isXflapswap&&(n="0xb30d8c4216e1f21f27444d2ffaee3ad577808678"),A.value=!0,xe(b.fromToken.address,n).then((e=>{b.allowance=e.toString()})).finally((()=>{A.value=!1}))}}else b.allowance=we}function xl(e,l=!1){var a,n,o,t;if(l)return;const u=Number(e)/100;let s=b.fromToken.balance||0;if(u){const e=b.fromToken.decimals||0;if((null==(a=b.fromToken)?void 0:a.address)===w||"So11111111111111111111111111111111111111112"===(null==(n=b.fromToken)?void 0:n.address)){const l=b.fromToken.chain,a=_e[l]||.01;if(new q(s).lt(a))return void j.alert(i("balanceNotEnough",{n:a,s:b.fromToken.symbol}),i("tips"));s=(null==(o=new q(s).minus(a).times(u).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:o[0])||""}else s=(null==(t=new q(s).times(u).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`)))?void 0:t[0])||"";0===Number(s)&&(s="")}else s="";vl.value!==s&&(vl.value=Number(s)<0?"0":s,_l())}function _l(){if($.value&&!C.value)return;const e=vl.value,l=Number(e);""===e||"."===e?(vl.value="",dl.value="",$.value=!1):0===l&&0!==Number(dl.value)?(dl.value="0",$.value=!1):l&&(C.value=!0,dl.value="",Al())}function Il(){if($.value&&!C.value)return;const e=dl.value,l=Number(e);""===e||"."===e?(vl.value="",dl.value="",$.value=!1):0===l&&0!==Number(vl.value)?(vl.value="0",$.value=!1):l&&(C.value=!1,vl.value="",Al(!1))}let Sl=null;function Al(e=!0){El()&&(Number(vl.value)||Number(dl.value)?b.token1.address!==b.token2.address&&(Sl&&(clearTimeout(Sl),Sl=null),Sl=setTimeout((()=>{!async function(e,l){var a,n,o,t,u,s,i,r,v,d,c,m,p,f,k,h,T,y,g,x,I,S,A,N,F,P,C,R,V,E,U,O,B,j,H,z,W,X,Q,Z,K,J,Y,ee,le,ae,ne,oe,te,ue,se,de,ce,me,pe,fe,ke,he,Te,ye;if((vl.value||dl.value)&&b.fromToken.address&&b.toToken.address&&l===b.fromToken.chain){const we=b.fromToken.decimals,xe=b.toToken.decimals;if("sui"===l)return void async function(e,l){var a,n,o;if("sui"===l){const l=b.fromToken.decimals||(null==(a=b.fromToken)?void 0:a.decimal),t=b.toToken.decimals||(null==(n=b.toToken)?void 0:n.decimal),u=b.fromToken.address===w?new q(vl.value||0).times("0.997"):new q(vl.value||0),s={tokenIn:b.fromToken.address===w?"0x2::sui::SUI":b.fromToken.address,tokenOut:b.toToken.address,amountIn:be((null==(o=u.toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`)))?void 0:o[0])||0,l).toFixed(0),slippage:new q(L.value).div(100).toNumber()};$.value=!0,Re(s).then((l=>{var a,n;return l.returnAmount&&l.returnAmountWithDecimal||l.amount_out?(re.value=l,e&&(dl.value=(null==l?void 0:l.returnAmount)||G((null==l?void 0:l.amount_out)||"0",(null==(a=null==l?void 0:l.to_token)?void 0:a.decimals)||t||(null==(n=b.toToken)?void 0:n.decimals))),$l()):Ae("can not get quote"),jl(!1),$.value=!1,l})).catch((e=>(Ae((null==e?void 0:e.error)||e),Promise.resolve("")))).finally((()=>{setTimeout((()=>{$.value=!1,Tl()}),800)}))}}(e,l);if("solana"===l)return void function(e,l){var a,n;if("solana"===l){if(!!((b.isPump||b.isMoonshot)&&"So11111111111111111111111111111111111111112"!==b.token2.address&&"solana"===b.token2.chain))return;const l=b.fromToken.decimals,o=b.toToken.decimals,t={inputMint:b.fromToken.address,inputDecimals:l,inputMintSymbol:b.fromToken.symbol,inputMintName:b.fromToken.symbol,inputAmount:vl.value||0,outputMint:b.toToken.address,outputDecimals:o,outputMintSymbol:b.toToken.symbol,outputMintName:b.toToken.symbol,amount:e?be((null==(a=new q(vl.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`)))?void 0:a[0])||0,l).toFixed(0):be((null==(n=new q(dl.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${o}})?`)))?void 0:n[0])||0,o).toFixed(0),slippageBps:new q(D.value).times(100).toFixed(0),swapMode:e?"ExactIn":"ExactOut",slippage:D.value||9,isPump:b.isPump,isMoonshot:b.isMoonshot};if(Nl.amount&&Object.keys(Nl).every((e=>t[e]===Nl[e])))return;Nl={...t},setTimeout((()=>{Nl={}}),15e3),$.value=!0,Me(t).then((a=>{var n,t,u,s,i;return a.routeInfo&&a.transaction?(ve.value=a,dl.value=(null==(u=null==(t=null==(n=a.routeInfo)?void 0:n.amountOut)?void 0:t.amount)?void 0:u.toFixed())||"0",$l()):e?a.outAmount?(ve.value=a,dl.value=G(a.outAmount||"0",o||(null==(s=b.toToken)?void 0:s.decimals)),$l()):Ae("can not get quote"):a.inAmount?(ve.value=a,vl.value=G(a.inAmount||"0",l||(null==(i=b.fromToken)?void 0:i.decimals)),$l()):Ae("can not get quote"),jl(!1),a})).catch((e=>(Ae((null==e?void 0:e.error)||e),Promise.resolve("")))).finally((()=>{setTimeout((()=>{$.value=!1,Nl={},Tl()}),800)}))}}(e,l);if("bsc"===l){if(!!((b.isFourMeme||b.isFlap)&&b.token2.address!==w&&"bsc"===b.token2.chain))return}if("tron"===l){if(!!(b.isSunPump>0&&b.token2.address!==w&&"tron"===b.token2.chain))return}if("xlayer"===l){if(!!((b.isDyorswapfun||b.isXflapswap)&&b.token2.address!==w&&"xlayer"===b.token2.chain))return}$.value=!0;const _e={from_token:b.fromToken.address,to_token:b.toToken.address,amountIn:e?be((null==(a=new q(vl.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${we}})?`)))?void 0:a[0])||0,we).toFixed(0):"0",amountOut:e?"0":be((null==(n=new q(dl.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${xe}})?`)))?void 0:n[0])||0,xe).toFixed(0)};if(b.isFourMeme){try{const a=await Ie(_e,l);e?dl.value=G((null==a?void 0:a.amountOut)||"0",null==(o=b.toToken)?void 0:o.decimals):vl.value=G((null==a?void 0:a.amountIn)||"0",null==(t=b.fromToken)?void 0:t.decimals),nl.value=[{symbol:null==(u=b.fromToken)?void 0:u.symbol,nextAmm:"fourmeme"},{symbol:null==(s=b.toToken)?void 0:s.symbol,nextAmm:""}],ol.value.fromAmount=be(vl.value,null==(i=b.fromToken)?void 0:i.decimals).toFixed(0),ol.value.toAmount=be(dl.value,null==(r=b.toToken)?void 0:r.decimals).toFixed(0),ol.value.fromToken={...b.fromToken,amount:ol.value.fromAmount},ol.value.toToken={...b.toToken,amount:ol.value.toAmount},ol.value.quoteResult={...a},ol.value.isAmountOut=!e,ol.value.isFourMeme=!0,wl();const[n,p]=[(null==(v=b.fromToken)?void 0:v.address)+"-"+(null==(d=b.fromToken)?void 0:d.chain),(null==(c=b.toToken)?void 0:c.address)+"-"+(null==(m=b.toToken)?void 0:m.chain)];Se([n,p]).then((async e=>{var l,a;ol.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,ol.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,ol.value.isFourMeme=!0})),$.value=!1}catch(ge){$.value=!1,Ae(ge)}return}if(b.isDyorswapfun){try{const[a,n]=[(null==(p=b.fromToken)?void 0:p.address)+"-"+(null==(f=b.fromToken)?void 0:f.chain),(null==(k=b.toToken)?void 0:k.address)+"-"+(null==(h=b.toToken)?void 0:h.chain)],o=await Se([a,n]),t=(null==(T=null==o?void 0:o[0])?void 0:T.current_price_usd)||0,u=(null==(y=null==o?void 0:o[1])?void 0:y.current_price_usd)||0,s=Ne({..._e,from_price:t,to_price:u,pairs:(null==(g=b.baseToken)?void 0:g.pairs)||[]},l);dl.value=G(s||"0",null==(x=b.toToken)?void 0:x.decimals),nl.value=[{symbol:null==(I=b.fromToken)?void 0:I.symbol,nextAmm:"dyorswapfun"},{symbol:null==(S=b.toToken)?void 0:S.symbol,nextAmm:""}],ol.value.fromAmount=be(vl.value,null==(A=b.fromToken)?void 0:A.decimals).toFixed(0),ol.value.toAmount=be(dl.value,null==(N=b.toToken)?void 0:N.decimals).toFixed(0),ol.value.fromToken={...b.fromToken,amount:ol.value.fromAmount},ol.value.toToken={...b.toToken,amount:ol.value.toAmount},ol.value.isAmountOut=!e,ol.value.isDyorswapfun=!0,wl(),ol.value.from_price=t,ol.value.to_price=u,$.value=!1}catch(ge){$.value=!1,Ae(ge)}return}if(b.isXflapswap){try{const a=await $e(_e,l);e?dl.value=G((null==a?void 0:a.toString())||"0",null==(F=b.toToken)?void 0:F.decimals):vl.value=G((null==a?void 0:a.toString())||"0",null==(P=b.fromToken)?void 0:P.decimals),nl.value=[{symbol:null==(C=b.fromToken)?void 0:C.symbol,nextAmm:"xflapswap"},{symbol:null==(R=b.toToken)?void 0:R.symbol,nextAmm:""}],ol.value.fromAmount=be(vl.value,null==(V=b.fromToken)?void 0:V.decimals).toFixed(0),ol.value.toAmount=be(dl.value,null==(E=b.toToken)?void 0:E.decimals).toFixed(0),ol.value.fromToken={...b.fromToken,amount:ol.value.fromAmount},ol.value.toToken={...b.toToken,amount:ol.value.toAmount},ol.value.quoteResult={...a},ol.value.isAmountOut=!e,ol.value.isXflapswap=!0,wl();const[n,o]=[(null==(U=b.fromToken)?void 0:U.address)+"-"+(null==(O=b.fromToken)?void 0:O.chain),(null==(B=b.toToken)?void 0:B.address)+"-"+(null==(j=b.toToken)?void 0:j.chain)];Se([n,o]).then((async e=>{var l,a;ol.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,ol.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,ol.value.isXflapswap=!0})),$.value=!1}catch(ge){$.value=!1,Ae(ge)}return}if("tron"===l&&b.isSunPump>0){try{const a=await Fe({..._e,isSunPump:b.isSunPump},l);e?dl.value=G((null==a?void 0:a.amountOut)||"0",null==(H=b.toToken)?void 0:H.decimals):vl.value=G((null==a?void 0:a.amountIn)||"0",null==(z=b.fromToken)?void 0:z.decimals),nl.value=[{symbol:null==(W=b.fromToken)?void 0:W.symbol,nextAmm:"sunpump"},{symbol:null==(X=b.toToken)?void 0:X.symbol,nextAmm:""}],ol.value.fromAmount=be(vl.value,null==(Q=b.fromToken)?void 0:Q.decimals).toFixed(0),ol.value.toAmount=be(dl.value,null==(Z=b.toToken)?void 0:Z.decimals).toFixed(0),ol.value.fromToken={...b.fromToken,amount:ol.value.fromAmount},ol.value.toToken={...b.toToken,amount:ol.value.toAmount},ol.value.quoteResult={...a},ol.value.isAmountOut=!e,ol.value.isSunPump=b.isSunPump,wl();const[n,o]=[(null==(K=b.fromToken)?void 0:K.address)+"-"+(null==(J=b.fromToken)?void 0:J.chain),(null==(Y=b.toToken)?void 0:Y.address)+"-"+(null==(ee=b.toToken)?void 0:ee.chain)];Se([n,o]).then((async e=>{var l,a;ol.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,ol.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,ol.value.isSunPump=b.isSunPump})),$.value=!1}catch(ge){$.value=!1,Ae(ge)}return}const je=null==(le=b.baseToken)?void 0:le.pairs;if((null==(ae=null==je?void 0:je[0])?void 0:ae.target_token)===(null==(ne=null==je?void 0:je[0])?void 0:ne.pair)&&(null==(oe=null==je?void 0:je[0])?void 0:oe.pair)&&"xlayer"!==l){const a=await Pe(_e,l);if(a){e?dl.value=G(a||"0",null==(te=b.toToken)?void 0:te.decimals):vl.value=G(a||"0",null==(ue=b.fromToken)?void 0:ue.decimals),b.isERC314=!0,nl.value=[{symbol:null==(se=b.fromToken)?void 0:se.symbol,nextAmm:null==(de=null==je?void 0:je[0])?void 0:de.amm},{symbol:null==(ce=b.toToken)?void 0:ce.symbol,nextAmm:""}],ol.value.fromAmount=be(vl.value,null==(me=b.fromToken)?void 0:me.decimals).toFixed(0),ol.value.toAmount=be(dl.value,null==(pe=b.toToken)?void 0:pe.decimals).toFixed(0),ol.value.fromToken={...b.fromToken,amount:ol.value.fromAmount},ol.value.toToken={...b.toToken,amount:ol.value.toAmount};const[l,n]=[(null==(fe=b.fromToken)?void 0:fe.address)+"-"+(null==(ke=b.fromToken)?void 0:ke.chain),(null==(he=b.toToken)?void 0:he.address)+"-"+(null==(Te=b.toToken)?void 0:Te.chain)];return Se([l,n]).then((async e=>{var l,a;ol.value.from_price=(null==(l=null==e?void 0:e[0])?void 0:l.current_price_usd)||0,ol.value.to_price=(null==(a=null==e?void 0:e[1])?void 0:a.current_price_usd)||0,ol.value.isERC314=!0})),void($.value=!1)}}let He="";if("core"===l&&((null==je?void 0:je.length)||0)>0){const e=(null==(ye=null==je?void 0:je.find)?void 0:ye.call(je,(e=>{const l=[e.token0_address,e.token1_address];return l.includes(_e.from_token)||l.includes(_e.to_token)})))||(null==je?void 0:je[0]),l=(null==e?void 0:e.amm)||"",a={shadowswap:"0x191e94fa59739e188dce837f7f6978d84727ad01"};He=(null==a?void 0:a[l])||"0x40375c92d9faf44d2f9db9bd9ba41a3317a2404f"}b.isERC314=!1,Ce(_e,He,l).then((e=>{tl.value=e,Vl(e),function(){Cl&&(clearTimeout(Cl),Cl=null);Cl=setTimeout((()=>{var e,l,a,n,o,t,u;Fl()&&Ke.value&&_.address&&!M.value&&(((null==(e=ol.value)?void 0:e.isSunPump)||0)>0?Ve(ol.value,Ze.value).then((async e=>{var l;Qe.value={...e,isSunPump:null==(l=ol.value)?void 0:l.isSunPump},ie.value=e.swapInfo,ie.value.gasValue=e.gasValue,ie.value.swapRouterPath=nl.value})).catch((e=>{Ae(e)})):(null==(l=ol.value)?void 0:l.isFourMeme)?Ee(ol.value,Ze.value).then((async e=>{Qe.value={...e,isFourMeme:!0},ie.value=e.swapInfo,ie.value.gasValue=e.gasValue,ie.value.swapRouterPath=nl.value})).catch((e=>{Ae(e)})):(null==(a=ol.value)?void 0:a.isERC314)?Ue(ol.value).then((async e=>{Qe.value={...e,isERC314:!0},ie.value=e.swapInfo,ie.value.gasValue=e.gasValue,ie.value.swapRouterPath=nl.value})).catch((e=>{Ae(e)})):(null==(n=ol.value)?void 0:n.isDyorswapfun)?De(ol.value,Ze.value).then((async e=>{Qe.value={...e,isDyorswapfun:!0},ie.value=e.swapInfo,ie.value.gasValue=e.gasValue,ie.value.swapRouterPath=nl.value})).catch((e=>{Ae(e)})):(null==(o=ol.value)?void 0:o.isXflapswap)?Oe(ol.value,Ze.value).then((async e=>{Qe.value={...e,isXflapswap:!0},ie.value=e.swapInfo,ie.value.gasValue=e.gasValue,ie.value.swapRouterPath=nl.value})).catch((e=>{Ae(e)})):(null==(u=null==(t=ol.value)?void 0:t.routerPath)?void 0:u.length)>0&&(Be(ol.value,Ze.value).then((async e=>{Qe.value=e,ie.value=e.swapInfo,ie.value.gasValue=e.gasValue,ie.value.swapRouterPath=nl.value})).catch((e=>{Ae(e)})),Rl(),Ml()))}),3e3)}()})).catch((l=>{Ae(l),e?dl.value="":vl.value=""})).finally((()=>{setTimeout((()=>{$.value=!1,Tl()}),800)}))}}(e,_.chain||"")}),500)):$.value=!1)}let Nl={};function $l(){const e=b.fromToken.chain,l=b.fromToken.address+"-"+e,a=b.toToken.address+"-"+e;return sessionStorage.swap_tokenPrice===l+"-"+a?(te.value=[0,0],"solana"===e?Y.value=0:"ton"===e?oe.value=0:"sui"===e&&(ee.value=0)):sessionStorage.swap_tokenPrice=l+"-"+a,Se([l,a]).then((async l=>{var a,n;const o=(null==(a=null==l?void 0:l[0])?void 0:a.current_price_usd)||0,t=(null==(n=null==l?void 0:l[1])?void 0:n.current_price_usd)||0;te.value=[o,t];const u=vl.value||0,s=dl.value||0,i=Math.abs(Number(u)*o/(Number(s)*t)-1);"solana"===e?Y.value=i:"ton"===e?oe.value=i:"sui"===e&&(ee.value=i)}))}function Fl(){if(!_.provider)return!0;const e=b.fromToken.balance||0,l=(b.isPump||b.isMoonshot)&&"So11111111111111111111111111111111111111112"!==b.token2.address,a=(b.isFourMeme||b.isFlap||b.isDyorswapfun||b.isXflapswap)&&b.token2.address!==w,n=b.isSunPump>0&&b.token2.address!==w;return!(0===Number(e)||Number(e)<Number(vl.value)||!_.provider||"0"===String(vl.value)||b.token1.address===b.token2.address||l||a||n)}let Cl=null;function Rl(){const e=b.token1.chain,l=b.token2.chain,a=_.chain;a&&a===e&&a===l&&je(a).then((e=>{ce.value=e}))}function Ml(){const e=_.chain;if("solana"===e)return;const l=b.token1.chain,a=b.token2.chain;e&&l===a&&e===l&&He(e).then((e=>{de.value=(null==e?void 0:e.toString())||"0"})).catch((e=>{de.value="0"}))}function Vl(e=tl.value){var l,a,n,o,t,u,s;const i=e[rl.value],r=e[rl.value].routerPath,v=C.value,d=b.fromToken.decimals,c=b.toToken.decimals;let m=!1;if(v){m=be((null==(l=new q(vl.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${d}})?`)))?void 0:l[0])||"0",d).toFixed(0)===((null==(a=r[0])?void 0:a.amount)||0)}else{m=be((null==(n=new q(dl.value||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${c}})?`)))?void 0:n[0])||"0",c).toFixed(0)===((null==(o=r[r.length-1])?void 0:o.amount)||0)}if(!m)return;if(1===i.from_cannot_sell_all){const e=new q(be(String(b.fromToken.balance),null==(t=b.fromToken)?void 0:t.decimals).toFixed(0)),l=new q(null==i?void 0:i.routerPath[0].amount);z.value=e.gt(0)&&l.div(e).gt(.99999)}else z.value=!1;X.value=((null==i?void 0:i.totalTax)||0)>0||((null==i?void 0:i.total_sell_tax)||0)>0||((null==i?void 0:i.total_buy_tax)||0)>0;const p=function(e){if(!Number(vl.value)&&!Number(dl.value))return new q(0);const l=e.routerPath,a=(null==l?void 0:l.length)>0?null==l?void 0:l[0]:null,n=(null==l?void 0:l.length)>0?null==l?void 0:l[l.length-1]:null;if(a&&n){const l=e.from_price,o=e.to_price,t=G(a.amount,a.decimals),u=G(n.amount,n.decimals);return new q(t).times(l).div(new q(u).times(o)).minus(1).abs().times(100)}return new q(0)}(i);if(X.value||p.gt(.5)){Q.value=((null==i?void 0:i.total_sell_tax)||0)+((null==i?void 0:i.total_buy_tax)||0)+1>49.99;const e=i.totalTax||(i.total_sell_tax||0)+(i.total_buy_tax||0),l=Number(p);if("auto"===U.value){let a=e+l+(e>5||l>5?2.5:2);a=Math.max(Math.min(a,49.99),.5),E.value=String(Number(a.toFixed(2)))}}else Q.value=!1,"auto"===U.value&&(E.value=Un);if(ol.value=i,nl.value=r.map(((e,l)=>{var a,n;return{symbol:e.symbol,nextAmm:(null==(n=null==(a=null==i?void 0:i.pair_path)?void 0:a[l])?void 0:n.amm)||""}})),K.value=tl.value.map((e=>{var l;let a=0,n=0;if(C.value){const n=e.routerPath[e.routerPath.length-1];a=G(n.amount||"0",(null==n?void 0:n.decimals)||(null==(l=b.toToken)?void 0:l.decimals))}else{const l=e.routerPath[0];n=G(l.amount||"0",(null==l?void 0:l.decimals)||b.fromToken.decimals)}return{path:e.routerPath.map(((l,a)=>{var n,o;return{symbol:l.symbol,nextAmm:(null==(o=null==(n=null==e?void 0:e.pair_path)?void 0:n[a])?void 0:o.amm)||""}})),amount:C.value?a:n,priceImpact:e.priceImpact}})),C.value){const e=r[r.length-1];dl.value=G(e.amount||"0",(null==e?void 0:e.decimals)||(null==(u=b.toToken)?void 0:u.decimals))}else{const e=r[0];vl.value=G(e.amount||"0",(null==e?void 0:e.decimals)||(null==(s=b.fromToken)?void 0:s.decimals))}m&&setTimeout((()=>{$.value=!1,Tl()}),800)}function El(){var e,l,a;const n=_.chain,o=Object.keys(Le).concat(["solana","sui"]),t=b.token1.chain,u=b.token2.chain;return!(t&&!(null==(e=null==o?void 0:o.includes)?void 0:e.call(o,t)))&&(!(u&&!(null==(l=null==o?void 0:o.includes)?void 0:l.call(o,u)))&&(!!n&&(!(n&&!(null==(a=null==o?void 0:o.includes)?void 0:a.call(o,n)))&&(n===t&&n===u))))}function Ul(){var e,l,a,n;if(1===b.activeTab){if(Number(E.value)>Number(null==(e=b.baseTokenExtra)?void 0:e.sell_tax)+1)return;const a=Math.max(Math.min(Number(null==(l=b.baseTokenExtra)?void 0:l.sell_tax)+1,49.99),.5);E.value=String(Number(a.toFixed(2)))}else{if(Number(E.value)>Number(null==(a=b.baseTokenExtra)?void 0:a.buy_tax)+1)return;const e=Math.max(Math.min(Number(null==(n=b.baseTokenExtra)?void 0:n.buy_tax)+1,49.99),.5);E.value=String(Number(e.toFixed(2)))}}function Dl(){var e,l,a,n,o;const t=_.chain,u=Object.keys(Le).concat(["solana","sui"]),s=v(t),r=(null==s?void 0:s.name)||"",d=b.token1.chain,c=b.token2.chain,m=null==(e=v(d))?void 0:e.name,p=null==(l=v(c))?void 0:l.name;return d&&!(null==(a=null==u?void 0:u.includes)?void 0:a.call(u,d))?i("noSupportChain",{chain:m}):c&&!(null==(n=null==u?void 0:u.includes)?void 0:n.call(u,c))?i("noSupportChain",{chain:p}):t&&!(null==(o=null==u?void 0:u.includes)?void 0:o.call(u,t))?i("noSupportChain",{chain:r}):t!==d&&d||t!==c&&c?i("chainNotSame1"):d!==c?i("tokenNoSameChain"):void 0}function Ol(){try{if(!_.provider)return void(_.provider||j.alert(i("browserWalletNotDetected"),i("tips"),{confirmButtonText:i("confirm")}));if(!El())return;const e=_.chain;if(e!==(b.token1.chain||b.token2.chain||e))return void j.alert(i("plsSwitchChain",{chain:e}),i("tips"),{confirmButtonText:i("confirm")});2===b.swapType&&(cl.value=1,Ke.value?jl():async function(){var e,l;V.value=!0;let a=b.isFourMeme?null==(l=null==(e=ol.value)?void 0:e.quoteResult)?void 0:l.tokenManager:ue(R.value);const n=["","TTfvyrAz86hbZk5iDpKD78pqLGgi8C7AAw","TZFs5ch1R1C4mmjwrrmZqeqbUgGpxY1yWB"][b.isSunPump];a=n||a,"xlayer"===_.chain&&b.isDyorswapfun&&(a="0xfd947a61e2c54413031ddb1f754dbe0e696efa09");"xlayer"===_.chain&&b.isXflapswap&&(a="0xb30d8c4216e1f21f27444d2ffaee3ad577808678");ze(b.fromToken.address,a).then((e=>e.wait())).then((e=>{wl()})).catch((e=>{Ae(e)})).finally((()=>{V.value=!1}))}())}catch(e){}}function Bl(){const e=b.fromToken.balance||0,l=(b.isPump||b.isMoonshot)&&"So11111111111111111111111111111111111111112"!==b.token2.address,a=(b.isFourMeme||b.isFlap||b.isDyorswapfun||b.isXflapswap)&&b.token2.address!==w,n=b.isSunPump>0&&b.token2.address!==w,o=_.address;return o?o&&!_.provider?i("observeAddressNotSwap"):b.isERC314&&b.token2.address!==w||l||a||n?i("ERC314Tips"):0===Number(e)||Number(e)<Number(vl.value)||!o?i("insufficientBalance"):"0"===String(vl.value)?i("AmountCannotBeZero"):void 0:i("pConnectWallet")}function jl(e=!0){var l,a,n,o,t,u,s,r,v,d,c,m;if(Cl&&(clearTimeout(Cl),Cl=null),Fl())if("sui"===b.chain){const u=null==(t=null==(o=null==(n=null==(a=null==(l=null==re?void 0:re.routes)?void 0:l[0])?void 0:a.hops)?void 0:n[0])?void 0:o.pool)?void 0:t.type,s=[b.fromToken,b.toToken].map(((e,l)=>({symbol:e.symbol,nextAmm:0===l&&u||""})));ie.value={swapRouterPath:s,fromAmount:vl.value,toAmount:dl.value,fromToken:b.fromToken,toToken:b.toToken,isAmountOut:!1},e&&(pl.value=!0),nl.value=s}else if("solana"===b.chain){const l=[b.fromToken,b.toToken].map((e=>({symbol:e.symbol,nextAmm:""})));ie.value={swapRouterPath:l,fromAmount:vl.value,toAmount:dl.value,fromToken:b.fromToken,toToken:b.toToken,isAmountOut:!1},e&&(pl.value=!0)}else((null==(u=ol.value)?void 0:u.isSunPump)||0)>0?(M.value=!0,Ve(ol.value,Ze.value).then((async l=>{var a;Qe.value={...l,isSunPump:null==(a=ol.value)?void 0:a.isSunPump},ie.value=l.swapInfo,ie.value.gasValue=l.gasValue,ie.value.swapRouterPath=nl.value,M.value=!1,e&&(pl.value=!0)})).catch((e=>{M.value=!1,Ae(e)})),Rl(),Ml()):(null==(s=ol.value)?void 0:s.isFourMeme)?(M.value=!0,Ee(ol.value,Ze.value).then((async l=>{Qe.value={...l,isFourMeme:!0},ie.value=null==l?void 0:l.swapInfo,ie.value.gasValue=(null==l?void 0:l.gasValue)||"0",ie.value.swapRouterPath=nl.value,M.value=!1,e&&(pl.value=!0)})).catch((e=>{M.value=!1,Ae(e)})),Rl(),Ml()):(null==(r=ol.value)?void 0:r.isERC314)?(M.value=!0,Ue(ol.value).then((async l=>{Qe.value={...l,isERC314:!0},ie.value=l.swapInfo,ie.value.gasValue=l.gasValue,ie.value.swapRouterPath=nl.value,M.value=!1,e&&(pl.value=!0)})).catch((e=>{M.value=!1,Ae(e)})),Rl(),Ml()):(null==(v=ol.value)?void 0:v.isDyorswapfun)?(M.value=!0,De(ol.value,Ze.value).then((async l=>{Qe.value={...l,isDyorswapfun:!0},ie.value=null==l?void 0:l.swapInfo,ie.value.gasValue=(null==l?void 0:l.gasValue)||"0",ie.value.swapRouterPath=nl.value,M.value=!1,e&&(pl.value=!0)})).catch((e=>{M.value=!1,Ae(e)})),Rl(),Ml()):(null==(d=ol.value)?void 0:d.isXflapswap)?(M.value=!0,Oe(ol.value,Ze.value).then((async l=>{Qe.value={...l,isXflapswap:!0},ie.value=null==l?void 0:l.swapInfo,ie.value.gasValue=(null==l?void 0:l.gasValue)||"0",ie.value.swapRouterPath=nl.value,M.value=!1,e&&(pl.value=!0)})).catch((e=>{M.value=!1,Ae(e)})),Rl(),Ml()):(null==(m=null==(c=ol.value)?void 0:c.routerPath)?void 0:m.length)>0&&(M.value=!0,Be(ol.value,Ze.value).then((async l=>{Qe.value=l,ie.value={...l.swapInfo,fromToken:{...l.swapInfo.fromToken,...b.fromToken},toToken:{...l.swapInfo.fromToken,...b.toToken},fromAmount:vl.value,toAmount:dl.value,isAmountOut:l.swapInfo.isAmountOut||!1},ie.value.gasValue=l.gasValue,ie.value.swapRouterPath=nl.value,M.value=!1,e&&(pl.value=!0)})).catch((e=>{M.value=!1,Ae(e)})),Rl(),Ml());else j.alert(Bl(),i("tips"),{confirmButtonText:i("okay")})}function Hl(e,l){j.alert(l,e,{confirmButtonText:i("getIt")}).then((()=>{}))}function zl(){var e,l,a,n;if(!vl.value||!dl.value)return"--";let o=vl.value,t=dl.value;if(X.value){let u=(null==(e=ol.value)?void 0:e.totalTax)||((null==(l=ol.value)?void 0:l.total_sell_tax)||0)+((null==(a=ol.value)?void 0:a.total_buy_tax)||0);u=Math.min(49,u),(null==(n=ol.value)?void 0:n.isAmountOut)?o=new q(o).times(100+u).div(100):t=new q(t).times(100-u).div(100)}const u=["solana","sui"].includes(R.value),s=u?te.value[0]:ol.value.from_price,i=u?te.value[1]:ol.value.to_price;return s&&i?0===b.activeTab?x(Number(vl.value||0)/Number(dl.value)/(i/s)*i):1===b.activeTab?x(Number(dl.value||0)/Number(vl.value)/(s/i)*s):void 0:"--"}function Wl(e){J.value=!1,rl.value=e,Vl()}async function Xl(e=Qe.value){try{if("solana"===R.value)return void async function(){try{cl.value=1,se.value=!0,M.value=!0;const e=ie.value,l={from_address:e.fromToken.address,from_symbol:e.fromToken.symbol,from_amount:Number(G(e.fromTokenAmount||0,e.fromToken.decimals)),to_address:e.toToken.address,to_symbol:e.toToken.symbol,to_amount:Number(G(e.toTokenAmount||0,e.toToken.decimals)),chain:_.chain,transaction:"",wallet_address:_.address};setTimeout((()=>{pl.value||(M.value=!1,se.value=!1)}),6e3),We(ve.value).then((a=>{var n,o;return ie.value.transaction=a.hash,sl({chain:"solana",destination:"true"===localStorage.solanaProtection?"v1/blxrsol/sendSolTx":"/ave_nodes/rpc/solana/sendFastSwapTx",type:10,tx_hash:a.hash,status:1,wallet:_.address,out_token:l.to_address,out_amount:e.toAmount,in_token:l.from_address,in_amount:e.fromAmount}),M.value=!1,se.value=!1,vl.value="",dl.value="",null==(o=null==(n=Z.value)?void 0:n.handleClick)||o.call(n,0),cl.value=3,a.wait()})).then((e=>{var l;return e&&(il({chain:"solana",tx_hash:null==(l=null==e?void 0:e.transaction)?void 0:l.signatures[0],status:100}),b.getTokenDetails(),b.getUserTokenList()),e})).catch((e=>{"Timeout"===(e||(null==e?void 0:e.message))?Xe({type:"error",message:i("timeout_error")}):"Swap fail"===(e||(null==e?void 0:e.message))?Xe({type:"error",message:i("swapFail")}):Ae(e,"solana"),hl(),M.value=!1,se.value=!1}))}catch(e){M.value=!1,se.value=!1,Ae(e,"solana")}}();if("sui"===R.value)return void async function(){try{se.value=!0,M.value=!0,cl.value=2;const e=ie.value,l={from_address:e.fromToken.address,from_symbol:e.fromToken.symbol,from_amount:null==e?void 0:e.fromAmount,from_decimals:null==e?void 0:e.fromToken.decimals,to_address:e.toToken.address,to_symbol:e.toToken.symbol,to_amount:null==e?void 0:e.toAmount,to_decimals:null==e?void 0:e.toToken.decimals,chain:"sui",transaction:"",wallet_address:_.address};setTimeout((()=>{pl.value||(M.value=!1,se.value=!1)}),6e3);const a=!0;qe({quoteResponse:re.value,slippage:new q(L.value).div(100).toNumber()}).then((e=>Ge((null==e?void 0:e.tx)||e))).then((e=>{var n,o;return(null==e?void 0:e.digest)?(ie.value.transaction=e.digest,a&&(l.transaction=e.digest,sl({chain:"sui",destination:"wallet rpc",type:10,tx_hash:e.digest,status:1,wallet:_.address,out_token:l.to_address,out_amount:ie.value.toAmount,in_token:l.from_address,in_amount:ie.value.fromAmount})),M.value=!1,se.value=!1,vl.value="",dl.value="",null==(o=null==(n=Z.value)?void 0:n.handleClick)||o.call(n,0),cl.value=3,e.wait()):Promise.reject("Swap fail")})).then((e=>{if(e.digest)return il({chain:"sui",tx_hash:null==e?void 0:e.digest,status:100}),Xe({type:"success",message:i("tradeSuccess")}),b.getTokenDetails(),b.getUserTokenList(),e})).catch((e=>{cl.value=1,M.value=!1,se.value=!1,Ae(e,"solana"),hl()}))}catch(e){cl.value=1,M.value=!1,se.value=!1,Ae(e,"solana")}}();se.value=!0,M.value=!0;await e.swapCallStatic();const l=e.swapInfo,a=(l.fromToken.isWrapper&&l.toToken.isETH||l.toToken.isWrapper&&l.fromToken.isETH,{from_address:l.fromToken.address,from_symbol:l.fromToken.symbol,from_amount:Number(G(l.fromTokenAmount||0,l.fromToken.decimals)),to_address:l.toToken.address,to_symbol:l.toToken.symbol,to_amount:Number(G(l.toTokenAmount||0,l.toToken.decimals)),chain:R.value,transaction:"",wallet_address:_.address});cl.value=2,Qe.value.swap().then((e=>{var n,o;return ie.value.transaction=e.hash,sl({chain:R.value,destination:"wallet rpc",type:10,tx_hash:e.hash,status:1,wallet:_.address,out_token:a.to_address,out_amount:Number(G(l.toTokenAmount||0,l.toToken.decimals)),in_token:a.from_address,in_amount:Number(G(l.fromTokenAmount||0,l.fromToken.decimals))}),M.value=!1,se.value=!1,vl.value="",dl.value="",null==(o=null==(n=Z.value)?void 0:n.handleClick)||o.call(n,0),cl.value=3,e.wait()})).then((e=>{var l,a;return il({chain:R.value,tx_hash:e.hash,status:100,to:(null==(a=null==(l=null==e?void 0:e.to)?void 0:l.toLowerCase)?void 0:a.call(l))||""}),rl.value=0,tl.value=[],setTimeout((()=>{b.getTokenDetails(),b.getUserTokenList(),wl(),"tron"!==b.token1.chain&&"tron"!==b.token2.chain||setTimeout((()=>{b.getTokenDetails()}),3e3)}),1e3),e})).catch((e=>{cl.value=1,hl(),M.value=!1,se.value=!1,Ae(e,"swap")}))}catch(l){M.value=!1,se.value=!1,Ae(l,"swap")}}return S([()=>b.fromToken.address,()=>_.address],(()=>{b.fromToken.address&&wl()})),S([()=>b.fromToken.address,()=>b.toToken.address],(()=>{vl.value="",dl.value="",rl.value=0,hl()})),(e,l)=>{var a,n,i,v,g,I,S;const j=P,z=O,X=N;return t(),o(u,null,[d("form",{class:"swap-container",action:"",onSubmit:h(Ol,["prevent","stop"])},[d("div",sn,[d("div",rn,[y(Pl,{token:r(b).token1,"onUpdate:token":[l[0]||(l[0]=e=>r(b).token1=e),yl],tokens:r(b).swapTokens,chain:r(b).chain},null,8,["token","tokens","chain"]),l[26]||(l[26]=d("span",{style:{flex:"1"}},null,-1)),d("div",{class:"s-text",innerHTML:`${e.$t("balance1")}: ${r(x)((null==(a=r(b).token1)?void 0:a.balance)||0)}`},null,8,vn),1===r(b).activeTab?(t(),o("button",{key:0,class:"max-btn",type:"button",onClick:l[1]||(l[1]=h((e=>xl(100)),["stop"]))},c(e.$t("max")),1)):T("",!0)]),d("div",dn,[0===r(b).activeTab?(t(),p(j,{key:0,modelValue:r(dl),"onUpdate:modelValue":[l[2]||(l[2]=e=>F(dl)?dl.value=e:null),l[3]||(l[3]=e=>{var l;dl.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Il()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",readonly:r(fl),onFocus:l[4]||(l[4]=e=>{var l;return null==(l=r(Z))?void 0:l.handleClick(0,!0)})},null,8,["modelValue","readonly"])):T("",!0),1===r(b).activeTab?(t(),p(j,{key:1,modelValue:r(vl),"onUpdate:modelValue":[l[5]||(l[5]=e=>F(vl)?vl.value=e:null),l[6]||(l[6]=e=>{var l;vl.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),_l()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",onFocus:l[7]||(l[7]=e=>{var l;return null==(l=r(Z))?void 0:l.handleClick(0,!0)})},null,8,["modelValue"])):T("",!0)])]),d("div",cn,[d("div",mn,[y(Pl,{token:r(b).token2,"onUpdate:token":[l[8]||(l[8]=e=>r(b).token2=e),gl],tokens:r(b).swapTokens,chain:r(b).chain},null,8,["token","tokens","chain"]),l[27]||(l[27]=d("span",{style:{flex:"1"}},null,-1)),d("div",{class:"s-text",innerHTML:`${e.$t("balance1")}: ${r(x)(r(b).token2.balance||0)}`},null,8,pn),0===r(b).activeTab?(t(),o("button",{key:0,class:"max-btn",type:"button",onClick:l[9]||(l[9]=h((e=>xl(100)),["stop"]))},c(e.$t("max")),1)):T("",!0)]),d("div",fn,[1===r(b).activeTab?(t(),p(j,{key:0,modelValue:r(dl),"onUpdate:modelValue":[l[10]||(l[10]=e=>F(dl)?dl.value=e:null),l[11]||(l[11]=e=>{var l;dl.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),Il()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",readonly:r(fl),onFocus:l[12]||(l[12]=e=>{var l;return null==(l=r(Z))?void 0:l.handleClick(0,!0)})},null,8,["modelValue","readonly"])):T("",!0),0===r(b).activeTab?(t(),p(j,{key:1,modelValue:r(vl),"onUpdate:modelValue":[l[13]||(l[13]=e=>F(vl)?vl.value=e:null),l[14]||(l[14]=e=>{var l;vl.value=null==(l=null==e?void 0:e.replace)?void 0:l.call(e,/\-|[^\d.]/g,""),_l()})],placeholder:"0.0",size:"large",clearable:"",class:"input-number","input-style":"text-align:right",onFocus:l[15]||(l[15]=e=>{var l;return null==(l=r(Z))?void 0:l.handleClick(0,!0)})},null,8,["modelValue"])):T("",!0)])]),y(un,{ref:"percentStepInf",activeColor:0===r(b).activeTab?("upColor"in e?e.upColor:r(he))[0]:("downColor"in e?e.downColor:r(Te))[0],onChange:xl},null,8,["activeColor"]),r(_).address?r(_).address&&!r(_).provider?(t(),p(z,{key:1,"native-type":"button",class:"submit-btn",disabled:"",color:"#555555"},{default:f((()=>[B(c(e.$t("watchWalletNotSwap")),1)])),_:1})):El()?r(Ke)?(t(),p(z,{key:4,class:"submit-btn",loading:r(M)||r($)||r(A),color:r(ll),disabled:r(Je)&&(null==(i=null==(n=r(Je))?void 0:n.gt)?void 0:i.call(n,.4))||!Fl()||!r(vl)||!r(dl),"native-type":"submit"},{default:f((()=>{var l,a,n,s,i;return[0===Number(r(b).fromToken.balance)||Number(r(b).fromToken.balance)<Number(r(vl))||""===r(_).address||(r(b).isERC314||r(b).isFourMeme||r(b).isFlap||r(b).isSunPump>0||r(b).isDyorswapfun||r(b).isXflapswap)&&r(b).token2.address!==("NATIVE_TOKEN"in e?e.NATIVE_TOKEN:r(w))||(r(b).isPump||r(b).isMoonshot)&&"So11111111111111111111111111111111111111112"!==r(b).token2.address?(t(),o("span",kn,c(Bl()),1)):r(Je)&&(null==(a=null==(l=r(Je))?void 0:l.gt)?void 0:a.call(l,.4))?(t(),o("span",bn,c(e.$t("priceImpactTooHigh")),1)):(t(),o(u,{key:2},[d("span",null,c(r(Je)&&(null==(s=null==(n=r(Je))?void 0:n.gt)?void 0:s.call(n,.1))?0===r(b).activeTab?e.$t("buyAnyway"):e.$t("sellAnyway"):0===r(b).activeTab?e.$t("buy"):e.$t("sell"))+" "+c((null==(i=r(b).token1)?void 0:i.symbol)||""),1),r(al)?(t(),o("span",{key:0,style:{"font-size":"12px"},innerHTML:r(al)},null,8,hn)):T("",!0)],64))]})),_:1},8,["loading","color","disabled"])):(t(),p(z,{key:3,class:"submit-btn",color:r(ll),"native-type":"submit",loading:r(V)||r(M)||r(A),disabled:Number(r(b).fromToken.balance)<Number(r(vl))},{default:f((()=>{var l,a;return[B(c(0===Number(r(b).fromToken.balance)||Number(r(b).fromToken.balance)<Number(r(vl))||""===r(_).address?r(Je)&&(null==(a=null==(l=r(Je))?void 0:l.gt)?void 0:a.call(l,.4))?e.$t("priceImpactTooHigh"):Bl()||e.$t("approve"):e.$t("approve")),1)]})),_:1},8,["color","loading","disabled"])):(t(),p(z,{key:2,"native-type":"button",class:"submit-btn",disabled:"",color:"#555555"},{default:f((()=>[B(c(Dl()),1)])),_:1})):(t(),p(z,{key:0,"native-type":"button",class:"submit-btn",color:"#286DFF",onClick:l[16]||(l[16]=h((l=>("useBotStore"in e?e.useBotStore:r(ge))().changeConnectVisible(!0,1)),["stop"]))},{default:f((()=>[B(c(e.$t("pConnectWallet")),1)])),_:1})),d("ul",Tn,[d("li",yn,[d("span",null,c(e.$t("slippage")),1),y(X,{class:"ml-2px color-[--secondary-text]! clickable",name:"material-symbols:help-outline",onClick:l[17]||(l[17]=h((l=>Hl(e.$t("slippage"),e.$t("minimumReceivedTips"))),["stop"]))}),l[28]||(l[28]=d("span",{style:{flex:"1"}},null,-1)),"solana"===r(R)?(t(),p(Ll,{key:0,slippage:r(D),"onUpdate:slippage":l[18]||(l[18]=e=>F(D)?D.value=e:null),canSetAuto:!1},null,8,["slippage"])):"sui"===r(R)?(t(),p(Ll,{key:1,slippage:r(L),"onUpdate:slippage":l[19]||(l[19]=e=>F(L)?L.value=e:null),canSetAuto:!1},null,8,["slippage"])):(t(),p(Ll,{key:2,slippage:r(U),"onUpdate:slippage":l[20]||(l[20]=e=>F(U)?U.value=e:null),autoSlippage:r(E)},null,8,["slippage","autoSlippage"]))]),k(d("li",null,[d("div",gn,[d("span",null,c(e.$t("estimatedAveragePrice")),1)]),d("div",wn,[d("span",null,"$"+c(zl()),1)])],512),[[H,r(vl)&&r(dl)]]),k(d("li",null,[d("div",xn,[d("span",null,c(e.$t("priceImpact")),1),d("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:l[21]||(l[21]=h((l=>Hl(e.$t("priceImpact"),e.$t("priceImpactTips"))),["stop"]))})]),d("div",{style:W({color:r(el)})},c(r(Ye))+c(r(Je)&&(null==(g=null==(v=r(Je))?void 0:v.gt)?void 0:g.call(v,.05))?`(${e.$t("excessivePriceImpact")})`:""),5)],512),[[H,r(vl)&&r(dl)&&!r(b).isDyorswapfun]]),k(d("li",null,[d("div",_n,[d("span",null,c(e.$t("tokenRoute")),1),d("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:l[22]||(l[22]=h((l=>Hl(e.$t("tokenRoute"),e.$t("tokenRouteTips"))),["stop"]))})]),"solana"===r(R)||"sui"===r(R)?(t(),o("div",In,[(t(!0),o(u,null,s([r(b).fromToken,r(b).toToken],((e,l)=>(t(),o(u,{key:l},[0!==l?(t(),o("img",Sn)):T("",!0),e.symbol?(t(),o("span",An,c(e.symbol),1)):T("",!0)],64)))),128))])):1===(null==(I=r(ol))?void 0:I.toWrapper)||2===(null==(S=r(ol))?void 0:S.toWrapper)?(t(),o("div",Nn,[(t(!0),o(u,null,s(r(nl),((e,l)=>(t(),o(u,{key:l},[0!==l?(t(),o("img",$n)):T("",!0),e.symbol?(t(),o("span",Fn,c(e.symbol),1)):T("",!0)],64)))),128))])):(t(),o("div",{key:2,class:"path-list clickable",onClick:l[23]||(l[23]=h((e=>!r(b).isFourMeme&&!r(b).isSunPump&&(J.value=!0)),["stop","prevent"]))},[(t(!0),o(u,null,s(r(nl),((e,a)=>(t(),o(u,{key:a},[e.symbol?(t(),o("span",Pn,c(e.symbol),1)):T("",!0),e.nextAmm&&"unknown"!==e.nextAmm?(t(),o("div",Cn,[d("img",{class:"icon-amm-logo rounded",src:`${r(m).token_logo_url}swap/${e.nextAmm}.jpeg`,alt:"",srcset:"",onerror:"this.src='/icon-default.png'"},null,8,Rn),l[29]||(l[29]=d("img",{style:{width:"15px",margin:"1px 5px 0"},src:ml,alt:"",srcset:""},null,-1))])):T("",!0)],64)))),128)),r(K).length>0?(t(),o("i",Mn)):T("",!0)]))],512),[[H,r(vl)&&r(dl)]]),"solana"!==r(R)&&"tron"!==r(R)&&"sui"!==r(R)&&Number(r(me))>0?(t(),o("li",Vn,[d("div",En,c(e.$t("estimatedGas")),1),d("div",null,"≈ $"+c(r(me)),1)])):T("",!0)])],32),y(la,{visible:r(J),"onUpdate:visible":l[24]||(l[24]=e=>F(J)?J.value=e:null),listRouter:r(K),isAmount:r(C),selectedRouterIndex:r(rl),onGetSelectedRouter:Wl},null,8,["visible","listRouter","isAmount","selectedRouterIndex"]),y(ln,{visible:r(pl),"onUpdate:visible":l[25]||(l[25]=e=>F(pl)?pl.value=e:null),swapInfo:r(ie),swapQuoteInfo:r(ol),slippage:"solana"===r(R)?r(D):"ton"===r(R)||"sui"===r(R)?r(L):r(Ze),loading:r(se),chain:r(R),nativePrice:r(ce),gasPrice:r(de),activeShow:r(cl),onSubmit:Xl},null,8,["visible","swapInfo","swapQuoteInfo","slippage","loading","chain","nativePrice","gasPrice","activeShow"])],64)}}}),[["__scopeId","data-v-9e92a27b"]]),On=e({__name:"swap",setup(e){const l=an(),a=Qe((()=>Ke((()=>import("./DX_9Ij8R.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]),import.meta.url))),s=n((()=>0===l.swapType||1===l.swapType?a:Dn));return(e,a)=>(t(),o(u,null,[y(cl,{tab:r(l).swapType,"onUpdate:tab":a[0]||(a[0]=e=>r(l).swapType=e)},null,8,["tab"]),(t(),p(Ze(r(s))))],64))}}),Bn=e({__name:"index",setup(e){const a=l(),n=an(),u=le();return S([()=>{var e;return(null==(e=u.token)?void 0:e.token)||""},()=>a.chain,()=>a.address],(()=>{var e;(null==(e=u.token)?void 0:e.token)&&n.init()})),Je((()=>{n.init()})),(e,l)=>(t(),o("div",null,[y(dl,{activeTab:r(n).activeTab,"onUpdate:activeTab":l[0]||(l[0]=e=>r(n).activeTab=e)},null,8,["activeTab"]),y(On)]))}}),jn=Object.freeze(Object.defineProperty({__proto__:null,default:Bn},Symbol.toStringTag,{value:"Module"}));export{un as P,Pl as S,Ll as a,jn as i,an as u};
