import{f as e,af as a,aC as s,P as l,Q as t,aD as r,v as o,y as i,r as n,g as d,m as c,a0 as u,n as p,T as m,c as v,o as x,U as _,L as g,D as h,b as f,aj as w,w as y,i as k,a as b,t as F,B as C,S,G as $,aH as z,aI as j,a6 as T,a3 as A,a9 as E,aJ as M,d as B,aK as D,aL as N,aM as R,aN as U,H as Y,M as H,Z as V,a2 as W,aY as I,aX as L,b2 as P,aU as G,b3 as J,_ as K}from"./BY9EIVYr.js";import{E as O,a as Q}from"./CWSF7Zrv.js";import{E as X}from"./DRHcIXYw.js";import"./BObx0-it.js";import"./DuT2dQq8.js";import{i as Z}from"./DxpqxFqd.js";import"./B7cUFrfB.js";const q={class:"flex-1 h-[calc(100%-76px)] flex flex-col"},ee={key:0},ae={key:0,class:"flex flex-col items-center justify-center py-30px"},se={key:0,src:N},le={key:1,src:R},te={key:1},re={class:"text-12px mt-10px"},oe={class:"flex items-center"},ie={class:"text-[--d-666-l-999] text-10px mr-5px"},ne={class:"flex items-center"},de={class:"flex items-center mt-6px"},ce={class:"text-[#666]"},ue={key:0},pe={key:1,class:"text-[#666]"},me={key:0},ve={key:1,class:"text-[#666]"},xe=["href"],_e=["onClick"],ge={class:"overflow-hidden whitespace-nowrap max-w-0 group-hover:max-w-[100px] transition-all duration-500 ease-in-out color-[var(--d-F5F5F5-l-333)]"},he={key:1,class:"flex items-center mr-12px color-[var(--d-666-l-CCC)] cursor-not-allowed"},fe={class:"flex items-center justify-between mt-12px gap-12px"},we=K(e({__name:"index",setup(e){const{updateNum3:N}=a(s()),R=l(),K=t(),we=r(),{t:ye}=o(),{isDark:ke}=a(i()),be=n({buttonRefs:{}}),Fe=n(""),Ce=n(!1),Se=n({x:0,y:0}),$e=n({getBoundingClientRect:()=>({width:0,height:0,top:Se.value.y,left:Se.value.x,bottom:Se.value.y,right:Se.value.x}),get clientWidth(){return 0},get clientHeight(){return 0}}),ze=n({}),je=n(!1),Te=n({total:0,page:1,pageSize:50}),Ae=n([]),{mode:Ee}=a(i()),Me=d((()=>R.evmAddress||K.address));c((()=>K.walletSignature[K.address]),(e=>{e&&Ne()})),c((()=>N.value),(()=>{Ne()})),c((()=>R.evmAddress),(e=>{e?Ne():Ae.value=[]})),c((()=>K.address),(e=>{e?Ne():Ae.value=[]}));const Be=e=>{we.push(`/address/${e.user_address}/${e.user_chain}`)},De=({prop:e,order:a})=>{e&&("ascending"===a?Ae.value=Ae.value.toSorted(((a,s)=>a[e]-s[e])):"descending"===a&&(Ae.value=Ae.value.toSorted(((a,s)=>s[e]-a[e]))))},Ne=async()=>{var e;je.value=!0;const a=await Z({address:Me.value,pageNO:Te.value.page,pageSize:Te.value.pageSize,time_interval:"7d",sort_dir:"desc"}),s=a.data&&(null==(e=a.data)?void 0:e.map((e=>({...e,total_txs:Re(e.total_sold).plus(Re(e.total_purchase)).toString(),total_txs_usd:Re(e.total_sold_usd).plus(Re(e.total_purchase_usd)).toString()}))))||[];Te.value.total=a.total,Ae.value=s,je.value=!1};function Re(e){try{const a=new u(e);return a.isFinite()?a:new u(0)}catch(a){return new u(0)}}return p((()=>{(R.evmAddress||K.address)&&Ne()})),(e,a)=>{const s=Y,l=U,t=C,r=z,o=j,i=O,n=T,d=Q,c=X,u=H,p=V,N=m("copy"),Z=w;return x(),v("div",q,[_((x(),g(d,{class:"mt-12px",height:Te.value.total>50?"calc(100% - 84px)":"100%","row-class-name":"group",data:Ae.value,fit:"",onSortChange:De,onRowClick:Be},{empty:y((()=>[k(R).evmAddress||k(K).address?(x(),v("div",ee,[je.value?(x(),v("span",te)):(x(),v("div",ae,["light"===k(Ee)?(x(),v("img",se)):h("",!0),"dark"===k(Ee)?(x(),v("img",le)):h("",!0),b("span",null,F(k(ye)("emptyNoData")),1)]))])):(x(),g(l,{key:1},{default:y((()=>[b("span",re,F(e.$t("noWalletTip")),1),f(s,{type:"primary",class:"mt-10px",onClick:a[0]||(a[0]=e=>k(R).$patch({connectVisible:!0}))},{default:y((()=>[B(F(e.$t("connectWallet")),1)])),_:1})])),_:1}))])),default:y((()=>[f(i,{label:k(ye)("address"),"min-width":"160"},{default:y((({row:e,$index:s})=>[b("div",oe,[b("span",ie," #"+F((Te.value.page-1)*Te.value.pageSize+s+1),1),(x(),g(t,{key:`${e.user_address}-${e.user_chain}`,ref:e=>be.value.buttonRefs[s]=e,name:"custom:attention",class:$([1===e.is_wallet_address_fav?"color-[#F45469]":"color-[--d-666-l-999]","color-[--d-666-l-999] text-12px clickable shrink-0"]),onClick:S((a=>(async e=>{K.address&&!K.walletSignature[K.address]&&await K.signMessageForFavorite(),je.value=!0,(1===e.is_wallet_address_fav?G:J)({address:Me.value,user_address:e.user_address,user_chain:e.user_chain}).then((()=>{W.success(1===e.is_wallet_address_fav?ye("attention1Canceled"):ye("attention1Success")),Ne()})).catch((e=>{W.error(String(e))})).finally((()=>{je.value=!1}))})(e)),["stop","prevent"])},null,8,["class","onClick"])),(x(),g(r,{key:`${e.user_address}-${e.user_chain}`,class:"mx-8px",wallet_logo:e.wallet_logo,address:e.user_address,chain:e.user_chain,iconSize:"32px"},null,8,["wallet_logo","address","chain"])),b("div",null,[b("div",ne,[(x(),g(o,{key:`${e.user_address}-${e.user_chain}`,remark:e.remark,address:e.user_address,chain:e.user_chain,addressClass:"token-symbol ellipsis py-0px! text-14px lh-none",addressStyle:"max-width: 85px",iconEditColor:k(ke)?"#666":"#999",iconEditSize:"10px",showAddressTitle:"",formatAddress:e=>(null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4))},null,8,["remark","address","chain","iconEditColor","formatAddress"]))]),b("div",de,[_(f(t,{name:"bxs:copy",class:"clickable text-[--d-666-l-999] w-12px h-12px",onClick:a[1]||(a[1]=S((()=>{}),["stop","prevent"]))},null,512),[[N,null==e?void 0:e.user_address]]),f(t,{name:"custom:sun-icon",class:"text-12px w-12px h-12px mx-5px"}),f(t,{name:"custom:wallet-icon",class:"text-12px w-12px h-12px"})])])])])),_:1},8,["label"]),f(i,{label:k(ye)("noteTime"),align:"right"},{default:y((({row:a})=>[f(n,{placement:"right",content:k(A)(a.create_time).format("YYYY-MM-DD HH:mm:ss")},{default:y((()=>[b("div",ce,F(("formatTimeFromNow"in e?e.formatTimeFromNow:k(E))(null==a?void 0:a.create_time)),1)])),_:2},1032,["content"])])),_:1},8,["label"]),f(i,{label:k(ye)("tokenBalance"),align:"right"},{default:y((({row:e})=>[b("div",null,[(null==e?void 0:e.main_token_balance_amount)>0?(x(),v("div",ue,F(k(M)((null==e?void 0:e.main_token_balance_amount)||0,2))+"Â "+F(e.main_token_symbol),1)):(x(),v("div",pe," 0 "))])])),_:1},8,["label"]),f(i,{label:k(ye)("walletTotalBalance"),align:"right"},{default:y((({row:e})=>[b("div",null,[(null==e?void 0:e.total_balance)>0?(x(),v("div",me," $"+F(k(M)((null==e?void 0:e.total_balance)||0,1)),1)):(x(),v("div",ve," $0 "))])])),_:1},8,["label"]),f(i,{label:k(ye)("pushTitle"),align:"right"},{default:y((({row:s})=>[b("div",{class:"flex flex-row-reverse",onClick:a[2]||(a[2]=S((()=>{}),["stop"]))},[b("a",{class:"flex items-center color-[var(--d-F5F5F5-l-333)]",href:`https://t.me/AveSniperBot?start=fs-${s.user_chain}-${s.user_address}`,target:"_blank"},[f(t,{name:"custom:documentary-wallet",class:"text-16px mr-2px"}),B(" "+F(k(ye)("copyTrade")),1)],8,xe),("SupportMonitorChain"in e?e.SupportMonitorChain:k(D)).includes(null==s?void 0:s.user_chain)?(x(),v("div",{key:0,class:"flex items-center mr-12px cursor-pointer",onClick:e=>(async e=>{if(!R.evmAddress)return W.warning(ye("noBotWalletTip"));if(0===(null==e?void 0:e.is_monitored)){if(0===e.is_wallet_address_fav)return W.warning(ye("monitorError"));await I({address:e.user_address,app:0,buy:1,chain:e.user_chain,sell:1,telegram:0,user_address:Me.value,website:1}).then((()=>{W.success(ye("success")),Ne()})).catch((e=>{W.error(String(e))}))}else await L({address:e.user_address,uid:e.id}).then((()=>{W.success(ye("success")),Ne()}))})(s)},[1===(null==s?void 0:s.is_monitored)?(x(),g(t,{key:0,name:"custom:monitor2-icon",class:"text-12px mr-5px mb--1px color-#999 group-hover:color-#3F80F7"})):(x(),g(t,{key:1,name:"custom:monitor-icon",class:"text-15px mr-2px mb-1px color-[var(--d-CCC-l-666)] group-hover:color-#3F80F7"})),b("span",ge,F(1===(null==s?void 0:s.is_monitored)?k(ye)("pause"):k(ye)("enable")),1)],8,_e)):(x(),v("div",he,[f(t,{name:"custom:monitor-icon",class:"text-15px mr-2px mb-1px"})]))])])),_:1},8,["label"])])),_:1},8,["height","data"])),[[Z,je.value]]),Te.value.total>1?(x(),g(c,{key:0,"current-page":Te.value.page,"onUpdate:currentPage":a[3]||(a[3]=e=>Te.value.page=e),"page-size":Te.value.pageSize,"onUpdate:pageSize":a[4]||(a[4]=e=>Te.value.pageSize=e),class:"h-72px flex justify-end items-center",layout:"prev, pager, next, ->",total:Te.value.total,"page-sizes":[10,20,30,40,50,60],"hide-on-single-page":"",onChange:Ne},null,8,["current-page","page-size","total"])):h("",!0),f(p,{visible:Ce.value,"virtual-ref":$e.value,"virtual-triggering":"",trigger:"click",width:250},{default:y((()=>[b("div",null,[b("div",null,F(k(ye)("editRemark")),1),f(u,{modelValue:Fe.value,"onUpdate:modelValue":a[5]||(a[5]=e=>Fe.value=e),clearable:"",maxlength:"20","show-word-limit":"",placeholder:k(ye)("enterRemark"),class:"mt-8px w-100%"},null,8,["modelValue","placeholder"]),b("div",fe,[b("div",{class:"flex-1 text-center cursor-pointer text-14px color-[--d-F5F5F5-l-333] bg-[--d-333-l-F2F2F2] px-12px py-8px rounded-4px",onClick:a[6]||(a[6]=e=>Ce.value=!1)},F(k(ye)("cancel")),1),b("div",{class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px",onClick:a[7]||(a[7]=e=>(async e=>{if(Fe.value.length>50)return W.error(ye("remarkError"));await P({remark:Fe.value,user_address:e.user_address,user_chain:e.user_chain,self_address:Me.value}),W.success(ye("success")),Ce.value=!1,Ne()})(ze.value))},F(k(ye)("confirm")),1)])])])),_:1},8,["visible","virtual-ref"])])}}}),[["__scopeId","data-v-99afe91d"]]);export{we as default};
