import{_ as e,v as l,af as a,y as t,r as o,g as s,m as n,g8 as i,n as r,c as d,o as u,a as c,i as v,g9 as p,aJ as m,$ as h,f,aA as b,bE as y,J as g,P as x,Q as _,c4 as w,T as k,L,bx as S,s as N,w as F,t as C,b as $,B as A,G as T,a5 as B,U as E,F as j,C as V,D as z,a8 as I,au as P,a2 as O,by as R,bz as D,al as U,am as M,q as H,d as G,S as W,bC as q,O as K,cw as Y,N as J,a0 as X,b8 as Z,a4 as Q,hC as ee,lB as le,lA as ae,lD as te,lz as oe,ly as se,K as ne,p as ie,aj as re,ah as de,ai as ue,aL as ce,aM as ve,aC as pe,bA as me,aU as he,ad as fe,h as be,dF as ye,aG as ge,cH as xe}from"./BY9EIVYr.js";import{g as _e,a as we,b as ke,c as Le,_ as Se,L as Ne,s as Fe,d as Ce,e as $e,f as Ae,h as Te,i as Be,j as Ee}from"./DB5tKg2v.js";import{i as je}from"./DSxbjVeY.js";import{v as Ve}from"./_R2nDvl_.js";import{j as ze,a as Ie,r as Pe}from"./DxpqxFqd.js";import{a as Oe,E as Re}from"./BdSP2G6B.js";import{a as De,E as Ue}from"./CWSF7Zrv.js";import{_ as Me}from"./CMuzpZS2.js";import"./BObx0-it.js";import"./DuT2dQq8.js";import"./DBQWc8Xl.js";import"./CJXpfIx0.js";import"./BZI4qv_R.js";import"./DJKaFdKc.js";import"./B7cUFrfB.js";import"./DNHovcs4.js";import"./khxch50D.js";import"./D600_RKl.js";import"./dPr5-CpI.js";import"./C04P7iJb.js";import"./Cu9oaoDx.js";import"./BxT7OH1S.js";import"./DhwfMf61.js";import"./CdSQZM4X.js";import"./gfa7pY1Q.js";import"./CymzNdFE.js";import"./BQhZAvhG.js";import"./CJic4ssJ.js";const He={class:"chart-container"},Ge=["id"],We=e({__name:"lineS",props:{dataList:{type:Array,default:()=>[]},showSeries:{type:Array,default:()=>[]},loading:Boolean,showLeft:Boolean},setup(e){const{t:h}=l(),f=e,{mode:b,lang:y}=a(t()),g=o(`chart-${Ve()}`),x=s((()=>[{k:1,color:"#3F80F7",label:h("add"),value:"value1",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgb(40, 109, 255, 0.9)"},{offset:1,color:"light"===b.value?"#fff":"rgb(23, 25, 28)"}],globalCoord:!1}}}])),_=s((()=>f.dataList.map((e=>e.time)))),w=s((()=>x.value.map((e=>({name:e.label,type:"line",z:1,symbol:"none",itemStyle:{color:e.color},lineStyle:{width:2},emphasis:{disabled:!0,focus:"series"},areaStyle:e.areaStyle,data:f.dataList.map((l=>l[e.value]))}))))),k=()=>{if(!document.getElementById(g.value))return;let e=i(document.getElementById(g.value));e||(e=p(document.getElementById(g.value),null,{renderer:"svg"})),e.hideLoading(),e.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""});const l={legend:{show:!1,bottom:0,itemWidth:10,itemHeight:10,icon:"circle",textStyle:{color:"#787B86",fontSize:12}},tooltip:{trigger:"axis",backgroundColor:"light"===b.value?"#F5F5F5":"#17191C",textStyle:{fontSize:10,color:"#959A9F",fontFamily:"Poppins"},borderWidth:0,formatter:function(e){let l=e[0].name+"<br>";return e.forEach((e=>{l+=`${e.marker} ${e.seriesName}: <span style="color:${"light"===b.value?"#17191C":"#F5F5F5"}">${m(e.value||0,2)}</span><br>`})),l},appendToBody:!0},grid:{left:"0",right:"0",top:"0",bottom:"0",tooltip:{show:!1,axisPointer:{type:"cross"}}},xAxis:{type:"category",data:_.value,boundaryGap:!1,splitLine:{show:!1},show:!1,axisTick:{show:!1},axisLabel:{color:"light"===b.value?"#999":"#666",fontFamily:"Poppins"},nameTextStyle:{fontSize:12},axisLine:{lineStyle:{color:"#1c1c1c"}}},yAxis:{type:"value",position:"right",name:"",show:!1,nameTextStyle:{fontSize:12},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===b.value?"#999":"#666",fontFamily:"Poppins",formatter:"{value}"},splitLine:{show:!1},min:e=>parseInt(1*e.min),max:e=>Math.ceil(e.max)},series:w.value};e.setOption(l),f.dataList&&f.dataList.length>0&&e.hideLoading()},L=(e,l)=>{const a=i(document.getElementById(g.value));a&&a.dispatchAction({type:e?"legendSelect":"legendUnSelect",name:x.value[l].label})};return n((()=>f.loading),(e=>{const l=i(document.getElementById(g.value));l&&(e?(l.hideLoading(),l.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""})):l.hideLoading())})),n((()=>f.dataList),(()=>{k()})),n((()=>f.showSeries[0]),(e=>{L(e,0)})),n((()=>f.showSeries[1]),(e=>{L(e,1)})),n((()=>f.showSeries[2]),(e=>{L(e,2)})),n((()=>f.showSeries[3]),(e=>{L(e,3)})),n([b,y],(()=>{k()})),n((()=>f.showLeft),(e=>{setTimeout((()=>{const e=i(document.getElementById(g.value));e&&e.resize()}),100)})),r((()=>{k()})),(e,l)=>(u(),d("div",He,[c("div",{id:v(g),style:{height:"100%",width:"100%"}},null,8,Ge)]))}},[["__scopeId","data-v-cbca0302"]]);function qe(e,l="value"){const a=e.length;for(let t=0;t<a;t++)if(-1===e[t][l]){let o=t-1;for(;o>=0&&-1===e[o][l];)o--;if(o>=0)e[t][l]=e[o][l];else{let o=t+1;for(;o<a&&-1===e[o][l];)o++;o<a&&(e[t][l]=e[o][l])}}return e}const Ke={class:"chart-container"},Ye=["id"],Je=e({__name:"line",props:{dataList:{type:Array,default:()=>[]},showSeries:{type:Array,default:()=>[]},loading:Boolean,showLeft:Boolean},setup(e){const{t:m}=l(),f=e,{mode:b,lang:y}=a(t()),g=o(`chart-${Ve()}`),x=s((()=>[{k:1,color:"#286DFF",label:m("addressCount"),value:"value1",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgb(40, 109, 255, 0.9)"},{offset:1,color:"light"===b.value?"#fff":"rgb(23, 25, 28)"}],globalCoord:!1}}}])),_=s((()=>f.dataList.map((e=>e.time)))),w=s((()=>x.value.map((e=>({name:e.label,type:"line",z:1,smooth:!0,symbolSize:1,itemStyle:{color:e.color},lineStyle:{width:2},emphasis:{disabled:!0,focus:"series"},areaStyle:e.areaStyle,data:f.dataList.map((l=>l[e.value]))}))))),k=()=>{if(!document.getElementById(g.value))return;let e=i(document.getElementById(g.value));e||(e=p(document.getElementById(g.value),null,{renderer:"svg"})),e.hideLoading(),e.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""});const l={title:{textStyle:{color:"light"===b.value?"#333":"#F5F5F5",fontSize:16,fontFamily:"Poppins",fontWeight:400},text:m("holdersChange")},tooltip:{trigger:"axis",backgroundColor:"light"===b.value?"#F2F2F2":"#333",textStyle:{fontSize:12,color:"light"===b.value?"#666":"#999",fontFamily:"Poppins"},padding:[6,8],axisPointer:{label:{show:!1}},borderWidth:0,formatter:function(e){let l=e[0].name+"<br>";return e.forEach((e=>{l+=`<div style="display:flex;align-items:center;width:100%; gap:8px"><div>${e.marker} ${e.seriesName}</div><span style="color:${"light"===b.value?"#333":"#F5F5F5"}">${e.value}</span><br></div>`})),l},appendToBody:!0},grid:{left:"20",right:"20",top:"40",bottom:"20",containLabel:!0,tooltip:{axisPointer:{type:"line"}}},xAxis:{type:"category",data:_.value,boundaryGap:["0","20"],splitLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===b.value?"#999":"#666",fontFamily:"Poppins",formatter:function(e){const[l,a]=e.split(" ");return`${a}\n${l}`}},nameTextStyle:{fontSize:12},axisLine:{show:!1}},yAxis:{type:"value",position:"right",name:"",nameTextStyle:{fontSize:12},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===b.value?"#999":"#666",fontFamily:"Poppins",formatter:function(e){return h(e,4)}},splitLine:{lineStyle:{type:"dashed",color:"light"===b.value?"#F5F5F5":"#333"},show:!0},min:e=>parseInt(1*e.min),max:e=>Math.ceil(e.max)},series:w.value};e.setOption(l),f.dataList&&f.dataList.length>0&&e.hideLoading()},L=(e,l)=>{const a=i(document.getElementById(g.value));a&&a.dispatchAction({type:e?"legendSelect":"legendUnSelect",name:x.value[l].label})};return n((()=>f.loading),(e=>{const l=i(document.getElementById(g.value));l&&(e?(l.hideLoading(),l.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""})):l.hideLoading())})),n((()=>f.dataList),(()=>{k()})),n((()=>f.showSeries[0]),(e=>{L(e,0)})),n((()=>f.showSeries[1]),(e=>{L(e,1)})),n((()=>f.showSeries[2]),(e=>{L(e,2)})),n((()=>f.showSeries[3]),(e=>{L(e,3)})),n([b,y],(()=>{k()})),n((()=>f.showLeft),(e=>{setTimeout((()=>{const e=i(document.getElementById(g.value));e&&e.resize()}),100)})),r((()=>{k()})),(e,l)=>(u(),d("div",Ke,[c("div",{id:v(g),class:"w-440px h-210px"},null,8,Ye)]))}},[["__scopeId","data-v-6d60bfd7"]]),Xe={class:"chart-container"},Ze=["id"],Qe=e({__name:"line2",props:{dataList:{type:Array,default:()=>[]},showSeries:{type:Array,default:()=>[]},activeTime:{type:String,default:"1m"},loading:Boolean,showLeft:Boolean},setup(e){const{t:m}=l(),f=e,{mode:b,lang:y}=a(t()),g=o(`chart-${Ve()}`),x=s((()=>[{k:1,color:"#3F80F7",label:"TOP 10",value:"value1"},{k:2,color:"#12B886",label:"TOP 50",value:"value2"},{k:3,color:"#8D47E7",label:"TOP 100",value:"value3"}])),_=s((()=>f.dataList.map((e=>e.time)))),w=s((()=>x.value.map((e=>({name:e.label,type:"line",smooth:!0,z:1,symbolSize:1,itemStyle:{color:e.color},lineStyle:{width:2},emphasis:{disabled:!0,focus:"series"},areaStyle:e.areaStyle,data:f.dataList.map((l=>({value:l.holders_count*l[e.value],ratio:l[e.value]})))}))))),k=()=>{if(!document.getElementById(g.value))return;let e=i(document.getElementById(g.value));e||(e=p(document.getElementById(g.value),null,{renderer:"svg"})),e.hideLoading(),e.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""});const l={legend:{show:!0,right:0,itemWidth:10,itemHeight:10,icon:"circle",textStyle:{color:"#787B86",fontSize:12}},title:{textStyle:{color:"light"===b.value?"#333":"#F5F5F5",fontSize:16,fontFamily:"Poppins",fontWeight:400},text:m("holdersChange2",{n:f.activeTime})},tooltip:{trigger:"axis",backgroundColor:"light"===b.value?"#F2F2F2":"#333",textStyle:{fontSize:12,color:"light"===b.value?"#666":"#999",fontFamily:"Poppins"},padding:[6,8],axisPointer:{label:{show:!1}},borderWidth:0,formatter:function(e){let l=`${e[0].name}<br>`;return e.reverse().forEach((e=>{l+=`<div style="display:flex;align-items:center;"><div style="width:75px">${e.marker} ${e.seriesName}</div><div style="color:${"light"===b.value?"#333":"#F5F5F5"};flex:1;text-align:right">${h(e.data.value||0,2)}(${h(Math.abs(100*Number(e.data.ratio)),2)}%)</div><br></div>`})),l},appendToBody:!0},grid:{left:"20",right:"20",top:"40",bottom:"20",containLabel:!0,tooltip:{axisPointer:{type:"line"}}},xAxis:{type:"category",data:_.value,boundaryGap:["0","20"],splitLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===b.value?"#999":"#666",fontFamily:"Poppins",formatter:function(e){const[l,a]=e.split(" ");return`${a}\n${l}`}},nameTextStyle:{fontSize:12},axisLine:{show:!1}},yAxis:{type:"value",position:"right",name:"",nameTextStyle:{fontSize:12},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===b.value?"#999":"#666",fontFamily:"Poppins",formatter:function(e){return h(e,2)}},splitLine:{lineStyle:{type:"dashed",color:"light"===b.value?"#F5F5F5":"#333"},show:!0},min:e=>parseInt(1*e.min),max:e=>Math.ceil(e.max)},series:w.value};e.setOption(l),f.dataList&&f.dataList.length>0&&e.hideLoading()},L=(e,l)=>{const a=i(document.getElementById(g.value));a&&a.dispatchAction({type:e?"legendSelect":"legendUnSelect",name:x.value[l].label})};return n((()=>f.loading),(e=>{const l=i(document.getElementById(g.value));l&&(e?(l.hideLoading(),l.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""})):l.hideLoading())})),n((()=>f.dataList),(()=>{k()})),n((()=>f.showSeries[0]),(e=>{L(e,0)})),n((()=>f.showSeries[1]),(e=>{L(e,1)})),n((()=>f.showSeries[2]),(e=>{L(e,2)})),n((()=>f.showSeries[3]),(e=>{L(e,3)})),n([b,y],(()=>{k()})),n((()=>f.showLeft),(e=>{setTimeout((()=>{const e=i(document.getElementById(g.value));e&&e.resize()}),100)})),r((()=>{k()})),(e,l)=>(u(),d("div",Xe,[c("div",{id:v(g),class:"w-440px h-210px"},null,8,Ze)]))}},[["__scopeId","data-v-7de6821e"]]),el={class:"h-70px flex items-center px-20px font-500 text-20px lh-30px tracking-0% color-[--main-text] border-b-1px border-b-solid border-b-[--border]"},ll={class:"justify-between flex items-center h-80px px-20px"},al={class:"flex items-center"},tl={class:"flex flex-col justify-between ml-8px h-40px"},ol={class:"flex items-center gap-8px h-20px"},sl={class:"font-500 text-16px lh-20px tracking-0px color-[--main-text]"},nl={class:"font-500 text-10px lh-20px tracking-0px color-[--third-text]"},il={class:"flex items-center gap-4px h-14px justify-start"},rl={class:"font-500 text-10px lh-20px tracking-0px color-[--third-text]"},dl={class:"font-400 text-12px lh-14px tracking-0px color-[--main-text]"},ul={class:"flex items-center border-solid border-0.5px color-#999 border-[--border] rounded-4px h-28px"},cl=["onClick"],vl={class:"px-20px py-20px"},pl=f({__name:"rightPop",props:{modelValue:{type:Boolean,default:!1},holdersNum:{type:Number,default:0},activeTime:{type:String,default:"1m"}},emits:["update:modelValue"],setup(e,{emit:t}){const o=t,i=R(D.TOP_FAV_CHANGE),r=b(),{collected:p}=a(y()),{t:m}=l(),f=e,U=g(!1),M=s((()=>[{name:"1m",id:"1m"},{name:"5m",id:"5m"},{name:"1h",id:"1h"},{name:"4h",id:"4h"}])),H=g(f.activeTime),G=g(!1),W=g([]),q=g(!1),K=g([]),{token:Y}=a(y()),{evmAddress:J}=a(x()),X=_(),Z=s((()=>{var e,l;const a=r.params.id;return a?w(a):{address:(null==(e=Y.value)?void 0:e.token)||"",chain:(null==(l=Y.value)?void 0:l.chain)||""}}));n((()=>f.activeTime),(e=>{H.value=e}));const Q=s({get:()=>f.modelValue,set(e){o("update:modelValue",e)}}),ee=s((()=>J.value||X.address));const le=()=>{G.value=!0,_e(Z.value.address,Z.value.chain,H.value).then((e=>{const l=e||[];l.length?(qe(l,"holders_count"),W.value=l.map((e=>({...e,value1:e.holders_count,time:I(new Date(1e3*Number(null==e?void 0:e.time)).getTime(),"MM-DD HH:mm")})))):W.value=[]})).finally((()=>{G.value=!1})).catch((e=>{W.value=[]})),q.value=!0,we(Z.value.address,Z.value.chain,H.value).then((e=>{const l=e||[];l.length?(qe(l,"holders_count"),qe(l,"top100_ratio"),qe(l,"top50_ratio"),qe(l,"top10_ratio"),K.value=l.map((e=>({...e,value3:e.top100_ratio,value2:e.top50_ratio,value1:e.top10_ratio,time:I(new Date(1e3*Number(null==e?void 0:e.time)).getTime(),"MM-DD HH:mm")})))):K.value=[]})).finally((()=>{q.value=!1})).catch((e=>{K.value=[]}))};function ae(){var e,l;ze((null==(e=Z.value)?void 0:e.address)+"-"+(null==(l=Z.value)?void 0:l.chain),ee.value).then((e=>{p.value=!!(null==e?void 0:e.address)})).catch((e=>{})).finally((()=>{}))}async function te(){var e,l;ee.value?(X.address&&await X.signMessageForFavorite(),p.value?Pe((null==(e=Z.value)?void 0:e.address)+"-"+(null==(l=Z.value)?void 0:l.chain),ee.value).then((()=>{O.success(m("cancelled1")),p.value=!1,i.emit()})).catch((e=>{})).finally((()=>{})):function(){var e,l;Ie((null==(e=Z.value)?void 0:e.address)+"-"+(null==(l=Z.value)?void 0:l.chain),ee.value).then((()=>{O.success(m("collected")),p.value=!0,i.emit()})).catch((e=>{})).finally((()=>{}))}()):P()}return n((()=>Q.value),(e=>{e&&(ae(),le())})),n((()=>Z.value.address),(e=>{ae(),le()}),{immediate:!0}),(l,a)=>{const t=A,o=B,s=S,n=k("copy");return u(),L(s,{modelValue:v(Q),"onUpdate:modelValue":a[0]||(a[0]=e=>N(Q)?Q.value=e:null),class:"bg-[--dialog-bg]! rounded-tl-10px rounded-bl-10px border-none",size:480,"append-to-body":"","with-header":!1},{default:F((()=>{var a,s,i,r,m,f;return[c("div",el,C(l.$t("holdersAnalysis")),1),c("div",ll,[c("div",al,[$(t,{name:"material-symbols:kid-star",class:T(["color-[--third-text] h-16px w-16px clickable mr-12px",v(p)?"color-#ffbb19":""]),onClick:te},null,8,["class"]),$(o,{tokenClass:"w-40px h-40px",chainClass:"w-20px h-20px bottom--2px! right--2px!",row:{logo_url:(null==(a=v(Y))?void 0:a.logo_url)||"",chain:(null==(s=v(Z))?void 0:s.chain)||""}},null,8,["row"]),c("div",tl,[c("div",ol,[c("span",sl,C(null==(i=v(Y))?void 0:i.symbol),1),c("span",nl,C(null==(m=null==(r=v(Z))?void 0:r.address)?void 0:m.replace(new RegExp("(.{4})(.+)(.{4}$)"),"$1...$3")),1),E($(t,{name:"bxs:copy",class:"cursor-pointer text-10px color-[--third-text]"},null,512),[[n,null==(f=v(Z))?void 0:f.address]])]),c("div",il,[c("span",rl,C(l.$t("holdersNumTotal")),1),c("span",dl,C(("formatNumber"in l?l.formatNumber:v(h))(e.holdersNum,4)),1)])])]),c("div",ul,[(u(!0),d(j,null,V(v(M),((e,l)=>(u(),d("span",{key:l,class:T("px-14px py-4px text-12px hover:opacity-80 cursor-pointer "+(e.id===v(H)?"color-[--main-text] bg-[--border]":"")),onClick:l=>function(e){H.value=e,le()}(e.id)},C(e.name),11,cl)))),128))])]),c("div",vl,[v(W).length>0||v(G)?(u(),L(Je,{key:0,class:"w-440px h-210px relative mb-40px!",dataList:v(W),loading:v(G),showSeries:[!1],showLeft:!1},null,8,["dataList","loading"])):z("",!0),v(K).length>0?(u(),L(Qe,{key:1,class:"w-440px h-210px relative",dataList:v(K),activeTime:v(H),loading:v(q),showSeries:[!0,!0,!0],showLeft:v(U)},null,8,["dataList","activeTime","loading","showLeft"])):z("",!0)])]})),_:1},8,["modelValue"])}}}),ml={key:0,class:"flex gap-24px"},hl={class:"clickable"},fl={class:"font-400 text-12px lh-16px tracking-0px color-[--third-text] mb-4px flex items-center"},bl={class:"font-500 text-14px lh-16px tracking-0px color-[--main-text]"},yl={class:"clickable"},gl={class:"font-400 text-12px lh-16px tracking-0px color-[--third-text] mb-4px flex items-center"},xl={class:"w-38px"},_l={class:"font-500 text-14px lh-16px tracking-0px color-[--main-text]"},wl={key:1},kl=f({__name:"lineContent",setup(e){const{t:t}=l(),o=b(),{token:i}=a(y());let p;const m=g(!1),f=g(0),x=g(0),_=g(!0),k=g(!1),S=g(!1),F=g([]),B=g(!1),E=g(!1),j=g([]),V=g(0),I=g(["100","10"]),P=g(!1),O=s((()=>I.value[V.value%2])),R=s((()=>{var e,l;const a=o.params.id;return a?w(a):{address:(null==(e=i.value)?void 0:e.token)||"",chain:(null==(l=i.value)?void 0:l.chain)||""}})),D=g(!1);function q(){var e,l;(null==(l=["solana"])?void 0:l.includes(null==(e=R.value)?void 0:e.chain))&&(S.value=!0,Le(R.value.address,R.value.chain).then((e=>{var l,a;const t=(null==e?void 0:e.token_count_data)||[];t.length?(qe(t,"holders_count"),f.value=-1===(null==(l=t[t.length-1])?void 0:l.holders_count)?0:null==(a=t[t.length-1])?void 0:a.holders_count,_.value=(new Date).getTime()-1e3*e.create_time<432e5,F.value=t.map((e=>({...e,value1:e.holders_count})))):(f.value=0,_.value=!1,F.value=[])})).finally((()=>{S.value=!1})).catch((e=>{f.value=0,_.value=!1,F.value=[]})),_.value||p&&clearTimeout(p),p=setTimeout((()=>{_.value&&q()}),2e4))}function K(){var e,l;(null==(l=["solana"])?void 0:l.includes(null==(e=R.value)?void 0:e.chain))&&(E.value=!0,ke(R.value.address,R.value.chain,O.value).then((e=>{var l,a;const t=(null==e?void 0:e.token_holder_ratio)||[];t.length?(qe(t,"top_n_ratio"),x.value=-1===(null==(l=t[t.length-1])?void 0:l.top_n_ratio)?0:null==(a=t[t.length-1])?void 0:a.top_n_ratio,j.value=t.map((e=>({...e,value1:Number(e.top_n_ratio)*10**8})))):(x.value=0,j.value=[])})).finally((()=>{E.value=!1})).catch((e=>{E.value=!1,x.value=0,j.value=[]})))}function Y(){D.value||(p&&clearTimeout(p),q(),K(),D.value=!0)}return U((()=>{Y()})),M((()=>{p&&clearTimeout(p),D.value=!1})),H((()=>{p&&clearTimeout(p),D.value=!1})),n((()=>R.value.address),(e=>{D.value=!1,Y()}),{immediate:!1}),n((()=>O.value),(e=>{K()})),n((()=>P.value),(e=>{})),r((()=>{Y()})),(e,l)=>{var a;const o=A;return(null==(a=["solana"])?void 0:a.includes(v(R).chain))?(u(),d("div",{key:0,class:T(["w-lineLight h-52px w-100% px-10px border-b-1px border-b-solid border-b-[--main-divider] mb-12px",v(P)&&"h-0px! border-b-0px p-0px!"])},[v(P)?z("",!0):(u(),d("ul",ml,[c("li",{class:"flex gap-8px",onClick:l[0]||(l[0]=W((e=>m.value=!0),["stop"]))},[c("div",hl,[c("div",fl,[G(C(v(t)("holdersNum"))+C(v(_)?"(1m)":"(1h)")+" ",1),$(o,{name:"material-symbols:chevron-right-rounded",class:"ml-4px text-14px"})]),c("div",bl,C(("formatNumber"in e?e.formatNumber:v(h))(v(f),4)),1)]),$(We,{class:"w-120px h-40px",dataList:v(F),loading:v(S),showSeries:[!1,!1],showLeft:v(k)},null,8,["dataList","loading","showLeft"])]),c("li",{class:"flex gap-8px",onClick:l[2]||(l[2]=W((e=>m.value=!0),["stop"]))},[c("div",yl,[c("div",gl,[c("span",xl," Top"+C(v(O)),1),$(o,{name:"custom:exchange-horizontal",class:"ml-4px color-[--third-text] text-10px clickable",onClick:l[1]||(l[1]=W((e=>V.value++),["stop"]))}),$(o,{name:"material-symbols:chevron-right-rounded",class:"ml-4px text-14px"})]),c("div",_l,C(`${("formatNumber"in e?e.formatNumber:v(h))(Math.abs(100*Number(v(x))),2)}%`),1)]),$(We,{class:"w-120px h-40px",dataList:v(j),loading:v(E),showSeries:[!1,!1],showLeft:v(B)},null,8,["dataList","loading","showLeft"])])])),c("div",{class:T(["bg-[--main-list-hover] w-20px h-12px flex items-center justify-center mx-auto cursor-pointer transition-all duration-0.4s",v(P)&&"rotate-z-180 origin-center"]),onClick:l[3]||(l[3]=e=>P.value=!v(P))},[$(o,{name:"material-symbols:keyboard-arrow-up",class:"color-[--main-text]"})],2),v(m)?(u(),L(pl,{key:1,modelValue:v(m),"onUpdate:modelValue":l[4]||(l[4]=e=>N(m)?m.value=e:null),holdersNum:Number(v(f)),activeTime:v(_)?"1m":"1h"},null,8,["modelValue","holdersNum","activeTime"])):z("",!0)],2)):(u(),d("div",wl))}}}),Ll={class:"holderInfo"},Sl={class:"px-12px mb-10px flex justify-between"},Nl={class:"flex items-center whitespace-nowrap overflow-x-auto scrollbar-hide tab-width w-100%"},Fl=["onClick"],Cl={class:"section-4"},$l={class:"line-bar"},Al={class:"flex items-center justify-center"},Tl={key:0},Bl={key:1},El=e(f({__name:"index",setup(e){const i=q("holderListSortObj",{all:{sort_by:"",order:""},buy:{sort_by:"bought_usd",order:"desc"},sell:{sort_by:"sold_usd",order:"desc"},buy24h:{sort_by:"",order:""},sell24h:{sort_by:"",order:""}}),{price:p,totalHolders:m}=a(y()),{token:f}=a(y()),L=b(),S=x(),N=_(),{t:F}=l(),B=g("all"),z=t(),I=g(""),P=g(!1),O=o({}),R=o({}),D=o({}),M=s((()=>S.evmAddress||N.address)),H=g(""),W=g(""),ee=K("holdersRef"),le=s((()=>{const e=[];Array.isArray(m.value)&&m.value.forEach((l=>{const a=l.total_address||0;a>0&&e.push({...l,label:(null==l?void 0:l[Y(J().locale)])+`(${a})`,value:l.type})}));const l=z.headFollowsNum.all-z.headFollowsNum.soldAll;return[{label:F("all"),value:"all"},{label:F("followed")+`(${Number.isNaN(l)?"0":l})`,value:"-100"},{label:F("24hBuyers"),value:"buy24h"},{label:F("24hSellers"),value:"sell24h"},...e]})),ae=s((()=>L.params.id)),te=s((()=>{var e,l;const a=I.value?(null==(e=null==R?void 0:R.value)?void 0:e[B.value])||[]:(null==(l=null==O?void 0:O.value)?void 0:l[B.value])||[];return H.value?"sol"==W.value?(null==a?void 0:a.filter((e=>e.sol_first_transfer_in_from==H.value)))||[]:(null==a?void 0:a.filter((e=>e.token_first_transfer_in_from==H.value)))||[]:a||[]})),oe=s((()=>{var e;return(null==(e=null==D?void 0:D.value)?void 0:e[B.value])||{}})),se=s((()=>{var e,l;return null==(l=null==(e=te.value)?void 0:e.reduce(((e,l)=>{const a=Math.max(((null==l?void 0:l.bought)||0)-((null==l?void 0:l.sold)||0),0);return new X((p.value||0)-((null==l?void 0:l.avg_purchase_price)||0)).times(a).plus(e)}),new X("0")))?void 0:l.toFixed(0)})),ne=s((()=>{var e,l;const a=L.params.id;return a?w(a):{address:(null==(e=f.value)?void 0:e.token)||"",chain:(null==(l=f.value)?void 0:l.chain)||""}}));function ie(){O.value[-100]=[],D.value[-100]={}}function re(e){let l="";["all","buy","sell","buy24h","sell24h"].some((e=>B.value===e))||(l=B.value);const a={sort_by:null==e?void 0:e.sort_by,order:null==e?void 0:e.order};a.sort_by||("buy"===B.value?(a.order="asc",a.sort_by="total_profit"):"sell"===B.value?(a.order="desc",a.sort_by="total_profit"):"buy24h"===B.value?(a.order="desc",a.sort_by="bought_usd"):"sell24h"===B.value&&(a.order="desc",a.sort_by="sold_usd"));const t={token_id:ae.value,tag_type:l,self_address:M.value,...a,recent:"buy24h"===B.value||"sell24h"===B.value?1:void 0};i.value[B.value]=a,I.value||(P.value=!0,Se(t).then((e=>{O.value[B.value]=(null==e?void 0:e.holderStats)||[],D.value[B.value]=(null==e?void 0:e.aggregateStats)||{}})).catch((()=>{O.value[B.value]=[]})).finally((()=>{P.value=!1})))}function de(e){var l;re({sort_by:e.prop,order:null==(l=e.order)?void 0:l.replace("ending","")})}function ue(e){H.value?(H.value="",W.value=""):(H.value=e.address||"",W.value=e.type||"")}function ce(e){if(I.value=e||"",!I.value)return void re();let l;["all","buy","sell","buy24h","sell24h"].some((e=>B.value===e))||(l=B.value);const a={token_id:ae.value,self_address:M.value,keyword:I.value,tag_type:l};P.value=!0,Fe(a).then((e=>{R.value[B.value]=Array.isArray(e)?e:[]})).catch((()=>{R.value[B.value]=[]})).finally((()=>{P.value=!1}))}return s((()=>{var e;return null==(e=ne.value)?void 0:e.chain})),n((()=>ae.value),(e=>{e&&re()}),{}),n(B,(e=>{var l,a,t,o;if("buy"===e||"sell"===e){const a="buy"===e?"ascending":"descending";null==(l=null==ee?void 0:ee.value)||l.sort("total_profit",a)}else if("buy24h"===e||"sell24h"===e){const l="buy24h"===e?"bought_usd":"sold_usd";null==(a=null==ee?void 0:ee.value)||a.sort(l,"descending")}else if("-100"!==e||M.value){const l=(null==i?void 0:i.value[e])||{};l.sort_by&&l.order?null==(t=null==ee?void 0:ee.value)||t.sort(l.sort_by,l.order+"ending"):(null==(o=null==ee?void 0:ee.value)||o.clearSort(),re())}else ie()})),r((()=>{re()})),U((()=>{"-100"!==B.value||M.value?re():ie()})),(e,l)=>{var a,t,o,s,n,i,r,m,f,b,y,g,x,_,w,L,S,N,F,I,O;const R=A,D=k("tooltip");return u(),d("div",Ll,[$(kl),c("div",Sl,[c("div",Nl,[(u(!0),d(j,null,V(v(le),(e=>(u(),d("a",{key:e.value,href:"javascript:;",class:T("decoration-none shrink-0 text-12px lh-16px text-center px-12px py-4px rounded-4px\n         "+(v(B)===e.value?"bg-[--tab-active-bg] color-[--main-text]":"color-[--third-text]")),onClick:l=>{return a=e.value,void(B.value=a);var a}},C(e.label),11,Fl)))),128))])]),E(c("ul",Cl,[c("li",null,[c("div",null,C(e.$t("balance1")),1),c("div",{class:T(Number((null==(a=v(oe))?void 0:a.balance)||0)?"":"color-text-2")}," $"+C(("formatNumber"in e?e.formatNumber:v(h))(((null==(t=v(oe))?void 0:t.balance)||0)*(v(p)||0),2)),3)]),c("li",null,[c("div",null,C(e.$t("amount"))+"/"+C(e.$t("largestPosition")),1),c("div",null,[c("span",{class:T(Number((null==(o=v(oe))?void 0:o.balance)||0)?"":"color-text-2")},C(("formatNumber"in e?e.formatNumber:v(h))((null==(s=v(oe))?void 0:s.balance)||0,2)),3),l[0]||(l[0]=c("span",{class:"color-text-2"},"/",-1)),c("span",{class:T(Number((null==(n=v(oe))?void 0:n.largestPosition)||0)?"":"color-text-2")},C(("formatNumber"in e?e.formatNumber:v(h))((null==(i=v(oe))?void 0:i.largestPosition)||0,2)),3)]),c("div",$l,[c("span",{style:Q({width:100*((null==(r=v(oe))?void 0:r.balance)||0)/((null==(m=v(oe))?void 0:m.largestPosition)||1)+"%"})},null,4)])]),c("li",null,[c("div",null,C(e.$t("buy"))+"/"+C(e.$t("sell")),1),c("div",null,[c("span",{class:T(Number((null==(f=v(oe))?void 0:f.buy)||0)?"color-#12B886":"color-text-2")}," $"+C(("formatNumber"in e?e.formatNumber:v(h))((null==(b=v(oe))?void 0:b.buy)||0,2)),3),l[1]||(l[1]=c("span",{class:"color-text-2"},"/",-1)),c("span",{class:T(Number((null==(y=v(oe))?void 0:y.sell)||0)?"color-#F6465D":"color-text-2")}," $"+C(("formatNumber"in e?e.formatNumber:v(h))((null==(g=v(oe))?void 0:g.sell)||0,2)),3)])]),c("li",null,[c("div",Al,[G(C(e.$t("soldAll"))+"/"+C(e.$t("all")),1),E($(R,{name:"material-symbols:help-outline",class:"ml-4px"},null,512),[[D,e.$t("soldAllTips")]])]),"-100"==v(B)?(u(),d("div",Tl,[c("span",{class:T(Number(v(z).headFollowsNum.soldAll||0)?"":"color-text-2")},C(("formatNumber"in e?e.formatNumber:v(h))(v(z).headFollowsNum.soldAll||0,2)),3),l[2]||(l[2]=c("span",{class:"color-text-2"},"/",-1)),c("span",{class:T(Number((null==(x=v(z).headFollowsNum)?void 0:x.all)||0)?"":"color-text-2")},C(("formatNumber"in e?e.formatNumber:v(h))((null==(_=v(z).headFollowsNum)?void 0:_.all)||0,2)),3)])):(u(),d("div",Bl,[c("span",{class:T(Number((null==(w=v(oe))?void 0:w.soldAll)||0)?"":"color-text-2")},C(("formatNumber"in e?e.formatNumber:v(h))((null==(L=v(oe))?void 0:L.soldAll)||0,2)),3),l[3]||(l[3]=c("span",{class:"color-text-2"},"/",-1)),c("span",{class:T(Number((null==(S=v(oe))?void 0:S.all)||0)?"":"color-text-2")},C(("formatNumber"in e?e.formatNumber:v(h))((null==(N=v(oe))?void 0:N.all)||0,2)),3)]))]),c("li",null,[c("div",null,C(e.$t("totalPnL")),1),c("div",{class:T(Number(v(se)||0)?Number(v(se)||0)>0?"color-#12B886":"color-#F6465D":"color-text-2")},C(Number(v(se)||0)?Number(v(se)||0)>0?"+":"-":"")+"$"+C(null==(F=("formatNumber"in e?e.formatNumber:v(h))(v(se)||0,2))?void 0:F.replace("-","")),3)])],512),[[Z,!(null==(O=null==(I=["all"])?void 0:I.includes)?void 0:O.call(I,v(B)))]]),$(Ne,{ref_key:"holdersRef",ref:ee,tableList:v(te),loading:v(P),tabActive:v(B),searchOriginKeyword:v(H),searchOriginType:v(W),onHandleSortChange:de,onFilterAddress:ce,onFilterOriginAddress:ue},null,8,["tableList","loading","tabActive","searchOriginKeyword","searchOriginType"])])}}}),[["__scopeId","data-v-793e2042"]]),jl={top100_amount:{color:"#FB6300",areaStyleColor:"#5b3f52",data:"top100_amount"},16:{color:"#D741E3",areaStyleColor:"#ac3eec33",data:"insider_balance_ratio"},19:{color:"#3F80F7",areaStyleColor:"#3F80F733",data:"sniper_balance_ratio"},25:{color:"#41CEE3",areaStyleColor:"#749f8333",data:"dev_balance_ratio"},30:{color:"#C23531",areaStyleColor:"#c2353133",data:"smartmoney_balance_ratio"},31:{color:"#5E5CE6",areaStyleColor:"#5e5ce61a",data:"kol_balance_ratio"}};function Vl(e){return jl[e]||""}const zl={class:"chart-container"},Il="chart_holder",Pl=e(f({__name:"lineChart",props:{dataList:{},showSeries:{},loading:{type:Boolean},chartHeight:{}},setup(e){ee([je,le,ae,te,oe,se]);const o=e;let i=null;const v=b(),{t:m}=l(),{token:f}=a(y()),{globalConfig:g}=a(ne()),{mode:x}=a(t()),_=t(),k=s((()=>J().locale)),L=s((()=>{var e,l;let a=[];const{chain:t}=w(v.params.id)||(null==(e=null==f?void 0:f.value)?void 0:e.chain)||"",o=null==(l=g.value)?void 0:l.chains_support_data_analysis_insider_sniper_V3,s=(null==o?void 0:o[t])||[];return s&&(a=s.map(((e,l)=>{var a,t,o;return{k:l,color:(null==(a=Vl(e.type))?void 0:a.color)||"",label:(null==e?void 0:e[Y(k.value)])||"",value:(null==(t=Vl(e.type))?void 0:t.data)||"",color1:(null==(o=Vl(e.type))?void 0:o.areaStyleColor)||""}}))),[{k:4,color:"#FFCC00",label:m("topN",{n:10})+m("ratio"),value:"top10_amount",color1:"#38497d"},{k:2,color:"#FB6300",label:m("topN",{n:100})+m("ratio"),value:"top100_amount",color1:"#5b3f52"},...a]})),S=s((()=>o.dataList.map((e=>e.date)))),N=s((()=>L.value.map(((e,l)=>({name:e.label,type:"line",z:10-l,smooth:!0,symbol:"none",itemStyle:{color:e.color},lineStyle:{width:2},emphasis:{disabled:!0,focus:"series"},tooltip:{valueFormatter:e=>`${h(e||0,2)}%`,textStyle:{fontSize:10,color:"#333"}},data:o.dataList.map((l=>["insider_balance_ratio","sniper_balance_ratio","dev_balance_ratio","smartmoney_balance_ratio","kol_balance_ratio"].includes(e.value)?e.value&&100*(null==l?void 0:l[e.value])||0:l.total_amount?100*l[e.value]/l.total_amount:0))})))));function F(){const e=document.getElementById(Il);e&&(i||(i=p(e)),null==i||i.setOption({legend:{show:!1},tooltip:{trigger:"axis",backgroundColor:"var(--dialog-bg)",textStyle:{fontSize:10,color:"var(--secondary-text)",fontFamily:"Outfit-Medium"},borderWidth:0},grid:{left:"0",right:"25px",top:"3%",bottom:"0",containLabel:!0},xAxis:{type:"category",data:S.value,boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===x.value?"#8ca0c3":"#566275",fontFamily:"Outfit-Medium"}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===x.value?"#8ca0c3":"#566275",fontFamily:"Outfit-Medium",formatter:"{value}%"},splitLine:{show:!1},min:0,max:e=>Math.ceil(e.max)},series:N.value}),o.dataList.length>0&&(null==i||i.hideLoading()))}return r((()=>{ie((()=>{F()}))})),n((()=>_.showLeft),(async()=>{await ie(),null==i||i.resize()})),n((()=>o.dataList),(()=>F())),n((()=>o.loading),(e=>{i&&(e?i.showLoading({maskColor:"rgba(255,255,255,0)",text:""}):i.hideLoading())})),o.showSeries.forEach(((e,l)=>{n((()=>o.showSeries[l]),(e=>{!function(e,l){var a;const t=null==(a=L.value[l])?void 0:a.label;i&&t&&i.dispatchAction({type:e?"legendSelect":"legendUnSelect",name:t})}(e,l)}))})),n((()=>x),(()=>F())),(e,l)=>{const a=re;return E((u(),d("div",zl,[c("div",{id:Il,style:Q({height:e.chartHeight||"162px",width:"100%"})},null,4)])),[[a,e.loading]])}}}),[["__scopeId","data-v-129a0e6c"]]),Ol={class:"home-content"},Rl={class:"tableBox card relative"},Dl={key:0,class:"flex flex-col items-center justify-center py-30px"},Ul={key:0,src:ce},Ml={key:1,src:ve},Hl={key:1},Gl={key:0},Wl={key:1,style:{color:"#f6465d"}},ql={class:"flex-end gap-3px"},Kl=["onClick"],Yl=e(f({__name:"insidersHold",props:{tableList:{},loading:{type:Boolean},type:{}},setup(e){const i=y(),r=e,p=b(),{t:m}=l(),{mode:f}=a(t()),g=t(),k=o([]),S=o(0),B=o(!1),j=o(),V=o(),I=o({buttonRefs:{}}),P=s((()=>r.loading)),R=s((()=>{var e;return null==(e=w(p.params.id))?void 0:e.chain})),D=s((()=>Math.max(i.commonHeight-400,450))),U=o({page:1,page_size:300,sort:"",direction:""});n((()=>r.tableList),(e=>{k.value=e}),{immediate:!0});function M({prop:e,order:l}){const a=[...r.tableList];e&&(k.value="ascending"===l?a.sort(((l,a)=>l[e]-a[e])):"descending"===l?a.sort(((l,a)=>a[e]-l[e])):a)}function H(e){}return(e,l)=>{const a=Ue,t=A,o=De,s=re;return u(),d("section",Ol,[c("div",Rl,[E((u(),L(o,{key:v(S),ref_key:"tableRef",ref:V,data:v(k),fit:"",height:v(D),style:{width:"100%","font-size":"12px"},class:"table-container","cell-class-name":"color-[--secondary-text] text-12px","default-sort":{prop:v(U).sort,order:v(U).direction?v(U).direction+"ending":void 0},onRowClick:H,onSortChange:M},{empty:F((()=>[e.loading?(u(),d("span",Hl)):(u(),d("div",Dl,["light"===v(f)?(u(),d("img",Ul)):z("",!0),"dark"===v(f)?(u(),d("img",Ml)):z("",!0),c("span",null,C(v(m)("emptyNoData")),1)]))])),default:F((()=>[$(a,{type:"index",label:"#",width:"40"}),$(a,{label:v(m)("insidersOwned"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"total_value","min-width":"100",align:"right"},{default:F((({row:l})=>[(null==l?void 0:l.balance_ratio)>0&&(null==l?void 0:l.balance)>0||"snipers"!==e.type?(u(),d("span",Gl,C(v(h)(l.total_value||0,2))+" ("+C(v(h)(100*l.balance_ratio||0,2))+"%) ",1)):(u(),d("span",Wl,C(v(m)("clearance")),1))])),_:1},8,["label"]),$(a,{label:v(m)("buy")+"($)",sortable:"custom","sort-orders":["descending","ascending",null],prop:"cumulative_purchase",align:"right"},{default:F((({row:e})=>[c("span",{style:Q({color:v(de)[0]})},C(v(h)(e.cumulative_purchase||0,2)),5)])),_:1},8,["label"]),$(a,{label:v(m)("sell")+"($)",sortable:"custom","sort-orders":["descending","ascending",null],prop:"cumulative_sold",align:"right"},{default:F((({row:e})=>[c("span",{style:Q({color:v(ue)[0]})},C(v(h)(e.cumulative_sold||0,2)),5)])),_:1},8,["label"]),$(a,{label:v(m)("insidersBalance1")+"($)",sortable:"custom","sort-orders":["descending","ascending",null],prop:"balance",align:"right"},{default:F((({row:e})=>[G(C(v(h)(e.balance||0,2)),1)])),_:1},8,["label"]),$(a,{label:v(m)("address"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"address","min-width":"100",align:"right"},{default:F((({row:e,$index:a})=>{var o,s;return[c("div",ql,[c("span",null,C(null==(o=e.address)?void 0:o.slice(0,2))+"..."+C(null==(s=e.address)?void 0:s.slice(-4)),1),"solana"===v(R)?(u(),d("a",{key:0,class:"ml-5 a-gray",onClick:W((e=>{}),["stop","prevent"])},l[1]||(l[1]=[c("i",{class:"iconfont icon-wallet1 font-12"},null,-1)]),8,Kl)):z("",!0),$(t,{ref:e=>v(I).buttonRefs[a]=e,name:"custom:attention",class:T([e.is_wallet_address_fav?"color-[#F45469]":"color-[--third-text]","color-var(--d-999-l-666) text-14px clickable shrink-0"]),onClick:W((l=>(async(e,l)=>{pe().currentAddress||x().changeConnectVisible(!0),_().address&&!_().walletSignature[_().address]&&await _().signMessageForFavorite(),!0===e.is_wallet_address_fav?he({address:pe().currentAddress,user_address:e.address,user_chain:R.value}).then((()=>{g.getFollowsNum(),O.success(m("attention1Canceled")),k.value[l].is_wallet_address_fav=!1})).catch((e=>{})).finally((()=>{})):pe().confirmAttention(I.value.buttonRefs[l],e.chain,(a=>me({address:pe().currentAddress,user_address:e.address,user_chain:R.value,group:a.group,is_monitored:a.is_monitored}).then((e=>(g.getFollowsNum(),k.value[l].is_wallet_address_fav=!0,Promise.resolve(e)))).catch((e=>Promise.reject(e))).finally((()=>{}))))})(e,a)),["stop","prevent"])},null,8,["class","onClick"]),$(t,{name:"custom:filter",class:"color-[--third-text] cursor-pointer text-10px",onClick:l=>function(e){var l;B.value=!0,null==(l=j.value)||l.getUserTxs(e.address)}(e)},null,8,["onClick"])])]})),_:1},8,["label"])])),_:1},8,["data","height","default-sort"])),[[s,v(P)]])]),$(Ce,{ref_key:"profitLossRef",ref:j,modelValue:v(B),"onUpdate:modelValue":l[0]||(l[0]=e=>N(B)?B.value=e:null)},null,8,["modelValue"])])}}}),[["__scopeId","data-v-ebabcaaf"]]),Jl={class:"home-content"},Xl={class:"tableBox card relative"},Zl={key:0,class:"flex flex-col items-center justify-center py-30px"},Ql={key:0,src:ce},ea={key:1,src:ve},la={key:1},aa={class:"color-text-2"},ta={class:"color-text-2"},oa={class:"block"},sa={class:"color-text-2"},na={class:"color-text-2"},ia={class:"flex-end gap-3px"},ra={class:"color-text-2"},da=e(f({__name:"insidersActivity",props:{tableList:{},loading:{type:Boolean}},setup(e){const i=e;o({buttonRefs:{}});const r=y(),p=b(),{mode:m}=a(t()),{t:f}=l(),{token:g}=a(y()),x=o(),_=o(0),k=o([]),S=s((()=>i.loading??!1)),N=s((()=>{var e,l;const a=p.params.id;return a?w(a):{address:(null==(e=g.value)?void 0:e.token)||"",chain:(null==(l=g.value)?void 0:l.chain)||""}})),A=s((()=>Math.max(r.commonHeight-400,450)));n((()=>i.tableList),(e=>{k.value=e}),{immediate:!0});const T=(e,l)=>e===(null==l?void 0:l.type),B=e=>{const l=fe(N.value.chain,e.txhash,"tx");window.open(l)},V=e=>["BUY","TRANSFER_IN","ADD"].includes(e)?de[0]:ue[0],P=s((()=>{const e=O.value.direction;return{prop:O.value.sort,order:"asc"===e?"ascending":"desc"===e?"descending":void 0}})),O=o({page:1,page_size:300,sort:"",direction:void 0}),R=({prop:e,order:l})=>{if(!e)return;const a=[...i.tableList];k.value="ascending"===l?a.sort(((l,a)=>l[e]-a[e])):"descending"===l?a.sort(((l,a)=>a[e]-l[e])):a},D=s((()=>[{text:f("buy").toUpperCase(),value:"BUY"},{text:f("sell").toUpperCase(),value:"SELL"},{text:f("addPool"),value:"ADD"},{text:f("removePool"),value:"REMOVE"},{text:f("transferIn1"),value:"TRANSFER_IN"},{text:f("transferOut1"),value:"TRANSFER_OUT"}])),U=s((()=>D.value.map((e=>e.value))));return(e,l)=>{const a=Ue,t=De,o=re;return u(),d("section",Jl,[c("div",Xl,[E((u(),L(t,{key:v(_),ref_key:"tableRef",ref:x,data:v(k),fit:"",style:{width:"100%","font-size":"12px"},class:"table-container",height:v(A),"cell-class-name":"color-[--d-999-l-959A9F] text-12px","default-sort":v(P),onRowClick:B,onSortChange:R},{empty:F((()=>[e.loading?(u(),d("span",la)):(u(),d("div",Zl,["light"===v(m)?(u(),d("img",Ql)):z("",!0),"dark"===v(m)?(u(),d("img",ea)):z("",!0),c("span",null,C(v(f)("emptyNoData")),1)]))])),default:F((()=>[$(a,{label:e.$t("time"),prop:"time",sortable:"custom","sort-orders":["descending","ascending",null],align:"left"},{default:F((({row:e})=>[c("span",aa,C(v(I)(e.time)),1)])),_:1},8,["label"]),$(a,{label:e.$t("type"),"column-key":"op",filters:v(D),"filter-method":T,"filtered-value":v(U),align:"right"},{default:F((({row:e})=>{return[c("span",{style:Q({color:V(null==e?void 0:e.type)})},C((l=null==e?void 0:e.type,{BUY:f("buy").toUpperCase(),SELL:f("sell").toUpperCase(),ADD:f("addPool"),REMOVE:f("removePool"),TRANSFER_IN:f("transferIn1"),TRANSFER_OUT:f("transferOut1")}[l]||"")),5)];var l})),_:1},8,["label","filters","filtered-value"]),$(a,{label:e.$t("amount"),prop:"base_token_amount",sortable:"custom","sort-orders":["descending","ascending",null],align:"right"},{default:F((({row:e})=>["ADD"===(null==e?void 0:e.type)||"REMOVE"===(null==e?void 0:e.type)?(u(),d(j,{key:0},[G(C(v(h)(null==e?void 0:e.base_token_amount,0))+" ",1),c("span",ta,C(null==e?void 0:e.base_token_symbol),1),c("span",oa,[G(C(v(h)(null==e?void 0:e.quote_token_amount,0))+" ",1),c("span",sa,C(null==e?void 0:e.quote_token_symbol),1)])],64)):(u(),d(j,{key:1},[G(C(v(h)(null==e?void 0:e.base_token_amount,0))+" ",1),c("span",na,C(null==e?void 0:e.base_token_symbol),1)],64))])),_:1},8,["label"]),$(a,{label:e.$t("value")+"($)",prop:"volume",sortable:"custom","sort-orders":["descending","ascending",null],align:"right"},{default:F((({row:e})=>[c("span",{style:Q({color:V(null==e?void 0:e.type)})},C(v(h)(null==e?void 0:e.volume,2)),5)])),_:1},8,["label"]),$(a,{label:e.$t("address"),prop:"address",sortable:"custom","sort-orders":["descending","ascending",null],align:"right"},{default:F((({row:e,$index:l})=>{var a,t;return[c("div",ia,[c("span",ra,C(null==(a=e.wallet_address)?void 0:a.slice(0,2))+"..."+C(null==(t=e.wallet_address)?void 0:t.slice(-4)),1)])]})),_:1},8,["label"])])),_:1},8,["data","height","default-sort"])),[[o,v(S)]])])])}}}),[["__scopeId","data-v-eba936f2"]]),ua={class:"insiders"},ca={class:"top mt-10px"},va={class:"item"},pa={class:"tl"},ma={class:"flex-start"},ha={class:"tr"},fa={class:"flex-end"},ba={class:"mt-10px"},ya={class:"item"},ga={class:"tl"},xa={class:"block"},_a={class:"flex-start"},wa={class:"tr"},ka={class:"block"},La={class:"list mt-10px"},Sa={class:"flex"},Na={class:"tabs",style:{"margin-right":"auto"}},Fa=["id","value"],Ca=["for"],$a=e(f({__name:"insiders",props:{insidersObj:{type:Object,default:()=>{}},type:{type:String,default:"insiders"}},setup(e){const{t:a}=l(),t=e,o=b(),i=g("holder"),r=g(!1),p=g([]),m=g(!1),f=g([]),y=g(!1),{insidersObj:x,type:_}=be(t),w=s((()=>[{name:a("insidersHoldings"),id:"holder"},{name:a("insidersActivity"),id:"dongtai"}])),k=s((()=>o.params.id)),S=s((()=>{var e,l;return"19"===_.value&&r.value?(null==(l=null==(e=null==p?void 0:p.value)?void 0:e.filter)?void 0:l.call(e,(e=>!((null==e?void 0:e.balance_ratio)>0&&(null==e?void 0:e.balance)>0))))||[]:p.value}));function $(){"100"!==_.value&&"holder"==i.value&&function(){m.value=!0;const e={token_id:k.value,type:_.value};$e(e).then((e=>{p.value=Array.isArray(e)?e:[]})).catch((()=>{})).finally((()=>{m.value=!1}))}(),"100"!==_.value&&"dongtai"==i.value&&function(){y.value=!0;const e={token_id:k.value,type:_.value};Ae(e).then((e=>{f.value=Array.isArray(e)?e.map((e=>({...e,time:"1970-01-01T00:00:00Z"!==(null==e?void 0:e.time)&&"0001-01-01T00:00:00Z"!==(null==e?void 0:e.time)?new Date(null==e?void 0:e.time).getTime()/1e3:0,volume:"ADD"===(null==e?void 0:e.type)||"REMOVE"===(null==e?void 0:e.type)?(null==e?void 0:e.quote_token_amount)*e.quote_token_price_u+(null==e?void 0:e.base_token_amount)*(null==e?void 0:e.base_token_price_u):(null==e?void 0:e.base_token_amount)*(null==e?void 0:e.base_token_price_u)}))):[]})).catch((()=>{})).finally((()=>{y.value=!1}))}()}return n((()=>k.value),(()=>{$()})),n(i,(()=>{$()})),n(_,(()=>{$()})),(e,l)=>{var a,t,o,s,n,p,b,g,k,$,A,T,B,I,P;const O=ge;return u(),d("div",ua,[c("div",ca,[c("div",null,[c("div",va,[c("div",pa,[c("span",null,C(e.$t("insidersBalance"))+"  "+C(e.$t("insidersPosition")),1),c("div",ma,[G(" $"+C(v(h)(null==(a=v(x))?void 0:a.balance,0))+"   "+C((null==(t=v(x))?void 0:t.balance_ratio_cur)?v(h)(100*(null==(o=v(x))?void 0:o.balance_ratio_cur)||0,2)+"%":0)+" ",1),l[2]||(l[2]=c("span",{class:"color-878FBC"},"/",-1)),G(" "+C((null==(s=v(x))?void 0:s.balance_ratio_max)?v(h)(100*(null==(n=v(x))?void 0:n.balance_ratio_max),2)+"%":0),1)])]),c("div",ha,[c("span",null,C(e.$t("insidersBuyOrSell")),1),c("div",fa,[c("span",{style:Q({color:v(de)[0]})}," $"+C(v(h)((null==(p=v(x))?void 0:p.vol_buy)||0,2)),5),l[3]||(l[3]=c("span",{class:"color-878FBC"},"/",-1)),c("span",{style:Q({color:v(ue)[0]})}," $"+C(v(h)(null==(b=v(x))?void 0:b.vol_sell,2)),5)])])])]),c("div",ba,[c("div",ya,[c("div",ga,[c("span",xa,C(e.$t("snipersAddress")),1),c("div",_a,[G(C((null==(g=v(x))?void 0:g.unsettled_addresses)?v(h)((null==(k=v(x))?void 0:k.unsettled_addresses)||0,2):0)+" ",1),l[4]||(l[4]=c("span",{class:"color-878FBC"},"/",-1)),G(" "+C((null==($=v(x))?void 0:$.all_addresses)?v(h)(null==(A=v(x))?void 0:A.all_addresses,2):0),1)])]),c("div",wa,[c("span",ka,C(e.$t("insidersProfit")),1),c("span",{style:Q({color:(null==(T=v(x))?void 0:T.vol_profit)>0?v(de)[0]:v(ue)[0]})},[G(" $"+C(v(h)((null==(B=v(x))?void 0:B.vol_profit)||0,2))+" ",1),(null==(I=v(x))?void 0:I.vol_profit_ratio)?(u(),d(j,{key:0},[G(" ("+C(v(h)(100*(null==(P=v(x))?void 0:P.vol_profit_ratio)||0,2))+"%) ",1)],64)):z("",!0)],4)])])])]),c("div",La,[c("div",Sa,[c("div",Na,[(u(!0),d(j,null,V(v(w),((e,a)=>(u(),d(j,{key:a},[E(c("input",{id:`tab-item-${e.id}`,"onUpdate:modelValue":l[0]||(l[0]=e=>N(i)?i.value=e:null),type:"radio",value:e.id,class:"tab-radio-input"},null,8,Fa),[[ye,v(i)]]),c("label",{for:`tab-item-${e.id}`,class:"tab-item"},C(e.name),9,Ca)],64)))),128))]),"19"===v(_)&&"holder"===v(i)?(u(),L(O,{key:0,modelValue:v(r),"onUpdate:modelValue":l[1]||(l[1]=e=>N(r)?r.value=e:null),class:"checkbox-old",style:{"--van-checkbox-label-color":"#878ebe","--van-checkbox-label-margin":"5px","font-size":"12px","margin-right":"15px"},"icon-size":"14px"},{default:F((()=>[G(C(e.$t("cleared")),1)])),_:1},8,["modelValue"])):z("",!0)])]),"holder"===v(i)?(u(),L(Yl,{key:0,tableList:v(S),loading:v(m),type:v(_)},null,8,["tableList","loading","type"])):(u(),L(da,{key:1,tableList:v(f),loading:v(y)},null,8,["tableList","loading"]))])}}}),[["__scopeId","data-v-4ed598bf"]]),Aa={class:"holderInfoOld px-12px"},Ta={class:"title text-12px color-[--main-text]"},Ba={class:"color-[--third-text]"},Ea={class:"checkbox-container checkbox-old mt-10px"},ja={class:"title flex items-center justify-between mt-20px mb-10px"},Va={class:"text-12px color-[--main-text]"},za={class:"tabs"},Ia=["onClick"],Pa={key:0,class:"flex flex-col items-center justify-center py-30px"},Oa={key:0,src:ce},Ra={key:1,src:ve},Da={key:1},Ua={class:"flex-end"},Ma={class:"ml-3px"},Ha=e(f({__name:"index",setup(e){const i=y(),p=b(),{t:m}=l(),{mode:f}=a(t()),k=x(),S=o([!0,!0,!0,!0,!0,!0,!0]),B=o({buttonRefs:{}}),I=t(),{globalConfig:P}=a(ne()),{token:R,totalHolders:D,price:U}=a(y()),M=g(!1),H=o([]),q=g(!1),K=g("100"),X=o([]),ee=g(!1),le=o({token:"",date:void 0,balance:0,balance_ratio_cur:0,balance_ratio_max:0,vol_buy:0,vol_sell:0,unsettled_addresses:0,all_addresses:0,vol_profit:0,vol_profit_ratio:0}),ae=g(!1),te=o(),oe=s((()=>{var e;const l=se.value.chain,a=null==(e=P.value)?void 0:e.chains_support_data_analysis_insider_sniper_V3,t=(null==a?void 0:a[l])||[];return(null==t?void 0:t.map((e=>{var l;return{...e,color:null==(l=Vl(e.type))?void 0:l.color}})))||[]})),se=s((()=>{var e,l;const a=p.params.id;return a?w(a):{address:(null==(e=R.value)?void 0:e.token)||"",chain:(null==(l=R.value)?void 0:l.chain)||""}})),ie=s((()=>J().locale)),ce=s((()=>p.params.id)),ve=s((()=>{var e;return[{cn:m("topN",{n:100}),en:m("topN",{n:100}),tw:m("topN",{n:100}),pt:m("topN",{n:100}),es:m("topN",{n:100}),type:"100"},...(null==(e=D.value)?void 0:e.filter((e=>((null==e?void 0:e.total_address)||0)>0)))||{}]})),fe=s((()=>X.value.slice(0,Number(K.value)||200))),be=s((()=>Math.max(i.commonHeight-380,355)));function ye(){"100"===K.value?(q.value=!0,Te(ce.value).then((e=>{H.value=Array.isArray(e)?null==e?void 0:e.map((e=>{var l;return{...e,date:null==(l=null==e?void 0:e.date)?void 0:l.slice(5)}})):[]})).catch((()=>{})).finally((()=>{q.value=!1})),xe()):ke()}n((()=>ce.value),(e=>{e&&ye()})),r((()=>{ye()}));function xe(){ee.value=!0;const e={token_id:ce.value,address:k.evmAddress};Be(e).then((e=>{X.value=Array.isArray(e)?null==e?void 0:e.map((e=>{var l;return{...e,newTags:null==(l=null==e?void 0:e.newTags)?void 0:l.filter((e=>!new RegExp("^top.*$","gi").test(null==e?void 0:e.type)))}})):[]})).catch((()=>{})).finally((()=>{ee.value=!1}))}function _e(e){return(null==e?void 0:e.amount_diff_3days)*((null==U?void 0:U.value)||0)+(null==e?void 0:e.sell_volume_diff_3days)-(null==e?void 0:e.buy_volume_diff_3days)}function we(){}function ke(){ae.value=!0;const e={token_id:ce.value,type:K.value};Ee(e).then((e=>{le.value=e})).catch((()=>{})).finally((()=>{ae.value=!1}))}return(e,l)=>{const a=ge,t=Oe,o=Ue,s=Me,n=A,i=De,r=Re,p=re;return u(),d("div",Aa,[$(r,{gutter:10},{default:F((()=>[$(t,{span:24},{default:F((()=>[c("div",Ta,[G(C(e.$t("holdersDetail"))+" ",1),c("span",Ba,"("+C(e.$t("excludeNullAndPoll"))+")",1)]),c("div",Ea,[$(a,{modelValue:v(S)[0],"onUpdate:modelValue":l[0]||(l[0]=e=>v(S)[0]=e),class:"checkbox-FFCC00"},{default:F((()=>[G(C(e.$t("topN",{n:10})),1)])),_:1},8,["modelValue"]),$(a,{modelValue:v(S)[1],"onUpdate:modelValue":l[1]||(l[1]=e=>v(S)[1]=e),class:"checkbox-FFB6300"},{default:F((()=>[G(C(e.$t("topN",{n:100})),1)])),_:1},8,["modelValue"]),(u(!0),d(j,null,V(v(oe),((e,l)=>{var t;return u(),L(a,{key:l,modelValue:v(S)[l+2],"onUpdate:modelValue":e=>v(S)[l+2]=e,shape:"square","checked-color":e.color,class:T(`checkbox-${null==(t=null==e?void 0:e.color)?void 0:t.replace("#","")}`)},{default:F((()=>[G(C(null==e?void 0:e[v(Y)(v(ie))]),1)])),_:2},1032,["modelValue","onUpdate:modelValue","checked-color","class"])})),128))]),$(Pl,{dataList:v(H),showSeries:v(S),loading:v(q),chartHeight:"162px"},null,8,["dataList","showSeries","loading"])])),_:1}),$(t,{span:24},{default:F((()=>[c("div",ja,[c("span",Va,C(e.$t("mainChip")),1),c("div",za,[(u(!0),d(j,null,V(v(ve),((l,a)=>(u(),d("span",{key:a,class:T(["tab-item",{active:l.type==v(K)}]),onClick:W((e=>function(e){K.value=e.type,"100"==e.type?xe():ke()}(l)),["stop","prevent"])},[G(C(null==l?void 0:l[v(Y)(v(ie))])+" ",1),void 0!==(null==l?void 0:l.total_address)?(u(),d(j,{key:0},[G(" ("+C(("formatNumber"in e?e.formatNumber:v(h))((null==l?void 0:l.total_address)||0,0))+") ",1)],64)):z("",!0)],10,Ia)))),128))])]),E((u(),L(i,{ref:"tableRef",class:"mt-15px","cell-class-name":"text-12px",data:v(fe),fit:"",height:v(be),style:{width:"100%","font-size":"12px"},onRowClick:we},{empty:F((()=>[v(ee)?(u(),d("span",Da)):(u(),d("div",Pa,["light"===v(f)?(u(),d("img",Oa)):z("",!0),"dark"===v(f)?(u(),d("img",Ra)):z("",!0),c("span",null,C(v(m)("emptyNoData")),1)]))])),default:F((()=>[$(o,{type:"index",label:"#",width:"50"}),$(o,{label:e.$t("ratio"),prop:"time",align:"right"},{default:F((({row:e})=>{return[G(C((l=e,Number(null==(a=null==R?void 0:R.value)?void 0:a.total)?h(100*l.amount_cur/Number(null==(t=null==R?void 0:R.value)?void 0:t.total),2)+"%":"-")),1)];var l,a,t})),_:1},8,["label"]),$(o,{label:e.$t("position"),prop:"time",align:"right"},{default:F((({row:l})=>[G(C(("formatNumber"in e?e.formatNumber:v(h))(null==l?void 0:l.amount_cur,2)),1)])),_:1},8,["label"]),$(o,{label:e.$t("Change3D"),prop:"time",align:"right"},{default:F((({row:l})=>[c("span",{style:Q({color:l.amount_diff_3days>0?v(de)[0]:v(ue)[0]})},C(("formatNumber"in e?e.formatNumber:v(h))(null==l?void 0:l.amount_diff_3days,2)),5)])),_:1},8,["label"]),$(o,{label:e.$t("profit1")+"($)",prop:"time",align:"right"},{default:F((({row:l})=>[c("span",{style:Q({color:_e(l)>0?v(de)[0]:v(ue)[0]})},C(("formatNumber"in e?e.formatNumber:v(h))(_e(l),2)),5)])),_:1},8,["label"]),$(o,{label:e.$t("address"),align:"right"},{default:F((({row:e,$index:l})=>{var a;return[c("div",Ua,[$(s,{tags:e.newTags,walletAddress:e.address,chain:e.chain},null,8,["tags","walletAddress","chain"]),c("span",Ma," *"+C(null==(a=e.address)?void 0:a.slice(-6)),1),$(n,{ref:e=>v(B).buttonRefs[l]=e,name:"custom:attention",class:T([1===e.is_wallet_address_fav?"color-[#F45469]":"color-[--third-text]","color-var(--d-999-l-666) h-16px w-16px clickable shrink-0 ml-3px"]),onClick:W((a=>(async(e,l)=>{pe().currentAddress||x().changeConnectVisible(!0),_().address&&!_().walletSignature[_().address]&&await _().signMessageForFavorite(),1===e.is_wallet_address_fav?he({address:pe().currentAddress,user_address:e.address,user_chain:e.chain}).then((()=>{I.getFollowsNum(),O.success(m("attention1Canceled")),fe.value[l].is_wallet_address_fav=0})).catch((e=>{})).finally((()=>{})):pe().confirmAttention(B.value.buttonRefs[l],e.chain,(a=>me({address:pe().currentAddress,user_address:e.address,user_chain:e.chain,group:a.group,is_monitored:a.is_monitored}).then((e=>(I.getFollowsNum(),fe.value[l].is_wallet_address_fav=1,Promise.resolve(e)))).catch((e=>Promise.reject(e))).finally((()=>{}))))})(e,l)),["stop","prevent"])},null,8,["class","onClick"]),$(n,{name:"custom:filter",class:"color-[--third-text] cursor-pointer text-10px ml-3px",onClick:l=>function(e){var l;M.value=!0,null==(l=te.value)||l.getUserTxs(e.address)}(e)},null,8,["onClick"])])]})),_:1},8,["label"])])),_:1},8,["data","height"])),[[Z,"100"==v(K)],[p,v(ee)]]),E($($a,{insidersObj:v(le),type:v(K)},null,8,["insidersObj","type"]),[[Z,"100"!==v(K)]])])),_:1})])),_:1}),$(Ce,{ref_key:"profitLossRef1",ref:te,modelValue:v(M),"onUpdate:modelValue":l[2]||(l[2]=e=>N(M)?M.value=e:null)},null,8,["modelValue"])])}}}),[["__scopeId","data-v-32866d05"]]),Ga={__name:"index",setup(e){const l=b(),a=s((()=>{var e;const{chain:a}=w(null==(e=l.params)?void 0:e.id,0);return xe.includes(a)}));return(e,l)=>v(a)?(u(),L(v(El),{key:0})):(u(),L(v(Ha),{key:1}))}};export{Ga as default};
