import{f as e,v as l,r as a,af as t,aC as o,y as s,g as r,cH as n,bB as i,L as d,o as u,Z as p,w as c,U as m,aj as v,i as _,b5 as h,S as g,b as f,b6 as x,a as y,t as k,nw as w,c as b,F as V,C as $,M as C,H as T,d as z,dC as j,_ as N,aD as A,j as S,P as B,n as E,m as U,lM as F,aE as H,aU as R,a2 as W,aW as K,aX as P,aY as q,aZ as O,D as G,s as L,B as I,a4 as M,aK as D,aH as Y,aI as J,bA as X,aV as Z,a0 as Q,aG as ee,bj as le,G as ae,an as te,x as oe,p as se,nx as re,ao as ne,ny as ie,gg as de,aJ as ue,aq as pe,b4 as ce,aN as me,a5 as ve,a9 as _e,aa as he,at as ge}from"./BY9EIVYr.js";import{a as fe,E as xe}from"./Cu9oaoDx.js";import{_ as ye}from"./kijwYXFK.js";import{_ as ke}from"./Bg94yjzM.js";import{_ as we}from"./BQhZAvhG.js";import{E as be}from"./DJKaFdKc.js";import{a as Ve,E as $e}from"./BObx0-it.js";import"./DuT2dQq8.js";import{S as Ce}from"./CGucPBMD.js";import{u as Te}from"./ChDs8yL5.js";import{E as ze}from"./BxT7OH1S.js";import"./bcVq5sfG.js";import"./gfa7pY1Q.js";import"./B7cUFrfB.js";import"./DBQWc8Xl.js";import"./gy4ZmRBb.js";import"./DcSnBYe5.js";import"./D8M5lY-6.js";import"./CQxeN21i.js";import"./BdSP2G6B.js";import"./CJXpfIx0.js";import"./BZI4qv_R.js";import"./D600_RKl.js";import"./CymzNdFE.js";import"./BBRIqj0x.js";import"./DSXY0Md2.js";import"./C7A5Mv2v.js";import"./CWSF7Zrv.js";import"./DRHcIXYw.js";import"./D4_51R2s.js";import"./CauZpAGM.js";import"./CUXzOQ4H.js";const je={class:"flex justify-between items-center w-100%"},Ne={class:"font-500 text-12px lh-[120%] color-[--main-text]"},Ae={class:"h-12px inline-flex items-center"},Se=["src"],Be=["src"],Ee={class:"flex-between w-100%"},Ue=N(e({__name:"addFavAddressPop",props:{width:{type:String,default:"248"},formData:{type:Object,required:!1,default:()=>({group_id:0,user_chain:{label:"SOL",value:"solana",id:"solana"}})},buttonRef:{type:Object,required:!0},title:{type:String,default:""}},emits:["onConfirm","onCancel"],setup(e,{expose:N,emit:A}){const{t:S}=l(),B=e,E=A,U=a(),{addressGroups:F}=t(o()),{lang:H,token_logo_url:R}=t(s()),W=a(),K=a({...B.formData}),P=a(!1),q=a(!1),O=a(""),G=(e,l,a)=>{var t;""===l?a(new Error(S("cannotBeEmpty"))):j(l,null==(t=K.value.user_chain)?void 0:t.id)?a():a(new Error(S("pleaseEnterCorrectAddress")))},L=(e,l,a)=>{var t;K.value.address&&(null==(t=W.value)||t.validateField("address")),a()},I=r((()=>({user_chain:[{validator:L,trigger:"change"}],address:[{required:!0,message:"zh-cn"==H.value||"zh-tw"==H.value?`${S("watchAddress")}${S("cannotBeEmpty")}`:`${S("watchAddress")} ${S("cannotBeEmpty")}`,trigger:["blur"]},{validator:G,trigger:"blur"}],group:[{required:!0,message:"zh-cn"==H.value||"zh-tw"==H.value?`${S("walletGroup")}${S("cannotBeEmpty")}`:`${S("walletGroup")} ${S("cannotBeEmpty")}`,trigger:["blur","change"]}],remark:[{required:!0,message:"zh-cn"==H.value||"zh-tw"==H.value?`${S("remark")}${S("cannotBeEmpty")}`:`${S("remark")} ${S("cannotBeEmpty")}`,trigger:"blur"},{pattern:/^(?!.*[!@#$%^&*(),.?":{}|<>])(.{2,50})$/,message:S("remarkError"),trigger:["blur"]}]}))),M=r((()=>n.map((e=>{const l=i(e);return{label:"solana"===e?"SOL":l.net_name.toUpperCase(),value:l.chain_id,id:l.net_name}}))));function D(){q.value=!1}function Y(){var e;E("onCancel"),null==(e=W.value)||e.resetFields(),X()}function J(){P.value=!1,O.value="",K.value={...B.formData}}function X(){var e,l;null==(l=null==(e=_(U))?void 0:e.hide)||l.call(e)}return N({close:X}),(e,l)=>{const a=$e,t=Ve,o=x,s=C,r=T,n=h,i=p,j=v;return u(),d(i,{ref_key:"popoverRef",ref:U,width:null==B?void 0:B.width,trigger:"click",placement:"bottom","virtual-ref":B.buttonRef,"virtual-triggering":"",title:null==B?void 0:B.title,persistent:!1,"popper-style":"--el-popover-title-font-size:14px;--el-popover-title-text-color:var(--main-text)",onBeforeLeave:J},{default:c((()=>[m((u(),d(n,{ref_key:"formRef",ref:W,model:_(K),rules:_(I),onSubmit:l[4]||(l[4]=g((e=>{var l;(l=_(W))&&l.validate(((e,l)=>{var a;e&&(q.value=!0,E("onConfirm",K.value,null==(a=W.value)?void 0:a.resetFields,D))}))}),["prevent","stop"]))},{default:c((()=>[f(o,{prop:"user_chain",required:"","label-position":"top",size:"large",class:"mb-13px!"},{default:c((()=>[y("div",je,[y("h4",Ne,k(e.$t("addWallet")),1),f(t,{modelValue:_(K).user_chain,"onUpdate:modelValue":l[0]||(l[0]=e=>_(K).user_chain=e),placeholder:_(S)("placeholderPrefix1")+_(S)("chain"),"value-key":"value",size:"small",style:{"--el-fill-color-blank":"var(--border)"},"suffix-icon":_(w),class:"w-70px!",teleported:!1,"popper-class":"w-103px"},{prefix:c((()=>{var e;return[y("div",Ae,[y("img",{src:`${_(R)}chain/${null==(e=_(K).user_chain)?void 0:e.id}.png`,class:"rd-50%",width:"12",lazy:"",alt:""},null,8,Se)])]})),default:c((()=>[(u(!0),b(V,null,$(_(M),(e=>(u(),d(a,{key:e.value,label:e.label,value:e,class:"h-26px! flex! items-center! font-500! text-14px! lh-none!"},{default:c((()=>[y("img",{src:`${_(R)}chain/${null==e?void 0:e.id}.png`,class:"rd-50% mr-4px",width:"16",lazy:"",alt:""},null,8,Be),y("span",null,k(e.label),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue","placeholder","suffix-icon"])])])),_:1}),f(o,{prop:"address",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:c((()=>[f(s,{modelValue:_(K).address,"onUpdate:modelValue":l[1]||(l[1]=e=>_(K).address=e),placeholder:_(S)("placeholderPrefix")+_(S)("walletAddress")},null,8,["modelValue","placeholder"])])),_:1}),f(o,{prop:"remark",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:c((()=>[f(s,{modelValue:_(K).remark,"onUpdate:modelValue":l[2]||(l[2]=e=>_(K).remark=e),placeholder:_(S)("placeholderPrefix")+_(S)("remark")},null,8,["modelValue","placeholder"])])),_:1}),f(o,{prop:"group_id",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:c((()=>[f(t,{modelValue:_(K).group_id,"onUpdate:modelValue":l[3]||(l[3]=e=>_(K).group_id=e),placeholder:_(S)("placeholderPrefix1")+_(S)("addrGroup"),teleported:!1,style:{"--el-fill-color-blank":"var(--border)"}},{default:c((()=>[(u(),d(a,{key:0,value:0,label:e.$t("defaultGroup")},null,8,["label"])),(u(!0),b(V,null,$(_(F),(e=>(u(),d(a,{key:e.group_id,label:e.name,value:e.group_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1}),f(o,{class:"mb-0px!"},{default:c((()=>[y("div",Ee,[f(r,{class:"flex-1",onClick:g(Y,["stop","prevent"])},{default:c((()=>[z(k(e.$t("cancel")),1)])),_:1}),f(r,{type:"primary",class:"flex-1","native-type":"submit"},{default:c((()=>[z(k(e.$t("confirm")),1)])),_:1})])])),_:1})])),_:1},8,["model","rules"])),[[j,_(q)]])])),_:1},8,["width","virtual-ref","title"])}}}),[["__scopeId","data-v-ad26cc26"]]),Fe={class:"flex justify-between items-center gap-8px h-54px"},He={class:"text-12px m-table","element-loading-background":"transparent"},Re=["onClick"],We=["src"],Ke={class:"text-12px"},Pe=["onClick"],qe={key:1,class:"flex items-center mr-4px cursor-not-allowed"},Oe=N(e({__name:"walletManage",props:{scrollHeight:{type:Number,default:500}},setup(e){const{t:h}=l(),x=A(),w=e,{mode:C,isDark:j,token_logo_url:N}=t(s()),Q=r((()=>[{label:h("allChain"),value:"AllChains",id:"allChains"},...n.map((e=>{const l=i(e);return{label:"solana"===e?"SOL":l.net_name.toUpperCase(),value:l.net_name,id:l.net_name}}))])),ee=a(!1),le=a(),ae=a(),{selectGroupId:te,paginationParams:oe,user_chain:se,monitorList1:re}=t(Te()),{currentAddress:ne,showBatchAddressDetails:ie,updateNum1:de,updateNum2:ue,updateNum3:pe,addressGroups:ce}=t(o()),me=S({group:te.value,activeTab:"7d",isMonitor:!1,user_chain:se.value,sort:"",sort_dir:"",keyword:"",last_tx_time_max:"",last_tx_time_min:"",last_trade_time:""}),ve=B(),_e=a(!1),he=a(!1),ge=r((()=>oe.value.loaded?h("loading"):oe.value.finished?h("noMore"):""));function fe(e,l,a){var t;X({address:ve.evmAddress,user_chain:null==(t=null==e?void 0:e.user_chain)?void 0:t.id,user_address:e.address,remark:e.remark,group:e.group_id,is_monitored:0}).then((()=>{var e,t;null==l||l(),null==a||a(),null==(t=null==(e=ae.value)?void 0:e.close)||t.call(e),oe.value={...F,pageSize:50},be(),ue.value++})).catch((e=>{}))}E((()=>{ve.evmAddress&&(re.value.length>0||be())})),U((()=>de.value+pe.value),(()=>{oe.value={...F,pageSize:50},be()}));const xe=H((e=>{R({address:ne.value,user_chain:e.chain,user_address:e.user_address}).then((()=>{W.success(h("success")),be(),ue.value++})).catch((e=>{W.error(String(e))}))}),1e3),ye=H(((e,l=0)=>{if(1!==e.is_monitored){const{user_address:a,user_chain:t}=e;q({address:a,chain:t,user_address:ve.evmAddress}).then((()=>{re.value[l].is_monitored=0===e.is_monitored?1:0,W.success(h("success")),ue.value++})).catch((e=>{W.error(String(e))}))}else{const{id:a,user_address:t}=e;(1===e.is_pause?K:P)({uid:a,address:t}).then((()=>{re.value[l].is_monitored=0===e.is_monitored?1:0,ue.value++,W.success(h("success"))})).catch((e=>{W.error(String(e))}))}}),1e3);function ke(e){he.value=e<=20,e<=20&&!oe.value.loaded&&!oe.value.finished&&be()}U([()=>me],(()=>{oe.value={...F,pageSize:50},be()}),{deep:!0});const be=H((function(){if(1===oe.value.pageNO&&(_e.value=!0),oe.value.loaded)return;oe.value.loaded=!0;const e=oe.value.pageNO,l=oe.value.pageSize;O({...me,pageNO:e,pageSize:l}).then((a=>{var t,o;const s=(null==a?void 0:a.data)||[];Array.isArray(s)&&(null==s?void 0:s.length)>0?(1===e?(re.value=s.map((e=>({...e,index:`${e.user_address}-${e.user_chain}`,group_id:me.group}))),_e.value=!1):re.value=[...re.value].concat(null==(o=null==(t=s.filter)?void 0:t.call(s,(e=>{var l,a;return null==(a=null==(l=re.value)?void 0:l.every)?void 0:a.call(l,(l=>l.index!==`${e.user_address}-${e.user_chain}`))})))?void 0:o.map((e=>({...e,index:`${e.user_address}-${e.user_chain}`,group_id:me.group})))),oe.value.finished=(null==s?void 0:s.length)<l,oe.value.finished||oe.value.pageNO++):(1===e&&(re.value=[]),oe.value.finished=!0)})).finally((()=>{setTimeout((()=>{_e.value=!1,oe.value.loaded=!1,he.value=!1}),200)}))}),500);const ze=r((()=>[{title:h("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:125},{title:h("addrGroup"),dataKey:"group",key:"group",minWidth:90,align:"right"},{title:h("chain"),dataKey:"chain",key:"chain",align:"right",minWidth:55},{title:h("operate"),dataKey:"operate",key:"operate",align:"right",minWidth:40}]));return(e,l)=>{const a=$e,t=Ve,o=I,s=T,r=Y,n=J,h=p,j=we,A=Ue,S=v;return u(),b("div",null,[y("div",Fe,[f(t,{modelValue:_(te),"onUpdate:modelValue":l[0]||(l[0]=e=>L(te)?te.value=e:null),style:{"--el-fill-color-blank":"var(--dialog-list-hover)"},mode:_(C),onClick:l[1]||(l[1]=g((()=>{}),["stop"])),onChange:l[2]||(l[2]=e=>function(e){me.group=e}(e))},{default:c((()=>[(u(),d(a,{key:0,value:0,label:e.$t("defaultGroup"),class:"[&&]:h-20px [&&]:lh-20px [&&]:text-10px"},null,8,["label"])),(u(!0),b(V,null,$(_(ce),(e=>(u(),d(a,{key:e.group_id,label:e.name,value:e.group_id,class:"[&&]:h-20px [&&]:lh-20px [&&]:text-10px"},null,8,["label","value"])))),128))])),_:1},8,["modelValue","mode"]),f(s,{ref_key:"addButtonRef",ref:le,class:"dialog-button",style:{height:"32px",padding:"8px 10px !important","font-size":"12px"}},{default:c((()=>[f(o,{name:"ic:baseline-person-add-alt-1",class:"text-12px mr-5px"}),z(" "+k(e.$t("addWallet")),1)])),_:1},512),f(s,{class:"dialog-button",style:{height:"32px",padding:"8px 10px !important","margin-left":"0px","font-size":"12px"},onClick:l[3]||(l[3]=g((e=>ie.value=!0),["stop","prevent"]))},{default:c((()=>[f(o,{name:"mingcute:new-folder-fill",class:"text-12px mr-5px"}),z(" "+k(e.$t("bulkImport")),1)])),_:1})]),m((u(),b("div",He,[f(j,{ref:"aveTableRef",rowKey:"index",fixed:"",data:_(re),showFooter:_(he),footText:_(ge),columns:_(ze),headerHeight:36,rowHeight:40,headerClass:"bg-transparent",style:M({height:w.scrollHeight-50+"px","--el-table-bg-color":"transparent",overflow:"visible",paddingBottom:_(he)?"20px":"0px"}),"row-class":"cursor-pointer group",rowEventHandlers:{onClick:({rowData:e})=>{return l=e,void x.push({path:`/address/${l.user_address}/${l.user_chain}`});var l}},onEndReached:ke},{"header-wallet":c((()=>[y("span",null,k(e.$t("wallet")),1)])),"cell-wallet":c((({row:e})=>[(u(),d(r,{key:e.user_address+e.user_chain,class:"mr-10px",wallet_logo:e.wallet_logo,address:e.user_address,chain:e.user_chain,iconSize:"24px"},null,8,["wallet_logo","address","chain"])),y("div",null,[(u(),d(n,{key:e.user_address+e.user_chain,remark:e.remark,address:e.user_address,chain:e.user_chain,addressClass:"token-symbol ellipsis",addressStyle:"max-width: 60px;font-size: 14px;color:var(--main-text)",iconEditColor:"var(--third-text)",iconEditSize:"10px",showAddressTitle:""},null,8,["remark","address","chain"]))])])),"header-group":c((()=>[y("span",null,k(e.$t("addrGroup")),1)])),"cell-group":c((({row:o})=>[f(t,{modelValue:o.group_id,"onUpdate:modelValue":e=>o.group_id=e,size:"small","suffix-icon":Ce,filterable:"","popper-class":"w-addrGroup",class:"[&&]:[--el-text-color-regular:--main-text] [&&]:[--el-fill-color-blank:--dialog-list-hover]",onClick:l[4]||(l[4]=g((()=>{}),["stop"])),onChange:e=>(async(e,l)=>{oe.value={...F,pageSize:50},await Z({user_chain:l.user_chain,user_address:l.user_address,group:e}),ue.value++,be()})(e,o)},{default:c((()=>[(u(),d(a,{key:0,value:0,label:e.$t("defaultGroup"),filterable:"",class:"[&&]:h-20px [&&]:lh-20px [&&]:text-10px"},null,8,["label"])),(u(!0),b(V,null,$(_(ce),(e=>(u(),d(a,{key:e.group_id,label:e.name,value:e.group_id,class:"[&&]:h-20px [&&]:lh-20px [&&]:text-10px"},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])),"header-chain":c((()=>[y("span",null,k(e.$t("chain")),1),f(h,{visible:_(ee),"onUpdate:visible":l[5]||(l[5]=e=>L(ee)?ee.value=e:null),"popper-style":"width: 133px;min-width: 133px;",trigger:"click"},{reference:c((()=>[f(o,{id:"custom-filter",name:"custom:filter",style:M({color:"AllChains"!==_(me).user_chain?"var(--secondary-text)":"var(--third-text)"}),class:"text-10px cursor-pointer ml-2px"},null,8,["style"])])),default:c((()=>[y("ul",null,[(u(!0),b(V,null,$(_(Q),(e=>(u(),b("li",{key:e.value,class:"rounded-2px hover:bg-[--dialog-list-hover] h-26px! flex! items-center! font-500! text-14px! lh-20px! clickable px-8px py-5px",onClick:g((l=>{_(me).user_chain=e.value,se.value=e.value,ee.value=!1}),["stop"])},["AllChains"==e.value?(u(),d(o,{key:0,name:"icon-park-outline:link-one",class:"text-15px mr-4px rd-50%"})):(u(),b("img",{key:1,src:`${_(N)}chain/${null==e?void 0:e.id}.png`,class:"rd-50% mr-4px",width:"16",lazy:"",alt:""},null,8,We)),y("span",null,k(e.label),1)],8,Re)))),128))])])),_:1},8,["visible"])])),"cell-chain":c((({row:l})=>[y("span",Ke,k(("getChainInfo"in e?e.getChainInfo:_(i))(l.user_chain).name),1)])),"header-operate":c((()=>[y("span",null,k(e.$t("operate")),1)])),"cell-operate":c((({row:a,rowIndex:t})=>[y("div",{class:"flex justify-end items-center",onClick:l[6]||(l[6]=g((()=>{}),["stop"]))},[("SupportMonitorChain"in e?e.SupportMonitorChain:_(D)).includes(null==a?void 0:a.user_chain)?(u(),b("div",{key:0,class:"flex items-center mr-4px cursor-pointer color-[--third-text]",onClick:g((e=>_(ye)(a,t)),["stop","prevent"])},[f(o,{name:"custom:monitor-icon",class:"text-14px mr-2px color-[--third-text] group-hover:color-[--primary-color]"})],8,Pe)):(u(),b("div",qe,[f(o,{name:"custom:monitor-icon",class:"text-14px mr-2px color-[--third-text]"})])),f(o,{name:"bx:bxs-trash-alt",class:"text-13px color-[--third-text]",onClick:g((e=>_(xe)(a)),["stop","prevent"])},null,8,["onClick"])])])),_:1},8,["data","showFooter","footText","columns","style","rowEventHandlers"])])),[[S,_(_e)]]),_(le)?(u(),d(A,{key:0,ref_key:"addFavAddressPopRef",ref:ae,buttonRef:_(le),onOnConfirm:fe},null,8,["buttonRef"])):G("",!0)])}}}),[["__scopeId","data-v-afdbed54"]]),Ge=e({__name:"quickBuyInput",props:{modelValue:{type:String,default:"0.01"},size:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,t=l,o=r({get:()=>a.modelValue,set(e){t("update:modelValue",e)}});function s(e){o.value=e.replace(/-|[^\d.]/g,"")}function n(){var e;const l=null==(e=new Q(o.value||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,4})?")))?void 0:e[0];String(o.value)!==String(l)&&(""===o.value?o.value="":0===Number(l)?o.value="0":o.value=l||"0")}return(l,a)=>{const t=I,r=C;return u(),d(r,{modelValue:_(o),"onUpdate:modelValue":a[0]||(a[0]=e=>L(o)?o.value=e:null),modelModifiers:{trim:!0},size:e.size,clearable:"",placeholder:"0",class:"[&&]:[--el-input-bg-color:--dialog-list-hover] [--el-component-size-small:22px] [&&]:[--el-input-width:88px] [--el-text-color-regular:--secondary-text] [--el-input-icon-color:--secondary-text] [--el-text-color-placeholder:--secondary-text] [--el-border-color:transparent]",onInput:s,onBlur:n},{prefix:c((()=>[f(t,{name:"mynaui:lightning-solid"})])),_:1},8,["modelValue","size"])}}}),Le=e({__name:"checkboxGroup",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]},inline:{type:Boolean,default:!1},all:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,o=r({get:()=>t.modelValue,set:e=>s("update:modelValue",e)}),s=l,n=a(!1),i=a(!0),p=e=>{o.value=e?t.options.map((e=>e.value)):[],i.value=!1},m=e=>{if(!t.all)return;const l=e.length;n.value=l===t.options.length,i.value=l>0&&l<t.options.length};return(e,l)=>{const a=ee,s=le;return u(),b(V,null,[t.options.length&&t.all?(u(),d(a,{key:0,modelValue:_(n),"onUpdate:modelValue":l[0]||(l[0]=e=>L(n)?n.value=e:null),indeterminate:_(i),disabled:_(n),onChange:p},{default:c((()=>[z(k(e.$t("all")),1)])),_:1},8,["modelValue","indeterminate","disabled"])):G("",!0),f(s,{modelValue:_(o),"onUpdate:modelValue":l[1]||(l[1]=e=>L(o)?o.value=e:null),min:1,class:ae([t.inline?"flex flex-row":"flex flex-col"]),onChange:m},{default:c((()=>[(u(!0),b(V,null,$(t.options,(e=>(u(),d(a,{key:e.value,label:e.label,value:e.value},{default:c((()=>[z(k(e.label),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue","class"])],64)}}}),Ie=e({__name:"filterType",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,t=r({get:()=>a.modelValue,set:e=>o("update:modelValue",e)}),o=l;return(e,l)=>{const o=I,s=Le,r=ze;return u(),d(r,{trigger:"click","popper-class":"w-filterType"},{dropdown:c((()=>[f(s,{modelValue:_(t),"onUpdate:modelValue":l[0]||(l[0]=e=>L(t)?t.value=e:null),options:a.options},null,8,["modelValue","options"])])),default:c((()=>[f(o,{id:"custom-filter",name:"custom:filter",class:"text-12px cursor-pointer color-[--secondary-text]"})])),_:1})}}}),Me={class:"text-12px mt-10px color-[--third-text]"},De={key:0,class:"text-12px m-table","element-loading-background":"transparent"},Ye={key:0,class:"color-[--yellow] text-12px"},Je={key:1,class:"color-[--third-text] text-12px"},Xe={key:1,class:"color-[--third-text] text-12px"},Ze={key:0,src:"https://www.iconaves.com/signals/pump_king.png",style:{width:"12px",height:"12px"}},Qe={key:1,class:"text-12px m-table","element-loading-background":"transparent"},el={class:"flex-between w-100%"},ll={class:"flex-start gap-8px"},al={class:"flex flex-col w-100% gap-8px"},tl={class:"flex-between"},ol={class:"flex-between"},sl={class:"flex-start gap-4px"},rl={class:"color-[--third-text]"},nl={class:"color-[--main-text]"},il={key:0,src:"https://www.iconaves.com/signals/pump_king.png",style:{width:"12px",height:"12px"}},dl={class:"color-[--third-text]"},ul={class:"color-[--main-text]"},pl={key:0,class:"color-[--yellow] text-12px"},cl={key:1,class:"color-[--third-text] text-12px"},ml={key:1,class:"color-[--third-text] text-12px"},vl={class:"text-12px mt-10px"},_l={class:"m-op flex-end gap-8px w-100% h-100%"},hl=N(e({__name:"index",props:{scrollHeight:{type:Number,default:0},isLarge:{type:Boolean,default:!1}},setup(e){const{t:n}=l(),{hasRing:i,monitorList2:p,visible:h,activeName:x,txType:w,isLeftFixed:$,isRightFixed:C}=t(Te()),{updateNum3:j}=t(o()),{isDark:N}=t(s()),A=e,S=a([]),F=a(!1),R=B(),W=te(),K=a(null),P=a(!0),q=a(),O=a(!1),D=a(),Y=oe("quickBuyValue","0.01"),Z=r((()=>[{label:n("buy"),value:0},{label:n("sell"),value:1}])),ee=r((()=>({scrollHeight:A.scrollHeight})));function le(e){1===e&&ze()}function Ve(e,l,a){var t;X({address:R.evmAddress,user_chain:null==(t=null==e?void 0:e.user_chain)?void 0:t.id,user_address:null==e?void 0:e.address,remark:null==e?void 0:e.remark,group:null==e?void 0:e.group_id,is_monitored:0}).then((()=>{var e,t;null==l||l(),null==a||a(),null==(t=null==(e=D.value)?void 0:e.close)||t.call(e),j.value++})).catch((e=>{}))}E((async()=>{se((()=>{})),je()})),U((()=>w.value),(e=>{const l=[];e.includes(0)&&l.push("buy"),e.includes(1)&&l.push("sell"),re(l).then((()=>{Ne()}))})),U((()=>h.value),(e=>{e&&1===x.value&&(ze(),se((()=>{!P.value&&K.value&&K.value.scrollToTop(0),P.value=!1})))}));const $e=r((()=>A.isLarge?[{title:n("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:125},{title:n("type"),dataKey:"type",key:"type",minWidth:110,align:"right"},{title:n("value"),dataKey:"amount",key:"amount",align:"right",minWidth:80},{title:n("token"),dataKey:"symbol",key:"symbol",align:"right",minWidth:150},{title:n("mcap"),dataKey:"mc",key:"mc",align:"right",minWidth:70},{title:n("time"),dataKey:"time",key:"time",align:"right",minWidth:40},{title:"",dataKey:"operate",key:"operate",align:"right",minWidth:100}]:[{title:n("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:240}]));U((()=>W.wsResult[ne.MONITOR]),(e=>{Ce(e),h.value&&1===x.value&&ze()}));const Ce=e=>{var l,a,t,o,s;if((null==e?void 0:e.length)>0){const r=(null==p?void 0:p.value)||[],n=[...(null==(t=null==(a=null==(l=null==e?void 0:e.filter)?void 0:l.call(e,(e=>!r.some((l=>l.id===e.id)))))?void 0:a.map)?void 0:t.call(a,(e=>({...e,...Be(e)}))))||[],...r];n.length>200&&(null==(o=null==n?void 0:n.splice)||o.call(n,100)),p.value.splice(0,null==(s=p.value)?void 0:s.length,...n)}},ze=H((function(){var e;h.value&&1===x.value&&S.value.splice(0,null==(e=S.value)?void 0:e.length,...p.value)}),500);function je(){Ne()}function Ne(){if(!R.evmAddress)return;F.value=!0;let e="";w.value.length!==Z.value.length&&(e=w.value.join(",")),ie(e?{filtered_type:e}:{}).then((e=>{var l;let a=e||(null==e?void 0:e.data)||[];const t=[],o={};a=Array.isArray(a)?a:[],null==(l=null==a?void 0:a.forEach)||l.call(a,(e=>{const l=JSON.parse(e.msg_content);o[l.id]||(t.push({...l,...Be(l)}),o[l.id]=!0)})),p.value=t.filter((e=>w.value.includes(e.tx_type))),ze()})).catch((e=>{})).finally((()=>{F.value=!1}))}function Ae(e){return void 0!==e.position_type?0===e.position_type||1===e.position_type:0===e.tx_type}function Se(e){if(void 0!==e.position_type){const l=[n("createPosition"),n("addPosition"),n("reducePosition"),n("closePosition")];return(null==l?void 0:l[Number(null==e?void 0:e.position_type)])||""}{const l=[n("buy"),n("sell")];return(null==l?void 0:l[Number(e.tx_type)])||""}}U((()=>R.evmAddress),(e=>{e?je():S.value=[]}));const Be=function(e){const l=Ae(e),a={...e,_marker:{maker_address:(null==e?void 0:e.maker_address)||(null==e?void 0:e.wallet_address),maker_alias:null==e?void 0:e.maker_alias,maker_logo:null==e?void 0:e.maker_logo,maker_tags:null==e?void 0:e.maker_tags,isBuy:l},_profit:"--"==(null==e?void 0:e.pnl_usd)?"--":"$"+ue(Math.abs((null==e?void 0:e.pnl_usd)||0)||0,2),_profit_ratio:"--"==(null==e?void 0:e.pnl_usd)?"--":ue(100*((null==e?void 0:e.pnl_ratio)||0)||0,2,4,4)+"%",_mc:Number(null==e?void 0:e.target_mcap)?"$"+de((null==e?void 0:e.target_mcap)||0,{decimals:0,limit:3}):"--",_type:Se(e),_rise:"--"==(null==e?void 0:e.pnl_usd)||(null==e?void 0:e.pnl_usd)>=0};return a._main_Token={amount:ue(e[l?"from_amount":"to_amount"]||0,1),price:"$"+ue(e[l?"from_price_usd":"to_price_usd"]||0),symbol:e[l?"from_symbol":"to_symbol"],total:"$"+ue(new Q(e[l?"from_amount":"to_amount"]||0).times(e[l?"from_price_usd":"to_price_usd"]||0).toFixed(0)||0,2,4,4),address:e[l?"from_address":"to_address"],tags:e[l?"from_tags":"to_tags"],signals:e[l?"from_signals":"to_signals"]},a._target_Token={amount:ue(e[l?"to_amount":"from_amount"]||0,1),price:"$"+ue(e[l?"to_price_usd":"from_price_usd"]||0),total:"",symbol:e[l?"to_symbol":"from_symbol"],address:e[l?"to_address":"from_address"],tags:e[l?"to_tags":"from_tags"],signals:e[l?"to_signals":"from_signals"],logo_url:e[l?"to_logo":"from_logo"]},a};function Ee(e,l){var a;l&&l.stopPropagation();const t=(null==e?void 0:e.chain)||"eth",o=(null==(a=null==e?void 0:e._marker)?void 0:a.maker_address)||(null==e?void 0:e.wallet_address);o&&ge(`/address/${o}/${t}`)}function Fe({e:e,rowData:l}){var a;e&&e.stopPropagation();const t=(null==(a=null==l?void 0:l._target_Token)?void 0:a.address)+"-"+l.chain;ge(`/token/${t}`,{replace:!0})}return(l,a)=>{const t=I,o=T,s=me,r=fe,n=J,p=ye,j=he,B=ve,E=ke,U=we,H=be,W=xe,P=Ue,X=v;return u(),b("div",{class:ae(["w-monitor bg-[--secondary-bg] w-100% h-100% pl-12px pr-6px relative overflow-hidden",{"pr-10px!":_($),"pl-10px!":_(C)}])},[f(t,{name:"custom:drag2",class:"absolute top-3px left-50% ml--6px text-6px bg-[--dialog-list-hover] drag-handle"}),f(W,{modelValue:_(x),"onUpdate:modelValue":a[12]||(a[12]=e=>L(x)?x.value=e:null),style:{},class:"m-tabs",onTabChange:le},{default:c((()=>[f(r,{label:l.$t("walletManage"),name:0,lazy:""},{default:c((()=>[_(R).evmAddress?(u(),d(Oe,pe(ce({key:0},_(ee))),null,16)):(u(),d(s,{key:1,style:M({height:A.scrollHeight-50+"px"}),class:"overflow-hidden"},{default:c((()=>[y("span",Me,k(l.$t("noBotWalletTip")),1),f(o,{type:"primary",class:"mt-10px",onClick:a[0]||(a[0]=e=>_(R).$patch({connectVisible:!0}))},{default:c((()=>[z(k(l.$t("connectWallet")),1)])),_:1})])),_:1},8,["style"]))])),_:1},8,["label"]),f(r,{label:l.$t("monitored"),name:1,lazy:""},{default:c((()=>[_(R).evmAddress?(u(),b(V,{key:0},[A.isLarge?m((u(),b("div",De,[f(U,{ref_key:"aveTableRef",ref:K,rowKey:"id",data:_(S),columns:_($e),fixed:"",style:M({height:A.scrollHeight+"px"}),"row-class":"cursor-pointer",rowEventHandlers:{onClick:e=>Fe(e)}},{"header-wallet":c((()=>[y("span",null,k(l.$t("wallet")),1)])),"cell-wallet":c((({row:e})=>[(u(),d(n,{key:e._marker.maker_address,address:e._marker.maker_address,chain:e.chain,remark:e.maker_alias||"",showIcon:!0,teleported:!0,wallet_logo:e.maker_logo?{logo:e.maker_logo,vip_logo:"https://www.iconaves.com/address_portrait/KOL_V.png"}:{},iconSize:"24px",formatAddress:e=>(null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4)),onUpdateRemark:Ne,onClick:l=>Ee(e,l)},null,8,["address","chain","remark","wallet_logo","formatAddress","onClick"]))])),"header-type":c((()=>[y("span",null,k(l.$t("type")),1)])),"cell-type":c((({row:e})=>[f(p,{type:e._marker.isBuy?"success":"danger"},{default:c((()=>[z(k(Se(e)),1)])),_:2},1032,["type"])])),"header-amount":c((()=>[y("span",null,k(l.$t("value")),1)])),"cell-amount":c((({row:e})=>{var l,a;return[y("span",{class:ae(Ae(e)?"color-[--up-color]":"color-[--down-color]}")},k(_(O)?null==e?void 0:e._main_Token.total:(null==(l=null==e?void 0:e._main_Token)?void 0:l.amount)+(null==(a=null==e?void 0:e._main_Token)?void 0:a.symbol)),3)]})),"header-mc":c((()=>[y("span",null,k(_(O)?l.$t("price"):l.$t("mcap")),1)])),"cell-mc":c((({row:e})=>{var l;return[y("span",null,k(_(O)?null==(l=null==e?void 0:e._target_Token)?void 0:l.price:null==e?void 0:e._mc),1)]})),"header-time":c((()=>[y("span",null,k(l.$t("time")),1)])),"cell-time":c((({row:e})=>[(null==e?void 0:e.time)&&Number(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))(null==e?void 0:e.time,!0))<60?(u(),d(j,{key:null==e?void 0:e.time,timestamp:null==e?void 0:e.time,"end-time":60},{default:c((({seconds:a})=>[a<60?(u(),b("span",Ye,k(a)+"s ",1)):(u(),b("span",Je,k(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))(null==e?void 0:e.time)),1))])),_:2},1032,["timestamp"])):(u(),b("div",Xe,k(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))(null==e?void 0:e.time)),1))])),"header-symbol":c((()=>[y("span",null,k(l.$t("token")),1)])),"cell-symbol":c((({row:e})=>{var l,a;return[f(B,{row:{logo_url:null==(l=null==e?void 0:e._target_Token)?void 0:l.logo_url,chain:null==e?void 0:e.chain},"token-class":"w-16px h-16px [&&]:mr-4px"},null,8,["row"]),y("span",null,k(null==(a=null==e?void 0:e._target_Token)?void 0:a.symbol),1),"pump"==(null==e?void 0:e.amm)?(u(),b("img",Ze)):G("",!0)]})),"header-operate":c((()=>a[13]||(a[13]=[y("span",null,null,-1)]))),"cell-operate":c((({row:e})=>{var l;return[f(E,{quickBuyValue:_(Y),row:{...e,target_token:null==e?void 0:e.target_address,token0_address:null==e?void 0:e.from_address,token1_address:null==e?void 0:e.to_address,symbol:null==(l=null==e?void 0:e._target_Token)?void 0:l.symbol},classNames:"min-w-70px h-24px!",mainNameVisible:""},null,8,["quickBuyValue","row"])]})),_:1},8,["data","columns","style","rowEventHandlers"])])),[[X,_(F)]]):m((u(),b("div",Qe,[f(U,{ref_key:"aveTableRef",ref:K,rowKey:"id",fixed:"",data:_(S),columns:_($e),headerHeight:54,rowHeight:70,headerClass:"bg-transparent",style:M({height:A.scrollHeight+"px","--el-table-border":"1px solid #333"}),"row-class":"cursor-pointer",rowEventHandlers:{onClick:e=>Fe(e)}},{"header-wallet":c((()=>[y("div",el,[y("div",ll,[f(Ie,{modelValue:_(w),"onUpdate:modelValue":a[1]||(a[1]=e=>L(w)?w.value=e:null),options:_(Z)},null,8,["modelValue","options"]),f(t,{name:"icon-park-solid:volume-notice",class:"color-[--secondary-text]"}),f(H,{modelValue:_(i),"onUpdate:modelValue":a[2]||(a[2]=e=>L(i)?i.value=e:null),size:"small"},null,8,["modelValue"]),f(p,{size:"small",class:"cursor-pointer w-55px",onClick:a[3]||(a[3]=e=>O.value=!_(O))},{default:c((()=>[z(k(_(O)?"C/MC":"U/Pri"),1),f(t,{name:"lsicon:switch-filled",class:"ml-4px text-12px"})])),_:1})]),f(Ge,{modelValue:_(Y),"onUpdate:modelValue":a[4]||(a[4]=e=>L(Y)?Y.value=e:null),size:"small"},null,8,["modelValue"])])])),"cell-wallet":c((({row:e})=>{var a,t,o,s,r,i;return[y("div",al,[y("div",tl,[(u(),d(n,{key:e._marker.maker_address,address:e._marker.maker_address,chain:e.chain,remark:e.maker_alias||"",showIcon:!0,teleported:!0,wallet_logo:e.maker_logo?{logo:e.maker_logo,vip_logo:"https://www.iconaves.com/address_portrait/KOL_V.png"}:{},iconSize:"24px",formatAddress:e=>(null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4)),onUpdateRemark:Ne,onClick:l=>Ee(e,l)},null,8,["address","chain","remark","wallet_logo","formatAddress","onClick"])),f(E,{quickBuyValue:_(Y),row:{...e,target_token:null==e?void 0:e.target_address,token0_address:null==e?void 0:e.from_address,token1_address:null==e?void 0:e.to_address,symbol:null==(a=null==e?void 0:e._target_Token)?void 0:a.symbol},classNames:"min-w-70px h-24px!",mainNameVisible:""},null,8,["quickBuyValue","row"])]),y("div",ol,[y("div",sl,[y("div",rl,k(Se(e)),1),y("span",{class:ae(Ae(e)?"color-[--up-color]":"color-[--down-color]")},k(_(O)?null==e?void 0:e._main_Token.total:(null==(t=null==e?void 0:e._main_Token)?void 0:t.amount)+(null==(o=null==e?void 0:e._main_Token)?void 0:o.symbol)),3),f(B,{row:{logo_url:null==(s=null==e?void 0:e._target_Token)?void 0:s.logo_url,chain:null==e?void 0:e.chain},"token-class":"w-16px h-16px [&&]:mr-4px"},null,8,["row"]),y("span",nl,k(null==(r=null==e?void 0:e._target_Token)?void 0:r.symbol),1),"pump"==(null==e?void 0:e.amm)?(u(),b("img",il)):G("",!0),y("span",dl,k(_(O)?l.$t("price"):l.$t("mcap")),1),y("span",ul,k(_(O)?null==(i=null==e?void 0:e._target_Token)?void 0:i.price:null==e?void 0:e._mc),1)]),(null==e?void 0:e.time)&&Number(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))(null==e?void 0:e.time,!0))<60?(u(),d(j,{key:null==e?void 0:e.time,timestamp:null==e?void 0:e.time,"end-time":60},{default:c((({seconds:a})=>[a<60?(u(),b("span",pl,k(a)+"s ",1)):(u(),b("span",cl,k(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))(null==e?void 0:e.time)),1))])),_:2},1032,["timestamp"])):(u(),b("div",ml,k(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))(null==e?void 0:e.time)),1))])])]})),_:1},8,["data","columns","style","rowEventHandlers"])])),[[X,_(F)]])],64)):(u(),d(s,{key:1,style:M({height:A.scrollHeight-50+"px"}),class:"overflow-hidden"},{default:c((()=>[y("span",vl,k(l.$t("noBotWalletTip")),1),f(o,{class:"mt-10px",onClick:a[5]||(a[5]=e=>_(R).$patch({connectVisible:!0}))},{default:c((()=>[z(k(l.$t("connectWallet")),1)])),_:1})])),_:1},8,["style"]))])),_:1},8,["label"]),f(r,{name:_(x)},{label:c((()=>a[14]||(a[14]=[y("div",{class:"cursor-move w-100% h-100% drag-handle"},null,-1)]))),_:1},8,["name"]),f(r,{name:_(x)},{label:c((()=>[y("div",_l,[1===_(x)&&A.isLarge?(u(),b(V,{key:0},[f(Ie,{modelValue:_(w),"onUpdate:modelValue":a[6]||(a[6]=e=>L(w)?w.value=e:null),options:_(Z)},null,8,["modelValue","options"]),f(t,{name:"icon-park-solid:volume-notice"}),f(H,{modelValue:_(i),"onUpdate:modelValue":a[7]||(a[7]=e=>L(i)?i.value=e:null),class:"[&&]:[--el-switch-on-color:--primary-color]",size:"small"},null,8,["modelValue"]),f(p,{size:"small",class:"cursor-pointer w-55px",onClick:a[8]||(a[8]=e=>O.value=!_(O))},{default:c((()=>[z(k(_(O)?"C/MC":"U/Pri"),1),f(t,{name:"lsicon:switch-filled",class:"ml-4px text-12px"})])),_:1})],64)):G("",!0),1===_(x)&&_(R).evmAddress?(u(),d(o,{key:1,ref:e=>q.value=e,size:"small",style:{height:"20px"},class:"dialog-button",dark:_(N)},{default:c((()=>[f(t,{name:"ic:baseline-person-add-alt-1",class:"text-12px mr-5px"}),z(" "+k(l.$t("addWallet")),1)])),_:1},8,["dark"])):G("",!0),1===_(x)&&e.isLarge?(u(),d(Ge,{key:2,modelValue:_(Y),"onUpdate:modelValue":a[9]||(a[9]=e=>L(Y)?Y.value=e:null),size:"small"},null,8,["modelValue"])):G("",!0),f(t,{class:"text-14px color-[--secondary-text] hover:color-[--main-text] cursor-pointer",name:"custom:pump-setting",onClick:a[10]||(a[10]=g((e=>("navigateTo"in l?l.navigateTo:_(ge))("/follow/addr",{replace:!0})),["stop","prevent"]))}),f(t,{name:"custom:close",class:"text-14px shrink-0 cursor-pointer color-[--main-text]",onClick:a[11]||(a[11]=g((e=>h.value=!1),["self"]))})])])),_:1},8,["name"])])),_:1},8,["modelValue"]),_(q)?(u(),d(P,{key:0,ref_key:"addFavAddressPopRef",ref:D,buttonRef:_(q),onOnConfirm:Ve},null,8,["buttonRef"])):G("",!0)],2)}}}),[["__scopeId","data-v-42cd7892"]]);export{hl as default};
