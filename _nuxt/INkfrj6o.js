import{f as t,z as e,P as l,K as n,bI as a,bD as i,bE as s,Q as o,J as u,r,g as p,bH as c,T as d,c as v,o as x,a as m,b as g,D as b,L as f,B as h,t as y,M as S,bO as k,i as w,s as $,w as B,F as _,C as T,S as V,G as A,bP as C,Z as F,U as L,bQ as q,d as Q,a0 as j,bR as M,bB as P,$ as D}from"./BY9EIVYr.js";import{S as U}from"./BdSP2G6B.js";const E={class:"items-center inline-flex"},G={class:"w-14px h-14px bg-[--secondary-text] rounded-full flex items-center justify-center"},H={class:"ml-5px mr-5px color-[--secondary-text] text-12px"},I=["src"],K={key:0,class:"ml-20px flex justify-end items-center text-12px"},N={class:"color-[--secondary-text] mr-5px"},O={class:"flex items-center justify-between p-1px rounded-4px text-12px h-28px bg-[--main-input-button-bg] px-2px py-2px"},R=["id","onClick","onMouseenter"],z={class:"text-14px mt-4px mb-4px flex-start"},J={key:0},Z={key:1},W={key:0,class:"text-14px mt-4px mb-4px flex-start"},X={key:1,class:"text-14px mt-4px mb-4px flex-start"},Y={class:"text-14px mt-4px mb-4px flex-start"},tt={class:"mr-4px color-[--third-text] text-14px"},et={class:"text-14px mt-4px mb-4px flex-start"},lt={class:"mr-4px color-[--third-text] text-14px"},nt=t({__name:"quickSwapSet",props:{chain:{},quickBuyValue:{default:"0.01"},showQuickAmount:{type:Boolean},settingsButtonVisible:{type:Boolean,default:!0}},emits:["update:quickBuyValue"],setup(t,{emit:nt}){e();const at=l(),it=n(),st=a(),ot=i(),ut=s(),rt=o(),pt=nt,ct=t,dt=u(0),vt=r(!1),xt=r("s1"),mt=r({}),gt=r(null),bt=p((()=>rt.provider&&rt.address&&!at.evmAddress)),ft=p((()=>ct.chain&&at.isSupportChains.includes(ct.chain)&&!bt.value)),ht=p((()=>ct.settingsButtonVisible&&!bt.value)),yt=p((()=>{var t,e;const l=ct.chain;if(!at.isSupportChains.includes(l))return"";const n=null==(e=null==(t=ot.botSettings)?void 0:t[l])?void 0:e[xt.value],a=null==n?void 0:n.mev,{gasTip1List:i,gasTip2List:s}=c(st.gasTip,l),o=a?i:s,u=a?0:1,r=null==n?void 0:n.gas[u];return(null==r?void 0:r.customFee)||(null==o?void 0:o[null==r?void 0:r.level])})),St=p({get:()=>ct.quickBuyValue,set(t){pt("update:quickBuyValue",t)}});function kt(t){t&&(null==t?void 0:t.id)&&(mt.value[null==t?void 0:t.id]=t)}function wt(t){xt.value=t,gt.value=mt.value[t]||null,vt.value=!0,function(){var t;const e=ct.chain;if(!q(e))return;null==(t=M(e))||t.getFeeData().then((t=>{t&&(dt.value=new j(t.gasPrice||0).toNumber())}))}()}function $t(){var t,e,l,n,a,i,s,o;const u=ct.chain;if(q(u)&&(null==(t=null==at?void 0:at.isSupportChains)?void 0:t.includes(u))){const t=null==(l=null==(e=ot.botSettings)?void 0:e[u])?void 0:l[xt.value],r=null==t?void 0:t.mev,p=(null==(a=null==(n=st.mainTokensPrice)?void 0:n.find((t=>{var e;return t.chain===u&&t.token===(null==(e=P(u))?void 0:e.wmain_wrapper)})))?void 0:a.current_price_usd)||ut.swap.native.price||0,{gasTip1List:d,gasTip2List:v}=c(st.gasTip,u),x=r?d:v,m=r?null==t?void 0:t.gas[0]:null==t?void 0:t.gas[1],g=(null==m?void 0:m.customFee)||(null==x?void 0:x[null==m?void 0:m.level])||"3",b=(null==(o=null==(s=null==(i=st.gasTip)?void 0:i.find)?void 0:s.call(i,(t=>t.chain===u&&t.mev===!!r)))?void 0:o.gasLimit)||2e5;return D(new j(dt.value).plus(new j(g).times(String(10**9))).times(b).times(p).div(String(10**18)).toFixed(),2)}return 0}return(t,e)=>{var l;const n=h,a=S,i=F,s=d("tooltip");return x(),v("div",E,[m("span",G,[g(n,{class:"color-[--main-bg] text-10px",name:"mynaui:lightning-solid"})]),m("span",H,y(t.$t("quick")),1),g(a,{modelValue:w(St),"onUpdate:modelValue":e[0]||(e[0]=t=>$(St)?St.value=t:null),modelModifiers:{trim:!0},style:{"--el-input-text-color":"var(--main-text)","border-radius":"4px",width:"88px",height:"28px"},placeholder:"0",clearable:"",type:"text",onInput:e[1]||(e[1]=t=>{St.value=t.replace(/\-|[^\d.]/g,"")}),onBlur:e[2]||(e[2]=t=>function(t){var e,l,n;const a=t,i=(null==(n=null==(l=null==(e=new j(a||0))?void 0:e.toFixed)?void 0:l.call(e).match(new RegExp("[0-9]*(\\.[0-9]{0,4})?")))?void 0:n[0])||"";String(a)!==String(i)&&(""===a?St.value="":0===Number(i)?St.value="0":St.value=i)}(w(St))),onKeydown:e[3]||(e[3]=k((t=>{var e;return null==(e=null==t?void 0:t.target)?void 0:e.blur()}),["enter"]))},{prefix:B((()=>[t.chain?(x(),v("img",{key:0,class:"rounded-full w-14px h-14px mr-4px!",src:`${w(it).token_logo_url}chain/${t.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,I)):b("",!0)])),_:1},8,["modelValue"]),w(ft)&&w(ht)?(x(),v("div",K,[m("span",N,y(t.$t("default")),1),m("div",O,[(x(!0),v(_,null,T("BotSettingsArr"in t?t.BotSettingsArr:w(C),(l=>{var n,a;return x(),v("button",{id:l.value,key:l.value,ref_for:!0,ref:kt,class:A(["cursor-pointer border-none font-400 rounded-4px min-w-36px py-5px px-10px text-center",""+(l.value===(null==(a=null==(n=w(ot).botSettings)?void 0:n[t.chain])?void 0:a.selected)?"color-[--main-text] bg-[--tab-active-bg]":"color-[--secondary-text] bg-transparent")]),type:"button",onClick:V((e=>w(ot).botSettings[t.chain].selected=l.value),["stop"]),onMouseenter:t=>wt(l.value),onMouseleave:e[4]||(e[4]=t=>vt.value=!1)},y(l.label),43,R)})),128))])])):b("",!0),w(ft)?(x(),f(U,{key:1,class:"ml-12px",chain:t.chain,setting:null==(l=w(ot))?void 0:l.botSettings[t.chain],showQuickAmount:t.showQuickAmount},null,8,["chain","setting","showQuickAmount"])):b("",!0),g(i,{visible:w(vt),"onUpdate:visible":e[5]||(e[5]=t=>$(vt)?vt.value=t:null),"popper-class":"new-popover","virtual-ref":w(gt),"virtual-triggering":"",trigger:"contextmenu",placement:"bottom"},{default:B((()=>{var e,l,a,i,o,u,r,p,c,d;return[m("ul",null,[m("li",z,[L(g(n,{name:"custom:slippage",class:"text-12px color-[--third-text] ml-0 mr-6px cursor-pointer"},null,512),[[s,t.$t("slippage")]]),"auto"!==(null==(a=null==(l=null==(e=w(ot).botSettings)?void 0:e[t.chain])?void 0:l[w(xt)])?void 0:a.slippage)?(x(),v("span",J,y(null==(u=null==(o=null==(i=w(ot).botSettings)?void 0:i[t.chain||""])?void 0:o[w(xt)])?void 0:u.slippage)+"%",1)):(x(),v("span",Z,y(t.$t("auto")),1))]),w(q)(t.chain||"")?(x(),v("li",W,[L(g(n,{name:"custom:gas",class:"text-12px color-[--third-text] ml-0 mr-6px cursor-pointer"},null,512),[[s,t.$t("estimatedGas")]]),m("span",null,"$"+y($t()),1)])):b("",!0),"solana"===t.chain?(x(),v("li",X,[L(g(n,{name:"custom:gas",class:"text-12px color-[--third-text] mr-6px cursor-pointer ml-0"},null,512),[[s,t.$t("priorityFee")]]),m("span",null,y(w(yt))+" SOL",1)])):b("",!0),m("li",Y,[m("span",tt,y(t.$t("autoSellHalf")),1),Q(" "+y((null==(r=w(ot).autoSellConfigs)?void 0:r.autoSell)?t.$t("on"):t.$t("off")),1)]),m("li",et,[m("span",lt,y(t.$t("mev")),1),Q(" "+y((null==(d=null==(c=null==(p=w(ot).botSettings)?void 0:p[t.chain])?void 0:c[w(xt)])?void 0:d.mev)?t.$t("on"):t.$t("off")),1)])])]})),_:1},8,["visible","virtual-ref"])])}}});export{nt as _};
